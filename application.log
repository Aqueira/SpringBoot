2024-12-06T12:34:31.964+01:00  INFO 8157 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 8157 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:34:31.967+01:00  INFO 8157 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:34:32.090+01:00  INFO 8157 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T12:34:32.090+01:00  INFO 8157 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T12:34:33.575+01:00  INFO 8157 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:34:33.668+01:00  INFO 8157 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 83 ms. Found 4 JPA repository interfaces.
2024-12-06T12:34:34.477+01:00  INFO 8157 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T12:34:34.501+01:00  INFO 8157 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T12:34:34.502+01:00  INFO 8157 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T12:34:34.532+01:00  INFO 8157 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T12:34:34.532+01:00  INFO 8157 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 2441 ms
2024-12-06T12:34:34.836+01:00  INFO 8157 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:34:34.907+01:00  INFO 8157 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:34:34.975+01:00  INFO 8157 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:34:35.339+01:00  INFO 8157 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:34:35.402+01:00  INFO 8157 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:34:35.879+01:00  INFO 8157 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@51c42b
2024-12-06T12:34:35.880+01:00  INFO 8157 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:34:35.902+01:00  WARN 8157 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:34:39.107+01:00  INFO 8410 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 8410 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:34:39.108+01:00  INFO 8410 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:34:39.134+01:00  INFO 8410 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T12:34:39.134+01:00  INFO 8410 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T12:34:39.570+01:00  INFO 8410 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:34:39.616+01:00  INFO 8410 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T12:34:40.154+01:00  INFO 8410 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T12:34:40.162+01:00  INFO 8410 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T12:34:40.163+01:00  INFO 8410 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T12:34:40.188+01:00  INFO 8410 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T12:34:40.189+01:00  INFO 8410 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1054 ms
2024-12-06T12:34:40.312+01:00  INFO 8410 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:34:40.341+01:00  INFO 8410 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:34:40.369+01:00  INFO 8410 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:34:40.542+01:00  INFO 8410 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:34:40.558+01:00  INFO 8410 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:34:40.740+01:00  INFO 8410 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@54f3e7cd
2024-12-06T12:34:40.741+01:00  INFO 8410 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:34:40.760+01:00  WARN 8410 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:34:41.383+01:00  INFO 8410 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:34:41.408+01:00 DEBUG 8410 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       alter column customer_id set data type bigint
2024-12-06T12:34:41.494+01:00 DEBUG 8410 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       alter column line_item_id set data type bigint
2024-12-06T12:34:41.620+01:00 DEBUG 8410 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists orders 
       alter column order_id set data type bigint
2024-12-06T12:34:41.687+01:00 DEBUG 8410 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column product_id set data type bigint
2024-12-06T12:34:41.745+01:00 DEBUG 8410 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column price set data type float(53)
2024-12-06T12:34:41.803+01:00 DEBUG 8410 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column user_id set data type bigint
2024-12-06T12:34:41.987+01:00 DEBUG 8410 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column password set data type varchar(255)
2024-12-06T12:34:42.149+01:00  INFO 8410 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:34:42.403+01:00  INFO 8410 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:34:43.206+01:00  WARN 8410 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:34:43.403+01:00 DEBUG 8410 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:34:43.548+01:00 DEBUG 8410 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:34:43.627+01:00 DEBUG 8410 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:34:43.657+01:00 DEBUG 8410 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:34:44.024+01:00  WARN 8410 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:34:44.072+01:00  INFO 8410 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T12:34:44.145+01:00  INFO 8410 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T12:34:44.148+01:00  INFO 8410 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:34:44.181+01:00  INFO 8410 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1596df21:0/SimpleConnection@6308b0b6 [delegate=amqp://guest@127.0.0.1:5672/, localPort=58796]
2024-12-06T12:34:44.218+01:00  INFO 8410 --- [restartedMain] org.example.Main                         : Started Main in 5.368 seconds (process running for 5.681)
2024-12-06T12:34:44.225+01:00  INFO 8410 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:34:45.211+01:00  INFO 8410 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:34:45.219+01:00  INFO 8410 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:34:45.237+01:00  INFO 8410 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:34:45.240+01:00  INFO 8410 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:35:54.809+01:00  INFO 9010 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 9010 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:35:54.811+01:00  INFO 9010 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:35:54.838+01:00  INFO 9010 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T12:35:54.838+01:00  INFO 9010 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T12:35:55.277+01:00  INFO 9010 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:35:55.329+01:00  INFO 9010 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T12:35:55.818+01:00  INFO 9010 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T12:35:55.826+01:00  INFO 9010 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T12:35:55.826+01:00  INFO 9010 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T12:35:55.853+01:00  INFO 9010 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T12:35:55.853+01:00  INFO 9010 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1014 ms
2024-12-06T12:35:55.972+01:00  INFO 9010 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:35:56.000+01:00  INFO 9010 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:35:56.024+01:00  INFO 9010 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:35:56.186+01:00  INFO 9010 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:35:56.203+01:00  INFO 9010 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:35:56.362+01:00  INFO 9010 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@15a928c6
2024-12-06T12:35:56.363+01:00  INFO 9010 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:35:56.380+01:00  WARN 9010 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:35:56.963+01:00  INFO 9010 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:35:57.021+01:00  INFO 9010 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:35:57.209+01:00  INFO 9010 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:35:57.764+01:00  WARN 9010 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:35:57.866+01:00 DEBUG 9010 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:35:57.903+01:00 DEBUG 9010 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:35:57.979+01:00 DEBUG 9010 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:35:58.016+01:00 DEBUG 9010 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:35:58.272+01:00  WARN 9010 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:35:58.310+01:00  INFO 9010 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T12:35:58.373+01:00  INFO 9010 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T12:35:58.376+01:00  INFO 9010 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:35:58.399+01:00  INFO 9010 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6373302e:0/SimpleConnection@58a61324 [delegate=amqp://guest@127.0.0.1:5672/, localPort=56434]
2024-12-06T12:35:58.428+01:00  INFO 9010 --- [restartedMain] org.example.Main                         : Started Main in 3.893 seconds (process running for 4.254)
2024-12-06T12:36:00.981+01:00  INFO 9010 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:36:01.422+01:00  INFO 9010 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:36:01.429+01:00  INFO 9010 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:36:01.431+01:00  INFO 9010 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:36:01.434+01:00  INFO 9010 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:36:53.652+01:00  INFO 9443 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 9443 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:36:53.654+01:00  INFO 9443 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:36:53.678+01:00  INFO 9443 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T12:36:53.678+01:00  INFO 9443 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T12:36:54.114+01:00  INFO 9443 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:36:54.168+01:00  INFO 9443 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 4 JPA repository interfaces.
2024-12-06T12:36:54.679+01:00  INFO 9443 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T12:36:54.688+01:00  INFO 9443 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T12:36:54.688+01:00  INFO 9443 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T12:36:54.713+01:00  INFO 9443 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T12:36:54.713+01:00  INFO 9443 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1035 ms
2024-12-06T12:36:54.841+01:00  INFO 9443 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:36:54.870+01:00  INFO 9443 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:36:54.894+01:00  INFO 9443 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:36:55.064+01:00  INFO 9443 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:36:55.081+01:00  INFO 9443 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:36:55.238+01:00  INFO 9443 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@54f3e7cd
2024-12-06T12:36:55.239+01:00  INFO 9443 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:36:55.257+01:00  WARN 9443 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:36:55.836+01:00  INFO 9443 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:36:55.893+01:00  INFO 9443 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:36:56.084+01:00  INFO 9443 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:36:56.637+01:00  WARN 9443 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:36:56.731+01:00 DEBUG 9443 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:36:56.767+01:00 DEBUG 9443 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:36:56.844+01:00 DEBUG 9443 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:36:56.872+01:00 DEBUG 9443 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:36:57.129+01:00  WARN 9443 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:36:57.169+01:00  INFO 9443 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T12:36:57.230+01:00  INFO 9443 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T12:36:57.233+01:00  INFO 9443 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:36:57.257+01:00  INFO 9443 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3b765716:0/SimpleConnection@328ae1c2 [delegate=amqp://guest@127.0.0.1:5672/, localPort=39608]
2024-12-06T12:36:57.288+01:00  INFO 9443 --- [restartedMain] org.example.Main                         : Started Main in 3.915 seconds (process running for 4.278)
2024-12-06T12:36:58.014+01:00  INFO 9443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:36:58.282+01:00  INFO 9443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:36:58.289+01:00  INFO 9443 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:36:58.291+01:00  INFO 9443 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:36:58.294+01:00  INFO 9443 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:38:30.254+01:00  INFO 9934 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 9934 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:38:30.255+01:00  INFO 9934 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:38:30.283+01:00  INFO 9934 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T12:38:30.283+01:00  INFO 9934 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T12:38:30.725+01:00  INFO 9934 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:38:30.785+01:00  INFO 9934 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 4 JPA repository interfaces.
2024-12-06T12:38:31.314+01:00  INFO 9934 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T12:38:31.323+01:00  INFO 9934 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T12:38:31.323+01:00  INFO 9934 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T12:38:31.349+01:00  INFO 9934 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T12:38:31.349+01:00  INFO 9934 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1066 ms
2024-12-06T12:38:31.472+01:00  INFO 9934 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:38:31.507+01:00  INFO 9934 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:38:31.533+01:00  INFO 9934 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:38:31.704+01:00  INFO 9934 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:38:31.721+01:00  INFO 9934 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:38:31.883+01:00  INFO 9934 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@54f3e7cd
2024-12-06T12:38:31.884+01:00  INFO 9934 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:38:31.901+01:00  WARN 9934 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:38:32.510+01:00  INFO 9934 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:38:32.569+01:00  INFO 9934 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:38:32.765+01:00  INFO 9934 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:38:33.352+01:00  WARN 9934 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:38:33.453+01:00 DEBUG 9934 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:38:33.491+01:00 DEBUG 9934 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:38:33.567+01:00 DEBUG 9934 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:38:33.595+01:00 DEBUG 9934 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:38:33.863+01:00  WARN 9934 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:38:33.904+01:00  INFO 9934 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T12:38:33.972+01:00  INFO 9934 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T12:38:33.975+01:00  INFO 9934 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:38:33.999+01:00  INFO 9934 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#104c3198:0/SimpleConnection@4aaffb7e [delegate=amqp://guest@127.0.0.1:5672/, localPort=40546]
2024-12-06T12:38:34.030+01:00  INFO 9934 --- [restartedMain] org.example.Main                         : Started Main in 4.076 seconds (process running for 4.39)
2024-12-06T12:38:34.032+01:00  INFO 9934 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:38:35.023+01:00  INFO 9934 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:38:35.030+01:00  INFO 9934 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:38:35.032+01:00  INFO 9934 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:38:35.036+01:00  INFO 9934 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:39:09.676+01:00  INFO 10387 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 10387 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:39:09.678+01:00  INFO 10387 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:39:09.713+01:00  INFO 10387 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T12:39:09.713+01:00  INFO 10387 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T12:39:10.159+01:00  INFO 10387 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:39:10.206+01:00  INFO 10387 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T12:39:10.695+01:00  INFO 10387 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T12:39:10.703+01:00  INFO 10387 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T12:39:10.703+01:00  INFO 10387 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T12:39:10.726+01:00  INFO 10387 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T12:39:10.727+01:00  INFO 10387 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1013 ms
2024-12-06T12:39:10.841+01:00  INFO 10387 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:39:10.869+01:00  INFO 10387 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:39:10.892+01:00  INFO 10387 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:39:11.069+01:00  INFO 10387 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:39:11.086+01:00  INFO 10387 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:39:11.250+01:00  INFO 10387 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@54f3e7cd
2024-12-06T12:39:11.251+01:00  INFO 10387 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:39:11.268+01:00  WARN 10387 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:39:11.870+01:00  INFO 10387 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:39:11.928+01:00  INFO 10387 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:39:12.120+01:00  INFO 10387 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:39:12.695+01:00  WARN 10387 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:39:12.798+01:00 DEBUG 10387 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:39:12.835+01:00 DEBUG 10387 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:39:12.915+01:00 DEBUG 10387 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:39:12.945+01:00 DEBUG 10387 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:39:13.219+01:00  WARN 10387 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:39:13.260+01:00  INFO 10387 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T12:39:13.324+01:00  INFO 10387 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T12:39:13.327+01:00  INFO 10387 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:39:13.350+01:00  INFO 10387 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#78a9d1d6:0/SimpleConnection@328ae1c2 [delegate=amqp://guest@127.0.0.1:5672/, localPort=34272]
2024-12-06T12:39:13.380+01:00  INFO 10387 --- [restartedMain] org.example.Main                         : Started Main in 4.029 seconds (process running for 4.397)
2024-12-06T12:39:13.384+01:00  INFO 10387 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:39:14.374+01:00  INFO 10387 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:39:14.380+01:00  INFO 10387 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:39:14.383+01:00  INFO 10387 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:39:14.386+01:00  INFO 10387 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:41:11.269+01:00  INFO 10839 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 10839 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:41:11.271+01:00  INFO 10839 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:41:11.307+01:00  INFO 10839 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T12:41:11.307+01:00  INFO 10839 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T12:41:11.778+01:00  INFO 10839 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:41:11.828+01:00  INFO 10839 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 4 JPA repository interfaces.
2024-12-06T12:41:12.382+01:00  INFO 10839 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T12:41:12.390+01:00  INFO 10839 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T12:41:12.391+01:00  INFO 10839 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T12:41:12.417+01:00  INFO 10839 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T12:41:12.417+01:00  INFO 10839 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1109 ms
2024-12-06T12:41:12.546+01:00  INFO 10839 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:41:12.576+01:00  INFO 10839 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:41:12.602+01:00  INFO 10839 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:41:12.777+01:00  INFO 10839 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:41:12.794+01:00  INFO 10839 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:41:12.961+01:00  INFO 10839 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@54f3e7cd
2024-12-06T12:41:12.962+01:00  INFO 10839 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:41:12.980+01:00  WARN 10839 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:41:13.586+01:00  INFO 10839 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:41:13.647+01:00  INFO 10839 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:41:13.844+01:00  INFO 10839 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:41:14.441+01:00  WARN 10839 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:41:14.543+01:00 DEBUG 10839 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:41:14.579+01:00 DEBUG 10839 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:41:14.659+01:00 DEBUG 10839 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:41:14.689+01:00 DEBUG 10839 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:41:14.959+01:00  WARN 10839 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:41:14.999+01:00  INFO 10839 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T12:41:15.064+01:00  INFO 10839 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T12:41:15.066+01:00  INFO 10839 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:41:15.090+01:00  INFO 10839 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3b765716:0/SimpleConnection@55417358 [delegate=amqp://guest@127.0.0.1:5672/, localPort=46030]
2024-12-06T12:41:15.119+01:00  INFO 10839 --- [restartedMain] org.example.Main                         : Started Main in 4.194 seconds (process running for 4.52)
2024-12-06T12:41:20.683+01:00  INFO 10839 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:41:21.113+01:00  INFO 10839 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:41:21.120+01:00  INFO 10839 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:41:21.123+01:00  INFO 10839 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:41:21.127+01:00  INFO 10839 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:42:37.718+01:00  INFO 11262 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 11262 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:42:37.720+01:00  INFO 11262 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:42:37.762+01:00  INFO 11262 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T12:42:37.762+01:00  INFO 11262 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T12:42:38.246+01:00  INFO 11262 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:42:38.299+01:00  INFO 11262 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 4 JPA repository interfaces.
2024-12-06T12:42:38.809+01:00  INFO 11262 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T12:42:38.819+01:00  INFO 11262 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T12:42:38.819+01:00  INFO 11262 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T12:42:38.843+01:00  INFO 11262 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T12:42:38.843+01:00  INFO 11262 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1080 ms
2024-12-06T12:42:38.957+01:00  INFO 11262 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:42:38.984+01:00  INFO 11262 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:42:39.009+01:00  INFO 11262 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:42:39.170+01:00  INFO 11262 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:42:39.187+01:00  INFO 11262 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:42:39.343+01:00  INFO 11262 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@20e6e405
2024-12-06T12:42:39.344+01:00  INFO 11262 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:42:39.361+01:00  WARN 11262 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:42:39.954+01:00  INFO 11262 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:42:40.013+01:00  INFO 11262 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:42:40.200+01:00  INFO 11262 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:42:40.771+01:00  WARN 11262 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:42:40.868+01:00 DEBUG 11262 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:42:40.905+01:00 DEBUG 11262 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:42:40.985+01:00 DEBUG 11262 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:42:41.013+01:00 DEBUG 11262 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:42:41.279+01:00  WARN 11262 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:42:41.320+01:00  INFO 11262 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T12:42:41.383+01:00  INFO 11262 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T12:42:41.386+01:00  INFO 11262 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:42:41.410+01:00  INFO 11262 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6e2433a2:0/SimpleConnection@295022b2 [delegate=amqp://guest@127.0.0.1:5672/, localPort=34114]
2024-12-06T12:42:41.440+01:00  INFO 11262 --- [restartedMain] org.example.Main                         : Started Main in 4.028 seconds (process running for 4.356)
2024-12-06T12:42:41.444+01:00  INFO 11262 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:42:42.434+01:00  INFO 11262 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:42:42.441+01:00  INFO 11262 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:42:42.443+01:00  INFO 11262 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:42:42.446+01:00  INFO 11262 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:46:15.142+01:00  INFO 12309 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 12309 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:46:15.144+01:00  INFO 12309 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:46:15.168+01:00  INFO 12309 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T12:46:15.169+01:00  INFO 12309 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T12:46:15.605+01:00  INFO 12309 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:46:15.660+01:00  INFO 12309 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 4 JPA repository interfaces.
2024-12-06T12:46:16.185+01:00  INFO 12309 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T12:46:16.195+01:00  INFO 12309 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T12:46:16.195+01:00  INFO 12309 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T12:46:16.221+01:00  INFO 12309 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T12:46:16.221+01:00  INFO 12309 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1052 ms
2024-12-06T12:46:16.352+01:00  INFO 12309 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:46:16.380+01:00  INFO 12309 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:46:16.406+01:00  INFO 12309 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:46:16.575+01:00  INFO 12309 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:46:16.594+01:00  INFO 12309 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:46:16.758+01:00  INFO 12309 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@54f3e7cd
2024-12-06T12:46:16.759+01:00  INFO 12309 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:46:16.776+01:00  WARN 12309 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:46:17.384+01:00  INFO 12309 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:46:17.445+01:00  INFO 12309 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:46:17.631+01:00  INFO 12309 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:46:18.217+01:00  WARN 12309 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:46:18.320+01:00 DEBUG 12309 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:46:18.353+01:00 DEBUG 12309 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:46:18.424+01:00 DEBUG 12309 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:46:18.452+01:00 DEBUG 12309 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:46:18.727+01:00  WARN 12309 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:46:18.769+01:00  INFO 12309 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T12:46:18.833+01:00  INFO 12309 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T12:46:18.835+01:00  INFO 12309 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:46:18.858+01:00  INFO 12309 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3b765716:0/SimpleConnection@246aaf4d [delegate=amqp://guest@127.0.0.1:5672/, localPort=56764]
2024-12-06T12:46:18.887+01:00  INFO 12309 --- [restartedMain] org.example.Main                         : Started Main in 4.015 seconds (process running for 4.38)
2024-12-06T12:46:19.109+01:00  INFO 12309 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:46:19.881+01:00  INFO 12309 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:46:19.888+01:00  INFO 12309 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:46:19.890+01:00  INFO 12309 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:46:19.893+01:00  INFO 12309 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:51:40.377+01:00  INFO 13525 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 13525 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:51:40.379+01:00  INFO 13525 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:51:40.391+01:00 DEBUG 13525 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@4a3be6a5
2024-12-06T12:51:40.923+01:00  INFO 13525 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:51:40.977+01:00  INFO 13525 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2024-12-06T12:51:41.554+01:00  INFO 13525 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:51:41.587+01:00  INFO 13525 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:51:41.610+01:00  INFO 13525 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:51:41.808+01:00  INFO 13525 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:51:41.829+01:00  INFO 13525 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:51:42.045+01:00  INFO 13525 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@6104691c
2024-12-06T12:51:42.047+01:00  INFO 13525 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:51:42.070+01:00  WARN 13525 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:51:42.771+01:00  INFO 13525 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:51:42.852+01:00  INFO 13525 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:51:43.069+01:00  INFO 13525 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:51:43.808+01:00  WARN 13525 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:51:43.964+01:00 DEBUG 13525 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:51:44.130+01:00 DEBUG 13525 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:51:44.164+01:00 DEBUG 13525 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:51:44.192+01:00 DEBUG 13525 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:51:44.502+01:00  WARN 13525 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:51:44.553+01:00  INFO 13525 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T12:51:44.553+01:00  INFO 13525 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T12:51:44.554+01:00  INFO 13525 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T12:51:44.595+01:00  INFO 13525 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:51:44.621+01:00  INFO 13525 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7cb4fc46:0/SimpleConnection@60a4e124 [delegate=amqp://guest@127.0.0.1:5672/, localPort=40304]
2024-12-06T12:51:44.657+01:00  INFO 13525 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.493 seconds (process running for 5.341)
2024-12-06T12:51:45.285+01:00 DEBUG 13525 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T12:51:45.313+01:00 DEBUG 13525 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T12:51:45.423+01:00 DEBUG 13525 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T12:51:45.425+01:00 DEBUG 13525 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T12:51:45.503+01:00 DEBUG 13525 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T12:51:45.505+01:00 DEBUG 13525 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T12:51:45.532+01:00 DEBUG 13525 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@4a3be6a5, started on Fri Dec 06 12:51:40 CET 2024
2024-12-06T12:51:45.537+01:00  INFO 13525 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:51:45.649+01:00  INFO 13525 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:51:45.661+01:00  INFO 13525 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:51:45.663+01:00  INFO 13525 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:51:45.667+01:00  INFO 13525 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:57:04.285+01:00  INFO 14344 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 14344 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:57:04.287+01:00  INFO 14344 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:57:04.297+01:00 DEBUG 14344 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T12:57:04.802+01:00  INFO 14344 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:57:04.861+01:00  INFO 14344 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 4 JPA repository interfaces.
2024-12-06T12:57:05.449+01:00  INFO 14344 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:57:05.483+01:00  INFO 14344 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:57:05.506+01:00  INFO 14344 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:57:05.702+01:00  INFO 14344 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:57:05.723+01:00  INFO 14344 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:57:05.940+01:00  INFO 14344 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@b68932b
2024-12-06T12:57:05.942+01:00  INFO 14344 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:57:05.967+01:00  WARN 14344 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:57:06.715+01:00  INFO 14344 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:57:06.781+01:00  INFO 14344 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:57:07.014+01:00  INFO 14344 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:57:07.795+01:00  WARN 14344 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:57:07.960+01:00 DEBUG 14344 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:57:08.100+01:00 DEBUG 14344 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:57:08.135+01:00 DEBUG 14344 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:57:08.166+01:00 DEBUG 14344 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:57:08.469+01:00  WARN 14344 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:57:08.517+01:00  INFO 14344 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T12:57:08.517+01:00  INFO 14344 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T12:57:08.519+01:00  INFO 14344 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T12:57:08.563+01:00  INFO 14344 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:57:08.591+01:00  INFO 14344 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#21e72fb2:0/SimpleConnection@5316255e [delegate=amqp://guest@127.0.0.1:5672/, localPort=47836]
2024-12-06T12:57:08.630+01:00  INFO 14344 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.549 seconds (process running for 5.245)
2024-12-06T12:57:09.167+01:00  WARN 14344 --- [Test worker] org.example.ProductTest                  : AuthenticationToAll(success) started!
2024-12-06T12:57:09.296+01:00 DEBUG 14344 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:09.304+01:00 DEBUG 14344 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:57:09.386+01:00 DEBUG 14344 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:09.503+01:00 DEBUG 14344 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:09.505+01:00 DEBUG 14344 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:57:09.510+01:00 DEBUG 14344 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:09.512+01:00 DEBUG 14344 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:57:09.552+01:00 DEBUG 14344 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#readAll()
2024-12-06T12:57:09.594+01:00  INFO 14344 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.product.controller.ProductController
	Args:readAll
2024-12-06T12:57:09.601+01:00 DEBUG 14344 --- [Test worker] org.hibernate.SQL                        : 
    select
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name 
    from
        products p1_0
2024-12-06T12:57:09.616+01:00  INFO 14344 --- [Test worker] org.example.logging.loggingAspect        : 
Result: <200 OK OK,[],[]>
	
2024-12-06T12:57:09.639+01:00 DEBUG 14344 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T12:57:09.640+01:00 DEBUG 14344 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [[]]
2024-12-06T12:57:09.698+01:00  WARN 14344 --- [Test worker] org.example.ProductTest                  : AuthenticationToAll(success) ended!
2024-12-06T12:57:09.713+01:00 DEBUG 14344 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 12:57:04 CET 2024
2024-12-06T12:57:09.717+01:00  INFO 14344 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:57:10.622+01:00  INFO 14344 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:57:10.629+01:00  INFO 14344 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:57:10.631+01:00  INFO 14344 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:57:10.634+01:00  INFO 14344 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:57:18.507+01:00  INFO 14593 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 14593 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:57:18.509+01:00  INFO 14593 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:57:18.522+01:00 DEBUG 14593 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T12:57:19.103+01:00  INFO 14593 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:57:19.155+01:00  INFO 14593 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T12:57:19.738+01:00  INFO 14593 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:57:19.772+01:00  INFO 14593 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:57:19.794+01:00  INFO 14593 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:57:19.991+01:00  INFO 14593 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:57:20.010+01:00  INFO 14593 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:57:20.225+01:00  INFO 14593 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@b68932b
2024-12-06T12:57:20.227+01:00  INFO 14593 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:57:20.247+01:00  WARN 14593 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:57:20.905+01:00  INFO 14593 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:57:20.973+01:00  INFO 14593 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:57:21.187+01:00  INFO 14593 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:57:21.952+01:00  WARN 14593 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:57:22.105+01:00 DEBUG 14593 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:57:22.234+01:00 DEBUG 14593 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:57:22.267+01:00 DEBUG 14593 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:57:22.297+01:00 DEBUG 14593 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:57:22.595+01:00  WARN 14593 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:57:22.643+01:00  INFO 14593 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T12:57:22.643+01:00  INFO 14593 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T12:57:22.644+01:00  INFO 14593 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T12:57:22.687+01:00  INFO 14593 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:57:22.712+01:00  INFO 14593 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3744c760:0/SimpleConnection@5c9cbc69 [delegate=amqp://guest@127.0.0.1:5672/, localPort=40988]
2024-12-06T12:57:22.746+01:00  INFO 14593 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.467 seconds (process running for 5.213)
2024-12-06T12:57:23.064+01:00  WARN 14593 --- [Test worker] org.example.ProductTest                  : AuthenticationToOne(abort) started!
2024-12-06T12:57:23.193+01:00 DEBUG 14593 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:23.202+01:00 DEBUG 14593 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:57:23.285+01:00 DEBUG 14593 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:23.359+01:00 DEBUG 14593 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:23.361+01:00 DEBUG 14593 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:57:23.369+01:00 DEBUG 14593 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:23.371+01:00 DEBUG 14593 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:57:23.384+01:00 DEBUG 14593 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#read(Long)
2024-12-06T12:57:23.417+01:00 DEBUG 14593 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T12:57:23.425+01:00 DEBUG 14593 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T12:57:23.426+01:00 DEBUG 14593 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T12:57:23.428+01:00 DEBUG 14593 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T12:57:23.434+01:00  WARN 14593 --- [Test worker] org.example.ProductTest                  : AuthenticationToOne(abort) ended!
2024-12-06T12:57:23.449+01:00 DEBUG 14593 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 12:57:18 CET 2024
2024-12-06T12:57:23.455+01:00  INFO 14593 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:57:23.740+01:00  INFO 14593 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:57:23.748+01:00  INFO 14593 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:57:23.749+01:00  INFO 14593 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:57:23.752+01:00  INFO 14593 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:57:39.118+01:00  INFO 14837 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 14837 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:57:39.120+01:00  INFO 14837 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:57:39.132+01:00 DEBUG 14837 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T12:57:39.646+01:00  INFO 14837 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:57:39.704+01:00  INFO 14837 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 4 JPA repository interfaces.
2024-12-06T12:57:40.263+01:00  INFO 14837 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:57:40.296+01:00  INFO 14837 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:57:40.317+01:00  INFO 14837 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:57:40.512+01:00  INFO 14837 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:57:40.531+01:00  INFO 14837 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:57:40.757+01:00  INFO 14837 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@b68932b
2024-12-06T12:57:40.759+01:00  INFO 14837 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:57:40.783+01:00  WARN 14837 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:57:41.463+01:00  INFO 14837 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:57:41.530+01:00  INFO 14837 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:57:41.749+01:00  INFO 14837 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:57:42.488+01:00  WARN 14837 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:57:42.649+01:00 DEBUG 14837 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:57:42.770+01:00 DEBUG 14837 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:57:42.811+01:00 DEBUG 14837 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:57:42.839+01:00 DEBUG 14837 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:57:43.127+01:00  WARN 14837 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:57:43.174+01:00  INFO 14837 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T12:57:43.174+01:00  INFO 14837 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T12:57:43.176+01:00  INFO 14837 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T12:57:43.216+01:00  INFO 14837 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:57:43.242+01:00  INFO 14837 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#21e72fb2:0/SimpleConnection@1d6daa8a [delegate=amqp://guest@127.0.0.1:5672/, localPort=39506]
2024-12-06T12:57:43.279+01:00  INFO 14837 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.38 seconds (process running for 5.172)
2024-12-06T12:57:43.612+01:00  WARN 14837 --- [Test worker] org.example.ProductTest                  : AuthenticationToCreate(success) started!
2024-12-06T12:57:43.737+01:00 DEBUG 14837 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:43.747+01:00 DEBUG 14837 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:57:43.832+01:00 DEBUG 14837 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:43.916+01:00 DEBUG 14837 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:43.918+01:00 DEBUG 14837 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:57:43.924+01:00 DEBUG 14837 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:57:43.926+01:00 DEBUG 14837 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:57:43.941+01:00 DEBUG 14837 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#create(RequestProductDTO)
2024-12-06T12:57:43.976+01:00 DEBUG 14837 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestProductDTO[productName=TestNameAborted, price=15.5]]
2024-12-06T12:57:44.000+01:00  INFO 14837 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.product.controller.ProductController
	Args:create
2024-12-06T12:57:44.009+01:00 DEBUG 14837 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        products
        (price, product_name) 
    values
        (?, ?) 
    returning product_id
2024-12-06T12:57:44.032+01:00  INFO 14837 --- [Test worker] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseProductDTO[id=1, productName=TestNameAborted, price=15.5],[]>
	
2024-12-06T12:57:44.038+01:00 DEBUG 14837 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T12:57:44.039+01:00 DEBUG 14837 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseProductDTO[id=1, productName=TestNameAborted, price=15.5]]
2024-12-06T12:57:44.047+01:00  WARN 14837 --- [Test worker] org.example.ProductTest                  : AuthenticationToCreate(success) ended!
2024-12-06T12:57:44.067+01:00 DEBUG 14837 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 12:57:39 CET 2024
2024-12-06T12:57:44.071+01:00  INFO 14837 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:57:44.269+01:00  INFO 14837 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:57:44.275+01:00  INFO 14837 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:57:44.277+01:00  INFO 14837 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:57:44.281+01:00  INFO 14837 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:58:04.664+01:00  INFO 15157 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 15157 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:58:04.666+01:00  INFO 15157 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:58:04.676+01:00 DEBUG 15157 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T12:58:05.148+01:00  INFO 15157 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:58:05.199+01:00  INFO 15157 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T12:58:05.754+01:00  INFO 15157 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:58:05.787+01:00  INFO 15157 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:58:05.808+01:00  INFO 15157 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:58:06.001+01:00  INFO 15157 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:58:06.021+01:00  INFO 15157 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:58:06.231+01:00  INFO 15157 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@b68932b
2024-12-06T12:58:06.233+01:00  INFO 15157 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:58:06.254+01:00  WARN 15157 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:58:06.926+01:00  INFO 15157 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:58:06.999+01:00  INFO 15157 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:58:07.247+01:00  INFO 15157 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:58:07.984+01:00  WARN 15157 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:58:08.141+01:00 DEBUG 15157 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:58:08.265+01:00 DEBUG 15157 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:58:08.298+01:00 DEBUG 15157 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:58:08.326+01:00 DEBUG 15157 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:58:08.673+01:00  WARN 15157 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:58:08.735+01:00  INFO 15157 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T12:58:08.735+01:00  INFO 15157 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T12:58:08.737+01:00  INFO 15157 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T12:58:08.788+01:00  INFO 15157 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:58:08.818+01:00  INFO 15157 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#d200d3e:0/SimpleConnection@685271b1 [delegate=amqp://guest@127.0.0.1:5672/, localPort=59886]
2024-12-06T12:58:08.855+01:00  INFO 15157 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.394 seconds (process running for 5.09)
2024-12-06T12:58:09.197+01:00  WARN 15157 --- [Test worker] org.example.ProductTest                  : AuthenticationToDelete(abort) started!
2024-12-06T12:58:09.334+01:00 DEBUG 15157 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:09.342+01:00 DEBUG 15157 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:58:09.429+01:00 DEBUG 15157 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:09.524+01:00 DEBUG 15157 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:09.526+01:00 DEBUG 15157 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:58:09.534+01:00 DEBUG 15157 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:09.537+01:00 DEBUG 15157 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:58:09.555+01:00 DEBUG 15157 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#delete(Long)
2024-12-06T12:58:09.593+01:00 DEBUG 15157 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T12:58:09.601+01:00 DEBUG 15157 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T12:58:09.602+01:00 DEBUG 15157 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T12:58:09.605+01:00 DEBUG 15157 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T12:58:09.610+01:00  WARN 15157 --- [Test worker] org.example.ProductTest                  : AuthenticationToDelete(abort) ended!
2024-12-06T12:58:09.629+01:00 DEBUG 15157 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 12:58:04 CET 2024
2024-12-06T12:58:09.633+01:00  INFO 15157 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:58:09.848+01:00  INFO 15157 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:58:09.855+01:00  INFO 15157 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:58:09.858+01:00  INFO 15157 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:58:09.862+01:00  INFO 15157 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:58:19.493+01:00  INFO 15404 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 15404 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:58:19.496+01:00  INFO 15404 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:58:19.511+01:00 DEBUG 15404 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T12:58:20.101+01:00  INFO 15404 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:58:20.166+01:00  INFO 15404 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 59 ms. Found 4 JPA repository interfaces.
2024-12-06T12:58:20.791+01:00  INFO 15404 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:58:20.826+01:00  INFO 15404 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:58:20.848+01:00  INFO 15404 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:58:21.084+01:00  INFO 15404 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:58:21.113+01:00  INFO 15404 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:58:21.435+01:00  INFO 15404 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@20171cdc
2024-12-06T12:58:21.437+01:00  INFO 15404 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:58:21.459+01:00  WARN 15404 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:58:22.197+01:00  INFO 15404 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:58:22.291+01:00  INFO 15404 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:58:22.541+01:00  INFO 15404 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:58:23.418+01:00  WARN 15404 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:58:23.597+01:00 DEBUG 15404 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:58:23.742+01:00 DEBUG 15404 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:58:23.779+01:00 DEBUG 15404 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:58:23.818+01:00 DEBUG 15404 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:58:24.164+01:00  WARN 15404 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:58:24.217+01:00  INFO 15404 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T12:58:24.218+01:00  INFO 15404 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T12:58:24.219+01:00  INFO 15404 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T12:58:24.274+01:00  INFO 15404 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:58:24.302+01:00  INFO 15404 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2182ebc7:0/SimpleConnection@74055597 [delegate=amqp://guest@127.0.0.1:5672/, localPort=55288]
2024-12-06T12:58:24.348+01:00 DEBUG 15404 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 12:58:19 CET 2024
2024-12-06T12:58:24.348+01:00  INFO 15404 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 5.101 seconds (process running for 5.865)
2024-12-06T12:58:24.352+01:00  INFO 15404 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:58:24.711+01:00  WARN 15404 --- [Test worker] org.example.ProductTest                  : AuthenticationToDelete(success) started!
2024-12-06T12:58:24.849+01:00 DEBUG 15404 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:24.863+01:00 DEBUG 15404 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:58:24.958+01:00 DEBUG 15404 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:25.077+01:00 DEBUG 15404 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:25.079+01:00 DEBUG 15404 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:58:25.088+01:00 DEBUG 15404 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:25.090+01:00 DEBUG 15404 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:58:25.107+01:00 DEBUG 15404 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#delete(Long)
2024-12-06T12:58:25.164+01:00  INFO 15404 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.product.controller.ProductController
	Args:delete
2024-12-06T12:58:25.177+01:00 DEBUG 15404 --- [Test worker] org.hibernate.SQL                        : 
    select
        p1_0.product_id,
        li1_0.line_item_id,
        o1_0.order_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version,
        o1_0.deliver_to,
        li1_0.quantity,
        p1_0.price,
        p1_0.product_name 
    from
        products p1_0 
    left join
        line_items li1_0 
            on p1_0.product_id=li1_0.product_id 
    left join
        orders o1_0 
            on o1_0.order_id=li1_0.order_id 
    left join
        customers c1_0 
            on c1_0.customer_id=o1_0.customer_id 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        p1_0.product_id=?
2024-12-06T12:58:25.184+01:00  INFO 15404 --- [Test worker] org.example.logging.loggingAspect        : 
Result: <200 OK OK,[]>
	
2024-12-06T12:58:25.191+01:00 DEBUG 15404 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T12:58:25.192+01:00 DEBUG 15404 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2024-12-06T12:58:25.201+01:00  WARN 15404 --- [Test worker] org.example.ProductTest                  : AuthenticationToDelete(success) ended!
2024-12-06T12:58:25.339+01:00  INFO 15404 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:58:25.350+01:00  INFO 15404 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:58:25.353+01:00  INFO 15404 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:58:25.365+01:00  INFO 15404 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:58:26.615+01:00  INFO 15675 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 15675 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:58:26.616+01:00  INFO 15675 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:58:26.630+01:00 DEBUG 15675 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T12:58:27.164+01:00  INFO 15675 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:58:27.216+01:00  INFO 15675 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T12:58:27.786+01:00  INFO 15675 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:58:27.820+01:00  INFO 15675 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:58:27.842+01:00  INFO 15675 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:58:28.034+01:00  INFO 15675 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:58:28.053+01:00  INFO 15675 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:58:28.272+01:00  INFO 15675 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@b68932b
2024-12-06T12:58:28.273+01:00  INFO 15675 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:58:28.295+01:00  WARN 15675 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:58:28.984+01:00  INFO 15675 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:58:29.050+01:00  INFO 15675 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:58:29.253+01:00  INFO 15675 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:58:30.047+01:00  WARN 15675 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:58:30.215+01:00 DEBUG 15675 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:58:30.353+01:00 DEBUG 15675 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:58:30.387+01:00 DEBUG 15675 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:58:30.418+01:00 DEBUG 15675 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:58:30.744+01:00  WARN 15675 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:58:30.792+01:00  INFO 15675 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T12:58:30.793+01:00  INFO 15675 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T12:58:30.794+01:00  INFO 15675 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T12:58:30.847+01:00  INFO 15675 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:58:30.889+01:00  INFO 15675 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#21e72fb2:0/SimpleConnection@2cdb1581 [delegate=amqp://guest@127.0.0.1:5672/, localPort=50638]
2024-12-06T12:58:30.946+01:00  INFO 15675 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.544 seconds (process running for 5.251)
2024-12-06T12:58:31.461+01:00  WARN 15675 --- [Test worker] org.example.ProductTest                  : AuthenticationToDelete(success) started!
2024-12-06T12:58:31.644+01:00 DEBUG 15675 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:31.674+01:00 DEBUG 15675 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:58:31.781+01:00 DEBUG 15675 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:31.869+01:00 DEBUG 15675 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:31.871+01:00 DEBUG 15675 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:58:31.878+01:00 DEBUG 15675 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:58:31.880+01:00 DEBUG 15675 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:58:31.897+01:00 DEBUG 15675 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#delete(Long)
2024-12-06T12:58:31.943+01:00  INFO 15675 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.product.controller.ProductController
	Args:delete
2024-12-06T12:58:31.952+01:00 DEBUG 15675 --- [Test worker] org.hibernate.SQL                        : 
    select
        p1_0.product_id,
        li1_0.line_item_id,
        o1_0.order_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version,
        o1_0.deliver_to,
        li1_0.quantity,
        p1_0.price,
        p1_0.product_name 
    from
        products p1_0 
    left join
        line_items li1_0 
            on p1_0.product_id=li1_0.product_id 
    left join
        orders o1_0 
            on o1_0.order_id=li1_0.order_id 
    left join
        customers c1_0 
            on c1_0.customer_id=o1_0.customer_id 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        p1_0.product_id=?
2024-12-06T12:58:31.967+01:00 DEBUG 15675 --- [Test worker] org.hibernate.SQL                        : 
    delete 
    from
        products 
    where
        product_id=?
2024-12-06T12:58:31.993+01:00  INFO 15675 --- [Test worker] org.example.logging.loggingAspect        : 
Result: <200 OK OK,[]>
	
2024-12-06T12:58:32.000+01:00 DEBUG 15675 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T12:58:32.000+01:00 DEBUG 15675 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2024-12-06T12:58:32.007+01:00  WARN 15675 --- [Test worker] org.example.ProductTest                  : AuthenticationToDelete(success) ended!
2024-12-06T12:58:32.024+01:00 DEBUG 15675 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 12:58:26 CET 2024
2024-12-06T12:58:32.028+01:00  INFO 15675 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:58:32.936+01:00  INFO 15675 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:58:32.942+01:00  INFO 15675 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:58:32.943+01:00  INFO 15675 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:58:32.946+01:00  INFO 15675 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:58:55.841+01:00  INFO 15990 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 15990 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:58:55.842+01:00  INFO 15990 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:58:55.856+01:00 DEBUG 15990 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T12:58:56.483+01:00  INFO 15990 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:58:56.537+01:00  INFO 15990 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 4 JPA repository interfaces.
2024-12-06T12:58:57.173+01:00  INFO 15990 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:58:57.208+01:00  INFO 15990 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:58:57.228+01:00  INFO 15990 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:58:57.419+01:00  INFO 15990 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:58:57.440+01:00  INFO 15990 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:58:57.646+01:00  INFO 15990 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@b68932b
2024-12-06T12:58:57.647+01:00  INFO 15990 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:58:57.666+01:00  WARN 15990 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:58:58.382+01:00  INFO 15990 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:58:58.446+01:00  INFO 15990 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:58:58.676+01:00  INFO 15990 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:58:59.449+01:00  WARN 15990 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:58:59.598+01:00 DEBUG 15990 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:58:59.721+01:00 DEBUG 15990 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:58:59.753+01:00 DEBUG 15990 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:58:59.783+01:00 DEBUG 15990 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:59:00.089+01:00  WARN 15990 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:59:00.137+01:00  INFO 15990 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T12:59:00.138+01:00  INFO 15990 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T12:59:00.139+01:00  INFO 15990 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T12:59:00.181+01:00  INFO 15990 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:59:00.206+01:00  INFO 15990 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5479abd8:0/SimpleConnection@6626137e [delegate=amqp://guest@127.0.0.1:5672/, localPort=38364]
2024-12-06T12:59:00.242+01:00  INFO 15990 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.679 seconds (process running for 5.395)
2024-12-06T12:59:00.585+01:00  WARN 15990 --- [Test worker] org.example.ProductTest                  : AuthenticationToCreate(success) started!
2024-12-06T12:59:00.715+01:00 DEBUG 15990 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:59:00.724+01:00 DEBUG 15990 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:59:00.810+01:00 DEBUG 15990 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:59:00.901+01:00 DEBUG 15990 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:59:00.903+01:00 DEBUG 15990 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:59:00.909+01:00 DEBUG 15990 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:59:00.911+01:00 DEBUG 15990 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:59:00.927+01:00 DEBUG 15990 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#create(RequestProductDTO)
2024-12-06T12:59:00.968+01:00 DEBUG 15990 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestProductDTO[productName=TestNameAborted, price=15.5]]
2024-12-06T12:59:00.998+01:00  INFO 15990 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.product.controller.ProductController
	Args:create
2024-12-06T12:59:01.008+01:00 DEBUG 15990 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        products
        (price, product_name) 
    values
        (?, ?) 
    returning product_id
2024-12-06T12:59:01.033+01:00  INFO 15990 --- [Test worker] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseProductDTO[id=2, productName=TestNameAborted, price=15.5],[]>
	
2024-12-06T12:59:01.040+01:00 DEBUG 15990 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T12:59:01.041+01:00 DEBUG 15990 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseProductDTO[id=2, productName=TestNameAborted, price=15.5]]
2024-12-06T12:59:01.050+01:00  WARN 15990 --- [Test worker] org.example.ProductTest                  : AuthenticationToCreate(success) ended!
2024-12-06T12:59:01.065+01:00 DEBUG 15990 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 12:58:55 CET 2024
2024-12-06T12:59:01.069+01:00  INFO 15990 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:59:01.235+01:00  INFO 15990 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:59:01.242+01:00  INFO 15990 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:59:01.243+01:00  INFO 15990 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:59:01.247+01:00  INFO 15990 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T12:59:07.376+01:00  INFO 16230 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 16230 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T12:59:07.378+01:00  INFO 16230 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T12:59:07.394+01:00 DEBUG 16230 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T12:59:07.939+01:00  INFO 16230 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T12:59:08.018+01:00  INFO 16230 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 4 JPA repository interfaces.
2024-12-06T12:59:08.667+01:00  INFO 16230 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T12:59:08.701+01:00  INFO 16230 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T12:59:08.723+01:00  INFO 16230 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T12:59:08.913+01:00  INFO 16230 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T12:59:08.933+01:00  INFO 16230 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T12:59:09.145+01:00  INFO 16230 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@b68932b
2024-12-06T12:59:09.146+01:00  INFO 16230 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T12:59:09.168+01:00  WARN 16230 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T12:59:09.906+01:00  INFO 16230 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T12:59:09.975+01:00  INFO 16230 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:59:10.203+01:00  INFO 16230 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T12:59:11.021+01:00  WARN 16230 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T12:59:11.184+01:00 DEBUG 16230 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T12:59:11.302+01:00 DEBUG 16230 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T12:59:11.331+01:00 DEBUG 16230 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T12:59:11.360+01:00 DEBUG 16230 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T12:59:11.657+01:00  WARN 16230 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T12:59:11.706+01:00  INFO 16230 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T12:59:11.706+01:00  INFO 16230 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T12:59:11.707+01:00  INFO 16230 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T12:59:11.747+01:00  INFO 16230 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T12:59:11.773+01:00  INFO 16230 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#21e72fb2:0/SimpleConnection@5c9cbc69 [delegate=amqp://guest@127.0.0.1:5672/, localPort=46416]
2024-12-06T12:59:11.816+01:00  INFO 16230 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.672 seconds (process running for 5.428)
2024-12-06T12:59:12.148+01:00  WARN 16230 --- [Test worker] org.example.ProductTest                  : AuthenticationToUpdate(success) started!
2024-12-06T12:59:12.271+01:00 DEBUG 16230 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:59:12.279+01:00 DEBUG 16230 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:59:12.360+01:00 DEBUG 16230 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:59:12.470+01:00 DEBUG 16230 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:59:12.473+01:00 DEBUG 16230 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:59:12.479+01:00 DEBUG 16230 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T12:59:12.481+01:00 DEBUG 16230 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T12:59:12.496+01:00 DEBUG 16230 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#update(Long, RequestProductDTO)
2024-12-06T12:59:12.531+01:00 DEBUG 16230 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestProductDTO[productName=PenisGambling, price=15.0]]
2024-12-06T12:59:12.552+01:00  INFO 16230 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.product.controller.ProductController
	Args:update
2024-12-06T12:59:12.561+01:00 DEBUG 16230 --- [Test worker] org.hibernate.SQL                        : 
    update
        products p1_0 
    set
        product_name=?,
        price=? 
    where
        p1_0.product_id=?
2024-12-06T12:59:12.572+01:00 DEBUG 16230 --- [Test worker] org.hibernate.SQL                        : 
    select
        p1_0.product_id,
        li1_0.line_item_id,
        o1_0.order_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version,
        o1_0.deliver_to,
        li1_0.quantity,
        p1_0.price,
        p1_0.product_name 
    from
        products p1_0 
    left join
        line_items li1_0 
            on p1_0.product_id=li1_0.product_id 
    left join
        orders o1_0 
            on o1_0.order_id=li1_0.order_id 
    left join
        customers c1_0 
            on c1_0.customer_id=o1_0.customer_id 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        p1_0.product_id=?
2024-12-06T12:59:12.591+01:00  INFO 16230 --- [Test worker] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseProductDTO[id=2, productName=PenisGambling, price=15.0],[]>
	
2024-12-06T12:59:12.599+01:00 DEBUG 16230 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T12:59:12.600+01:00 DEBUG 16230 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseProductDTO[id=2, productName=PenisGambling, price=15.0]]
2024-12-06T12:59:12.608+01:00  WARN 16230 --- [Test worker] org.example.ProductTest                  : AuthenticationToUpdate(success) ended!
2024-12-06T12:59:12.623+01:00 DEBUG 16230 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 12:59:07 CET 2024
2024-12-06T12:59:12.627+01:00  INFO 16230 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T12:59:12.806+01:00  INFO 16230 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T12:59:12.812+01:00  INFO 16230 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T12:59:12.814+01:00  INFO 16230 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T12:59:12.817+01:00  INFO 16230 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:03:14.919+01:00  INFO 16942 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 16942 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:03:14.920+01:00  INFO 16942 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:03:14.947+01:00  INFO 16942 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T13:03:14.948+01:00  INFO 16942 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T13:03:15.405+01:00  INFO 16942 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:03:15.459+01:00  INFO 16942 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 4 JPA repository interfaces.
2024-12-06T13:03:15.955+01:00  INFO 16942 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T13:03:15.964+01:00  INFO 16942 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T13:03:15.964+01:00  INFO 16942 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T13:03:15.992+01:00  INFO 16942 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T13:03:15.992+01:00  INFO 16942 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1044 ms
2024-12-06T13:03:16.108+01:00  INFO 16942 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:03:16.137+01:00  INFO 16942 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:03:16.164+01:00  INFO 16942 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:03:16.336+01:00  INFO 16942 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:03:16.353+01:00  INFO 16942 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:03:16.516+01:00  INFO 16942 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@15a928c6
2024-12-06T13:03:16.517+01:00  INFO 16942 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:03:16.538+01:00  WARN 16942 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:03:17.145+01:00  INFO 16942 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:03:17.204+01:00  INFO 16942 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:03:17.394+01:00  INFO 16942 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:03:17.971+01:00  WARN 16942 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:03:18.066+01:00 DEBUG 16942 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:03:18.100+01:00 DEBUG 16942 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:03:18.174+01:00 DEBUG 16942 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:03:18.203+01:00 DEBUG 16942 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:03:18.468+01:00  WARN 16942 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:03:18.509+01:00  INFO 16942 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T13:03:18.573+01:00  INFO 16942 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T13:03:18.575+01:00  INFO 16942 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:03:18.599+01:00  INFO 16942 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6373302e:0/SimpleConnection@2125b6c4 [delegate=amqp://guest@127.0.0.1:5672/, localPort=52658]
2024-12-06T13:03:18.628+01:00  INFO 16942 --- [restartedMain] org.example.Main                         : Started Main in 4.063 seconds (process running for 4.442)
2024-12-06T13:03:21.172+01:00  INFO 16942 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:03:21.622+01:00  INFO 16942 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:03:21.629+01:00  INFO 16942 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:03:21.631+01:00  INFO 16942 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:03:21.634+01:00  INFO 16942 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:12:25.443+01:00  INFO 19068 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 19068 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:12:25.444+01:00  INFO 19068 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:12:25.457+01:00 DEBUG 19068 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38
2024-12-06T13:12:26.018+01:00  INFO 19068 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:12:26.077+01:00  INFO 19068 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 4 JPA repository interfaces.
2024-12-06T13:12:26.649+01:00  INFO 19068 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:12:26.682+01:00  INFO 19068 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:12:26.705+01:00  INFO 19068 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:12:26.895+01:00  INFO 19068 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:12:26.917+01:00  INFO 19068 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:12:27.112+01:00  INFO 19068 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@434a8938
2024-12-06T13:12:27.113+01:00  INFO 19068 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:12:27.133+01:00  WARN 19068 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:12:27.785+01:00  INFO 19068 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:12:27.848+01:00  INFO 19068 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:12:28.060+01:00  INFO 19068 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:12:28.855+01:00  WARN 19068 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:12:29.068+01:00 DEBUG 19068 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:12:29.231+01:00 DEBUG 19068 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:12:29.265+01:00 DEBUG 19068 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:12:29.295+01:00 DEBUG 19068 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:12:29.576+01:00  WARN 19068 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:12:29.625+01:00  INFO 19068 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:12:29.625+01:00  INFO 19068 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:12:29.627+01:00  INFO 19068 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:12:29.667+01:00  INFO 19068 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:12:29.692+01:00  INFO 19068 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#589c648:0/SimpleConnection@6767f1c4 [delegate=amqp://guest@127.0.0.1:5672/, localPort=34228]
2024-12-06T13:12:29.730+01:00  INFO 19068 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 4.516 seconds (process running for 5.267)
2024-12-06T13:12:30.207+01:00 DEBUG 19068 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:12:30.216+01:00 DEBUG 19068 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:12:30.301+01:00 DEBUG 19068 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:12:30.379+01:00 DEBUG 19068 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:12:30.381+01:00 DEBUG 19068 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:12:30.387+01:00 DEBUG 19068 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:12:30.389+01:00 DEBUG 19068 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:12:30.401+01:00 DEBUG 19068 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:12:30.436+01:00 DEBUG 19068 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=GitlerCampot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, prod (truncated)...]
2024-12-06T13:12:30.462+01:00  INFO 19068 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:12:30.467+01:00 DEBUG 19068 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:12:30.491+01:00 ERROR 19068 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=GitlerCampot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=2]]]]
2024-12-06T13:12:30.493+01:00 DEBUG 19068 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:12:30.500+01:00 DEBUG 19068 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:12:30.501+01:00 DEBUG 19068 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:12:30.504+01:00 DEBUG 19068 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:12:30.530+01:00 DEBUG 19068 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38, started on Fri Dec 06 13:12:25 CET 2024
2024-12-06T13:12:30.534+01:00  INFO 19068 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:12:30.723+01:00  INFO 19068 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:12:30.729+01:00  INFO 19068 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:12:30.731+01:00  INFO 19068 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:12:30.735+01:00  INFO 19068 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:13:26.303+01:00  INFO 19507 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 19507 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:13:26.305+01:00  INFO 19507 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:13:26.319+01:00 DEBUG 19507 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38
2024-12-06T13:13:26.809+01:00  INFO 19507 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:13:26.861+01:00  INFO 19507 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T13:13:27.415+01:00  INFO 19507 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:13:27.452+01:00  INFO 19507 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:13:27.475+01:00  INFO 19507 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:13:27.670+01:00  INFO 19507 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:13:27.694+01:00  INFO 19507 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:13:27.889+01:00  INFO 19507 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@434a8938
2024-12-06T13:13:27.890+01:00  INFO 19507 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:13:27.911+01:00  WARN 19507 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:13:28.606+01:00  INFO 19507 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:13:28.671+01:00  INFO 19507 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:13:28.888+01:00  INFO 19507 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:13:29.620+01:00  WARN 19507 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:13:29.771+01:00 DEBUG 19507 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:13:29.892+01:00 DEBUG 19507 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:13:29.924+01:00 DEBUG 19507 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:13:29.954+01:00 DEBUG 19507 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:13:30.249+01:00  WARN 19507 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:13:30.297+01:00  INFO 19507 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:13:30.298+01:00  INFO 19507 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:13:30.299+01:00  INFO 19507 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:13:30.341+01:00  INFO 19507 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:13:30.366+01:00  INFO 19507 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#543895d2:0/SimpleConnection@347544b7 [delegate=amqp://guest@127.0.0.1:5672/, localPort=56176]
2024-12-06T13:13:30.400+01:00  INFO 19507 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 4.313 seconds (process running for 5.011)
2024-12-06T13:13:30.867+01:00 DEBUG 19507 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:13:30.874+01:00 DEBUG 19507 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:13:30.954+01:00 DEBUG 19507 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:13:31.034+01:00 DEBUG 19507 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:13:31.036+01:00 DEBUG 19507 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:13:31.042+01:00 DEBUG 19507 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:13:31.043+01:00 DEBUG 19507 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:13:31.055+01:00 DEBUG 19507 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:13:31.091+01:00 DEBUG 19507 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=GitlerCampot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, prod (truncated)...]
2024-12-06T13:13:31.120+01:00  INFO 19507 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:13:31.126+01:00 DEBUG 19507 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:13:31.139+01:00 ERROR 19507 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=GitlerCampot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=2]]]]
2024-12-06T13:13:31.142+01:00 DEBUG 19507 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:13:31.151+01:00 DEBUG 19507 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:13:31.152+01:00 DEBUG 19507 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:13:31.155+01:00 DEBUG 19507 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:13:31.191+01:00 DEBUG 19507 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38, started on Fri Dec 06 13:13:26 CET 2024
2024-12-06T13:13:31.197+01:00  INFO 19507 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:13:31.394+01:00  INFO 19507 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:13:31.401+01:00  INFO 19507 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:13:31.404+01:00  INFO 19507 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:13:31.408+01:00  INFO 19507 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:14:52.711+01:00  INFO 19999 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 19999 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:14:52.713+01:00  INFO 19999 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:14:52.724+01:00 DEBUG 19999 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38
2024-12-06T13:14:53.259+01:00  INFO 19999 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:14:53.311+01:00  INFO 19999 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T13:14:53.833+01:00  INFO 19999 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:14:53.866+01:00  INFO 19999 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:14:53.886+01:00  INFO 19999 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:14:54.074+01:00  INFO 19999 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:14:54.092+01:00  INFO 19999 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:14:54.314+01:00  INFO 19999 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@434a8938
2024-12-06T13:14:54.315+01:00  INFO 19999 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:14:54.336+01:00  WARN 19999 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:14:54.999+01:00  INFO 19999 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:14:55.063+01:00  INFO 19999 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:14:55.290+01:00  INFO 19999 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:14:56.067+01:00  WARN 19999 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:14:56.229+01:00 DEBUG 19999 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:14:56.340+01:00 DEBUG 19999 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:14:56.381+01:00 DEBUG 19999 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:14:56.421+01:00 DEBUG 19999 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:14:56.793+01:00  WARN 19999 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:14:56.858+01:00  INFO 19999 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:14:56.858+01:00  INFO 19999 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:14:56.860+01:00  INFO 19999 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:14:56.902+01:00  INFO 19999 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:14:56.929+01:00  INFO 19999 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#543895d2:0/SimpleConnection@1f878eed [delegate=amqp://guest@127.0.0.1:5672/, localPort=35182]
2024-12-06T13:14:56.965+01:00  INFO 19999 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 4.476 seconds (process running for 5.2)
2024-12-06T13:14:57.439+01:00 DEBUG 19999 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:14:57.448+01:00 DEBUG 19999 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:14:57.535+01:00 DEBUG 19999 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:14:57.623+01:00 DEBUG 19999 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:14:57.625+01:00 DEBUG 19999 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:14:57.631+01:00 DEBUG 19999 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:14:57.633+01:00 DEBUG 19999 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:14:57.647+01:00 DEBUG 19999 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:14:57.688+01:00 DEBUG 19999 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=GitlerCampot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, prod (truncated)...]
2024-12-06T13:14:57.717+01:00  INFO 19999 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:14:57.722+01:00 DEBUG 19999 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:14:57.733+01:00 ERROR 19999 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=GitlerCampot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=2]]]]
2024-12-06T13:14:57.735+01:00 DEBUG 19999 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:14:57.742+01:00 DEBUG 19999 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:14:57.743+01:00 DEBUG 19999 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:14:57.745+01:00 DEBUG 19999 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:14:57.787+01:00 DEBUG 19999 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38, started on Fri Dec 06 13:14:52 CET 2024
2024-12-06T13:14:57.793+01:00  INFO 19999 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:14:57.958+01:00  INFO 19999 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:14:57.964+01:00  INFO 19999 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:14:57.966+01:00  INFO 19999 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:14:57.970+01:00  INFO 19999 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:17:15.860+01:00  INFO 20459 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 20459 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:17:15.861+01:00  INFO 20459 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:17:15.874+01:00 DEBUG 20459 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38
2024-12-06T13:17:16.359+01:00  INFO 20459 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:17:16.410+01:00  INFO 20459 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T13:17:17.006+01:00  INFO 20459 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:17:17.038+01:00  INFO 20459 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:17:17.060+01:00  INFO 20459 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:17:17.267+01:00  INFO 20459 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:17:17.286+01:00  INFO 20459 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:17:17.490+01:00  INFO 20459 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@434a8938
2024-12-06T13:17:17.491+01:00  INFO 20459 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:17:17.511+01:00  WARN 20459 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:17:18.173+01:00  INFO 20459 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:17:18.245+01:00  INFO 20459 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:17:18.449+01:00  INFO 20459 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:17:19.168+01:00  WARN 20459 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:17:19.332+01:00 DEBUG 20459 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:17:19.456+01:00 DEBUG 20459 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:17:19.486+01:00 DEBUG 20459 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:17:19.520+01:00 DEBUG 20459 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:17:19.819+01:00  WARN 20459 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:17:19.870+01:00  INFO 20459 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:17:19.871+01:00  INFO 20459 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:17:19.872+01:00  INFO 20459 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:17:19.919+01:00  INFO 20459 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:17:19.948+01:00  INFO 20459 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2910c3ae:0/SimpleConnection@5b9037b6 [delegate=amqp://guest@127.0.0.1:5672/, localPort=56418]
2024-12-06T13:17:19.983+01:00  INFO 20459 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 4.332 seconds (process running for 5.077)
2024-12-06T13:17:20.447+01:00 DEBUG 20459 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:17:20.454+01:00 DEBUG 20459 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:17:20.535+01:00 DEBUG 20459 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:17:20.613+01:00 DEBUG 20459 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:17:20.615+01:00 DEBUG 20459 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:17:20.621+01:00 DEBUG 20459 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:17:20.623+01:00 DEBUG 20459 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:17:20.637+01:00 DEBUG 20459 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:17:20.673+01:00 DEBUG 20459 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, pro (truncated)...]
2024-12-06T13:17:20.697+01:00  INFO 20459 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:17:20.703+01:00 DEBUG 20459 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:17:20.713+01:00 ERROR 20459 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=2]]]]
2024-12-06T13:17:20.715+01:00 DEBUG 20459 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:17:20.721+01:00 DEBUG 20459 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:17:20.721+01:00 DEBUG 20459 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:17:20.724+01:00 DEBUG 20459 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:17:20.756+01:00 DEBUG 20459 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38, started on Fri Dec 06 13:17:15 CET 2024
2024-12-06T13:17:20.760+01:00  INFO 20459 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:17:20.975+01:00  INFO 20459 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:17:20.983+01:00  INFO 20459 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:17:20.985+01:00  INFO 20459 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:17:20.988+01:00  INFO 20459 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:20:42.773+01:00  INFO 21117 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 21117 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:20:42.775+01:00  INFO 21117 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:20:42.786+01:00 DEBUG 21117 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T13:20:43.261+01:00  INFO 21117 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:20:43.311+01:00  INFO 21117 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 4 JPA repository interfaces.
2024-12-06T13:20:43.819+01:00  INFO 21117 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:20:43.852+01:00  INFO 21117 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:20:43.873+01:00  INFO 21117 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:20:44.062+01:00  INFO 21117 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:20:44.082+01:00  INFO 21117 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:20:44.285+01:00  INFO 21117 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@7adff6cb
2024-12-06T13:20:44.287+01:00  INFO 21117 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:20:44.310+01:00  WARN 21117 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:20:45.063+01:00  INFO 21117 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:20:45.089+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists customers 
       alter column customer_id set data type bigint
2024-12-06T13:20:45.145+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists line_items 
       alter column line_item_id set data type bigint
2024-12-06T13:20:45.245+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists orders 
       alter column order_id set data type bigint
2024-12-06T13:20:45.362+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column product_id set data type bigint
2024-12-06T13:20:45.420+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column price set data type float(53)
2024-12-06T13:20:45.495+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column user_id set data type bigint
2024-12-06T13:20:45.595+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column password set data type varchar(255)
2024-12-06T13:20:45.690+01:00  INFO 21117 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:20:45.891+01:00  INFO 21117 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:20:46.560+01:00  WARN 21117 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:20:46.720+01:00 DEBUG 21117 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:20:46.832+01:00 DEBUG 21117 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:20:46.866+01:00 DEBUG 21117 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:20:46.892+01:00 DEBUG 21117 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:20:47.167+01:00  WARN 21117 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:20:47.216+01:00  INFO 21117 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:20:47.217+01:00  INFO 21117 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:20:47.218+01:00  INFO 21117 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:20:47.264+01:00  INFO 21117 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:20:47.288+01:00  INFO 21117 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#685e8e17:0/SimpleConnection@201b8a01 [delegate=amqp://guest@127.0.0.1:5672/, localPort=43528]
2024-12-06T13:20:47.322+01:00  INFO 21117 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.752 seconds (process running for 5.498)
2024-12-06T13:20:47.753+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T13:20:47.776+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T13:20:47.868+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T13:20:47.870+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T13:20:47.939+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T13:20:47.941+01:00 DEBUG 21117 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T13:20:47.959+01:00 DEBUG 21117 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 13:20:42 CET 2024
2024-12-06T13:20:47.963+01:00  INFO 21117 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:20:48.315+01:00  INFO 21117 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:20:48.321+01:00  INFO 21117 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:20:48.322+01:00  INFO 21117 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:20:48.325+01:00  INFO 21117 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:20:54.738+01:00  INFO 21417 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 21417 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:20:54.739+01:00  INFO 21417 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:20:54.751+01:00 DEBUG 21417 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T13:20:55.257+01:00  INFO 21417 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:20:55.309+01:00  INFO 21417 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T13:20:55.833+01:00  INFO 21417 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:20:55.865+01:00  INFO 21417 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:20:55.885+01:00  INFO 21417 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:20:56.067+01:00  INFO 21417 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:20:56.085+01:00  INFO 21417 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:20:56.281+01:00  INFO 21417 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@7adff6cb
2024-12-06T13:20:56.282+01:00  INFO 21417 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:20:56.303+01:00  WARN 21417 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:20:56.902+01:00  INFO 21417 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:20:56.962+01:00  INFO 21417 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:20:57.157+01:00  INFO 21417 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:20:57.813+01:00  WARN 21417 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:20:57.954+01:00 DEBUG 21417 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:20:58.062+01:00 DEBUG 21417 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:20:58.092+01:00 DEBUG 21417 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:20:58.119+01:00 DEBUG 21417 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:20:58.389+01:00  WARN 21417 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:20:58.436+01:00  INFO 21417 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:20:58.437+01:00  INFO 21417 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:20:58.438+01:00  INFO 21417 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:20:58.476+01:00  INFO 21417 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:20:58.502+01:00  INFO 21417 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5479abd8:0/SimpleConnection@6626137e [delegate=amqp://guest@127.0.0.1:5672/, localPort=42748]
2024-12-06T13:20:58.538+01:00  INFO 21417 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.003 seconds (process running for 4.695)
2024-12-06T13:20:58.994+01:00 DEBUG 21417 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:20:59.002+01:00 DEBUG 21417 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:20:59.083+01:00 DEBUG 21417 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:20:59.164+01:00 DEBUG 21417 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:20:59.166+01:00 DEBUG 21417 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:20:59.172+01:00 DEBUG 21417 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:20:59.173+01:00 DEBUG 21417 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:20:59.185+01:00 DEBUG 21417 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#create(RequestProductDTO)
2024-12-06T13:20:59.216+01:00 DEBUG 21417 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestProductDTO[productName=TestNameAborted, price=15.5]]
2024-12-06T13:20:59.241+01:00 DEBUG 21417 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T13:20:59.245+01:00 DEBUG 21417 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:20:59.246+01:00 DEBUG 21417 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T13:20:59.248+01:00 DEBUG 21417 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T13:20:59.278+01:00 DEBUG 21417 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 13:20:54 CET 2024
2024-12-06T13:20:59.282+01:00  INFO 21417 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:20:59.532+01:00  INFO 21417 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:20:59.537+01:00  INFO 21417 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:20:59.539+01:00  INFO 21417 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:20:59.542+01:00  INFO 21417 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:21:23.148+01:00  INFO 21663 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 21663 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:21:23.150+01:00  INFO 21663 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:21:23.166+01:00 DEBUG 21663 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T13:21:23.760+01:00  INFO 21663 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:21:23.811+01:00  INFO 21663 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 4 JPA repository interfaces.
2024-12-06T13:21:24.318+01:00  INFO 21663 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:21:24.350+01:00  INFO 21663 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:21:24.370+01:00  INFO 21663 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:21:24.554+01:00  INFO 21663 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:21:24.572+01:00  INFO 21663 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:21:24.774+01:00  INFO 21663 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@7adff6cb
2024-12-06T13:21:24.776+01:00  INFO 21663 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:21:24.795+01:00  WARN 21663 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:21:25.430+01:00  INFO 21663 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:21:25.493+01:00  INFO 21663 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:21:25.685+01:00  INFO 21663 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:21:26.375+01:00  WARN 21663 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:21:26.530+01:00 DEBUG 21663 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:21:26.633+01:00 DEBUG 21663 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:21:26.659+01:00 DEBUG 21663 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:21:26.692+01:00 DEBUG 21663 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:21:26.972+01:00  WARN 21663 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:21:27.025+01:00  INFO 21663 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:21:27.026+01:00  INFO 21663 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:21:27.027+01:00  INFO 21663 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:21:27.064+01:00  INFO 21663 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:21:27.088+01:00  INFO 21663 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5479abd8:0/SimpleConnection@2d36a825 [delegate=amqp://guest@127.0.0.1:5672/, localPort=43286]
2024-12-06T13:21:27.120+01:00  INFO 21663 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.212 seconds (process running for 4.892)
2024-12-06T13:21:27.562+01:00 DEBUG 21663 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:21:27.570+01:00 DEBUG 21663 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:21:27.648+01:00 DEBUG 21663 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:21:27.722+01:00 DEBUG 21663 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:21:27.724+01:00 DEBUG 21663 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:21:27.729+01:00 DEBUG 21663 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:21:27.731+01:00 DEBUG 21663 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:21:27.743+01:00 DEBUG 21663 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#create(RequestProductDTO)
2024-12-06T13:21:27.781+01:00 DEBUG 21663 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestProductDTO[productName=TestNameAborted, price=15.5]]
2024-12-06T13:21:27.806+01:00  INFO 21663 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.product.controller.ProductController
	Args:create
2024-12-06T13:21:27.817+01:00 DEBUG 21663 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        products
        (price, product_name) 
    values
        (?, ?) 
    returning product_id
2024-12-06T13:21:27.845+01:00  INFO 21663 --- [Test worker] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseProductDTO[id=1, productName=TestNameAborted, price=15.5],[]>
	
2024-12-06T13:21:27.852+01:00 DEBUG 21663 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T13:21:27.853+01:00 DEBUG 21663 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseProductDTO[id=1, productName=TestNameAborted, price=15.5]]
2024-12-06T13:21:27.873+01:00 DEBUG 21663 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 13:21:23 CET 2024
2024-12-06T13:21:27.877+01:00  INFO 21663 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:21:28.114+01:00  INFO 21663 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:21:28.119+01:00  INFO 21663 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:21:28.121+01:00  INFO 21663 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:21:28.124+01:00  INFO 21663 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:21:36.804+01:00  INFO 21926 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 21926 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:21:36.805+01:00  INFO 21926 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:21:36.816+01:00 DEBUG 21926 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38
2024-12-06T13:21:37.286+01:00  INFO 21926 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:21:37.334+01:00  INFO 21926 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T13:21:37.835+01:00  INFO 21926 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:21:37.867+01:00  INFO 21926 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:21:37.888+01:00  INFO 21926 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:21:38.074+01:00  INFO 21926 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:21:38.094+01:00  INFO 21926 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:21:38.307+01:00  INFO 21926 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@5521407f
2024-12-06T13:21:38.308+01:00  INFO 21926 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:21:38.329+01:00  WARN 21926 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:21:38.937+01:00  INFO 21926 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:21:38.998+01:00  INFO 21926 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:21:39.193+01:00  INFO 21926 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:21:39.853+01:00  WARN 21926 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:21:39.991+01:00 DEBUG 21926 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:21:40.102+01:00 DEBUG 21926 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:21:40.130+01:00 DEBUG 21926 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:21:40.159+01:00 DEBUG 21926 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:21:40.431+01:00  WARN 21926 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:21:40.477+01:00  INFO 21926 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:21:40.478+01:00  INFO 21926 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:21:40.479+01:00  INFO 21926 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:21:40.517+01:00  INFO 21926 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:21:40.542+01:00  INFO 21926 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#ab40f46:0/SimpleConnection@1f481ec3 [delegate=amqp://guest@127.0.0.1:5672/, localPort=59294]
2024-12-06T13:21:40.575+01:00  INFO 21926 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 3.965 seconds (process running for 4.676)
2024-12-06T13:21:41.016+01:00 DEBUG 21926 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:21:41.023+01:00 DEBUG 21926 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:21:41.103+01:00 DEBUG 21926 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:21:41.178+01:00 DEBUG 21926 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:21:41.179+01:00 DEBUG 21926 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:21:41.185+01:00 DEBUG 21926 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:21:41.187+01:00 DEBUG 21926 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:21:41.203+01:00 DEBUG 21926 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:21:41.243+01:00 DEBUG 21926 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, pro (truncated)...]
2024-12-06T13:21:41.269+01:00  INFO 21926 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:21:41.274+01:00 DEBUG 21926 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:21:41.283+01:00 ERROR 21926 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T13:21:41.285+01:00 DEBUG 21926 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:21:41.289+01:00 DEBUG 21926 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:21:41.290+01:00 DEBUG 21926 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:21:41.292+01:00 DEBUG 21926 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:21:41.322+01:00 DEBUG 21926 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38, started on Fri Dec 06 13:21:36 CET 2024
2024-12-06T13:21:41.326+01:00  INFO 21926 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:21:41.569+01:00  INFO 21926 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:21:41.575+01:00  INFO 21926 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:21:41.577+01:00  INFO 21926 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:21:41.581+01:00  INFO 21926 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:24:35.357+01:00  INFO 22695 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 22695 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:24:35.359+01:00  INFO 22695 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:24:35.370+01:00 DEBUG 22695 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5bb7643d
2024-12-06T13:24:35.845+01:00  INFO 22695 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:24:35.897+01:00  INFO 22695 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T13:24:36.436+01:00  INFO 22695 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:24:36.468+01:00  INFO 22695 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:24:36.488+01:00  INFO 22695 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:24:36.671+01:00  INFO 22695 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:24:36.690+01:00  INFO 22695 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:24:36.900+01:00  INFO 22695 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@71687d8f
2024-12-06T13:24:36.901+01:00  INFO 22695 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:24:36.922+01:00  WARN 22695 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:24:37.561+01:00  INFO 22695 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:24:37.627+01:00  INFO 22695 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:24:37.819+01:00  INFO 22695 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:24:38.481+01:00  WARN 22695 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:24:38.621+01:00 DEBUG 22695 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:24:38.729+01:00 DEBUG 22695 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:24:38.758+01:00 DEBUG 22695 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:24:38.784+01:00 DEBUG 22695 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:24:39.051+01:00  WARN 22695 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:24:39.099+01:00  INFO 22695 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:24:39.100+01:00  INFO 22695 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:24:39.101+01:00  INFO 22695 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:24:39.141+01:00  INFO 22695 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:24:39.165+01:00  INFO 22695 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3dfef314:0/SimpleConnection@736b8ed4 [delegate=amqp://guest@127.0.0.1:5672/, localPort=39416]
2024-12-06T13:24:39.198+01:00  INFO 22695 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 4.045 seconds (process running for 4.737)
2024-12-06T13:24:39.627+01:00 DEBUG 22695 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:24:39.637+01:00 DEBUG 22695 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:24:39.724+01:00 DEBUG 22695 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:24:39.834+01:00 DEBUG 22695 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:24:39.837+01:00 DEBUG 22695 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:24:39.843+01:00 DEBUG 22695 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:24:39.845+01:00 DEBUG 22695 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:24:39.860+01:00 DEBUG 22695 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:24:39.903+01:00 DEBUG 22695 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, pro (truncated)...]
2024-12-06T13:24:39.928+01:00  INFO 22695 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:24:39.931+01:00 DEBUG 22695 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:24:39.940+01:00 ERROR 22695 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T13:24:39.941+01:00 DEBUG 22695 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:24:39.946+01:00 DEBUG 22695 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:24:39.946+01:00 DEBUG 22695 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:24:39.948+01:00 DEBUG 22695 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:24:39.981+01:00 DEBUG 22695 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5bb7643d, started on Fri Dec 06 13:24:35 CET 2024
2024-12-06T13:24:39.985+01:00  INFO 22695 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:24:40.191+01:00  INFO 22695 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:24:40.197+01:00  INFO 22695 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:24:40.199+01:00  INFO 22695 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:24:40.202+01:00  INFO 22695 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:25:08.695+01:00  INFO 23017 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 23017 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:25:08.696+01:00  INFO 23017 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:25:08.707+01:00 DEBUG 23017 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5bb7643d
2024-12-06T13:25:09.200+01:00  INFO 23017 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:25:09.247+01:00  INFO 23017 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T13:25:09.768+01:00  INFO 23017 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:25:09.801+01:00  INFO 23017 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:25:09.822+01:00  INFO 23017 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:25:10.009+01:00  INFO 23017 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:25:10.030+01:00  INFO 23017 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:25:10.227+01:00  INFO 23017 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2e1ad7de
2024-12-06T13:25:10.229+01:00  INFO 23017 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:25:10.249+01:00  WARN 23017 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:25:10.893+01:00  INFO 23017 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:25:10.963+01:00  INFO 23017 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:25:11.188+01:00  INFO 23017 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:25:11.910+01:00  WARN 23017 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:25:12.052+01:00 DEBUG 23017 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:25:12.191+01:00 DEBUG 23017 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:25:12.221+01:00 DEBUG 23017 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:25:12.248+01:00 DEBUG 23017 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:25:12.533+01:00  WARN 23017 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:25:12.584+01:00  INFO 23017 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:25:12.585+01:00  INFO 23017 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:25:12.586+01:00  INFO 23017 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:25:12.641+01:00  INFO 23017 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:25:12.666+01:00  INFO 23017 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#ef09e1:0/SimpleConnection@58a887fb [delegate=amqp://guest@127.0.0.1:5672/, localPort=50002]
2024-12-06T13:25:12.698+01:00  INFO 23017 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 4.246 seconds (process running for 4.944)
2024-12-06T13:25:13.142+01:00 DEBUG 23017 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:25:13.150+01:00 DEBUG 23017 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:25:13.228+01:00 DEBUG 23017 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:25:13.295+01:00 DEBUG 23017 --- [Test worker] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T13:25:13.301+01:00 DEBUG 23017 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T13:25:13.338+01:00 DEBUG 23017 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:25:13.340+01:00 DEBUG 23017 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:25:13.353+01:00 DEBUG 23017 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:25:13.355+01:00 DEBUG 23017 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:25:13.370+01:00 DEBUG 23017 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:25:13.405+01:00 DEBUG 23017 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, pro (truncated)...]
2024-12-06T13:25:13.434+01:00  INFO 23017 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:25:13.440+01:00 DEBUG 23017 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:25:13.452+01:00 ERROR 23017 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T13:25:13.453+01:00 DEBUG 23017 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:25:13.459+01:00 DEBUG 23017 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:25:13.459+01:00 DEBUG 23017 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:25:13.461+01:00 DEBUG 23017 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:25:13.492+01:00 DEBUG 23017 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5bb7643d, started on Fri Dec 06 13:25:08 CET 2024
2024-12-06T13:25:13.500+01:00  INFO 23017 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:25:13.692+01:00  INFO 23017 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:25:13.698+01:00  INFO 23017 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:25:13.699+01:00  INFO 23017 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:25:13.702+01:00  INFO 23017 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:27:57.061+01:00  INFO 23641 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 23641 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:27:57.063+01:00  INFO 23641 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:27:57.076+01:00 DEBUG 23641 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T13:27:57.558+01:00  INFO 23641 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:27:57.610+01:00  INFO 23641 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T13:27:58.141+01:00  INFO 23641 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:27:58.173+01:00  INFO 23641 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:27:58.194+01:00  INFO 23641 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:27:58.385+01:00  INFO 23641 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:27:58.405+01:00  INFO 23641 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:27:58.603+01:00  INFO 23641 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a0c244e
2024-12-06T13:27:58.604+01:00  INFO 23641 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:27:58.623+01:00  WARN 23641 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:27:59.238+01:00  INFO 23641 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:27:59.261+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists customers 
       alter column customer_id set data type bigint
2024-12-06T13:27:59.316+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists line_items 
       alter column line_item_id set data type bigint
2024-12-06T13:27:59.399+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists orders 
       alter column order_id set data type bigint
2024-12-06T13:27:59.449+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column product_id set data type bigint
2024-12-06T13:27:59.516+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column price set data type float(53)
2024-12-06T13:27:59.583+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column user_id set data type bigint
2024-12-06T13:27:59.674+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column password set data type varchar(255)
2024-12-06T13:27:59.760+01:00  INFO 23641 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:27:59.973+01:00  INFO 23641 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:28:00.751+01:00  WARN 23641 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:28:00.898+01:00 DEBUG 23641 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:28:01.008+01:00 DEBUG 23641 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:28:01.038+01:00 DEBUG 23641 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:28:01.065+01:00 DEBUG 23641 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:28:01.351+01:00  WARN 23641 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:28:01.401+01:00  INFO 23641 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:28:01.402+01:00  INFO 23641 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:28:01.403+01:00  INFO 23641 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:28:01.449+01:00  INFO 23641 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:28:01.477+01:00  INFO 23641 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4cb1af3f:0/SimpleConnection@4288d7b6 [delegate=amqp://guest@127.0.0.1:5672/, localPort=46050]
2024-12-06T13:28:01.513+01:00  INFO 23641 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.653 seconds (process running for 5.364)
2024-12-06T13:28:01.922+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T13:28:01.938+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T13:28:02.027+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T13:28:02.029+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T13:28:02.106+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T13:28:02.108+01:00 DEBUG 23641 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T13:28:02.131+01:00 DEBUG 23641 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 13:27:57 CET 2024
2024-12-06T13:28:02.135+01:00  INFO 23641 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:28:02.504+01:00  INFO 23641 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:28:02.510+01:00  INFO 23641 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:28:02.511+01:00  INFO 23641 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:28:02.514+01:00  INFO 23641 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:28:13.195+01:00  INFO 23896 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 23896 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:28:13.197+01:00  INFO 23896 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:28:13.208+01:00 DEBUG 23896 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@5bb7643d
2024-12-06T13:28:13.675+01:00  INFO 23896 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:28:13.725+01:00  INFO 23896 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 4 JPA repository interfaces.
2024-12-06T13:28:14.243+01:00  INFO 23896 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:28:14.275+01:00  INFO 23896 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:28:14.296+01:00  INFO 23896 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:28:14.481+01:00  INFO 23896 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:28:14.499+01:00  INFO 23896 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:28:14.696+01:00  INFO 23896 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@21ffc00e
2024-12-06T13:28:14.697+01:00  INFO 23896 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:28:14.716+01:00  WARN 23896 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:28:15.338+01:00  INFO 23896 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:28:15.401+01:00  INFO 23896 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:28:15.596+01:00  INFO 23896 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:28:16.266+01:00  WARN 23896 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:28:16.408+01:00 DEBUG 23896 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:28:16.514+01:00 DEBUG 23896 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:28:16.541+01:00 DEBUG 23896 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:28:16.567+01:00 DEBUG 23896 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:28:16.839+01:00  WARN 23896 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:28:16.890+01:00  INFO 23896 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:28:16.890+01:00  INFO 23896 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:28:16.891+01:00  INFO 23896 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:28:16.928+01:00  INFO 23896 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:28:16.952+01:00  INFO 23896 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6dbfd081:0/SimpleConnection@6900954e [delegate=amqp://guest@127.0.0.1:5672/, localPort=44558]
2024-12-06T13:28:16.986+01:00  INFO 23896 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 3.992 seconds (process running for 4.674)
2024-12-06T13:28:17.430+01:00 DEBUG 23896 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:28:17.438+01:00 DEBUG 23896 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:28:17.517+01:00 DEBUG 23896 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:28:17.573+01:00 DEBUG 23896 --- [Test worker] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T13:28:17.578+01:00 DEBUG 23896 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T13:28:17.610+01:00 DEBUG 23896 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:28:17.612+01:00 DEBUG 23896 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:28:17.617+01:00 DEBUG 23896 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:28:17.618+01:00 DEBUG 23896 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:28:17.630+01:00 DEBUG 23896 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:28:17.675+01:00 DEBUG 23896 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, pro (truncated)...]
2024-12-06T13:28:17.706+01:00  INFO 23896 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:28:17.711+01:00 DEBUG 23896 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:28:17.720+01:00 ERROR 23896 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T13:28:17.722+01:00 DEBUG 23896 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:28:17.727+01:00 DEBUG 23896 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:28:17.727+01:00 DEBUG 23896 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:28:17.730+01:00 DEBUG 23896 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:28:17.757+01:00 DEBUG 23896 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@5bb7643d, started on Fri Dec 06 13:28:13 CET 2024
2024-12-06T13:28:17.761+01:00  INFO 23896 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:28:17.979+01:00  INFO 23896 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:28:17.985+01:00  INFO 23896 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:28:17.986+01:00  INFO 23896 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:28:17.990+01:00  INFO 23896 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:30:23.506+01:00  INFO 24819 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 24819 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:30:23.507+01:00  INFO 24819 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:30:23.520+01:00 DEBUG 24819 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T13:30:24.013+01:00  INFO 24819 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:30:24.064+01:00  INFO 24819 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T13:30:24.605+01:00  INFO 24819 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:30:24.639+01:00  INFO 24819 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:30:24.661+01:00  INFO 24819 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:30:24.853+01:00  INFO 24819 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:30:24.871+01:00  INFO 24819 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:30:25.088+01:00  INFO 24819 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a0c244e
2024-12-06T13:30:25.090+01:00  INFO 24819 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:30:25.110+01:00  WARN 24819 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:30:25.823+01:00  INFO 24819 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:30:25.898+01:00  INFO 24819 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:30:26.117+01:00  INFO 24819 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:30:26.812+01:00  WARN 24819 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:30:26.961+01:00 DEBUG 24819 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:30:27.075+01:00 DEBUG 24819 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:30:27.105+01:00 DEBUG 24819 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:30:27.133+01:00 DEBUG 24819 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:30:27.420+01:00  WARN 24819 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:30:27.468+01:00  INFO 24819 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:30:27.469+01:00  INFO 24819 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:30:27.470+01:00  INFO 24819 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:30:27.511+01:00  INFO 24819 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:30:27.538+01:00  INFO 24819 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#557635ca:0/SimpleConnection@3847fe81 [delegate=amqp://guest@127.0.0.1:5672/, localPort=51842]
2024-12-06T13:30:27.577+01:00  INFO 24819 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.287 seconds (process running for 5.051)
2024-12-06T13:30:28.047+01:00 DEBUG 24819 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:30:28.055+01:00 DEBUG 24819 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:30:28.139+01:00 DEBUG 24819 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:30:28.232+01:00 DEBUG 24819 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:30:28.234+01:00 DEBUG 24819 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:30:28.244+01:00 DEBUG 24819 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:30:28.245+01:00 DEBUG 24819 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:30:28.261+01:00 DEBUG 24819 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#create(RequestProductDTO)
2024-12-06T13:30:28.295+01:00 DEBUG 24819 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestProductDTO[productName=TestNameAborted, price=15.5]]
2024-12-06T13:30:28.321+01:00 DEBUG 24819 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T13:30:28.326+01:00 DEBUG 24819 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:30:28.326+01:00 DEBUG 24819 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T13:30:28.328+01:00 DEBUG 24819 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T13:30:28.359+01:00 DEBUG 24819 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 13:30:23 CET 2024
2024-12-06T13:30:28.363+01:00  INFO 24819 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:30:28.570+01:00  INFO 24819 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:30:28.576+01:00  INFO 24819 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:30:28.577+01:00  INFO 24819 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:30:28.580+01:00  INFO 24819 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:30:44.933+01:00  INFO 25083 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 25083 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:30:44.935+01:00  INFO 25083 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:30:44.948+01:00 DEBUG 25083 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@63718b93
2024-12-06T13:30:45.497+01:00  INFO 25083 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:30:45.560+01:00  INFO 25083 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 4 JPA repository interfaces.
2024-12-06T13:30:46.191+01:00  INFO 25083 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:30:46.231+01:00  INFO 25083 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:30:46.255+01:00  INFO 25083 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:30:46.462+01:00  INFO 25083 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:30:46.489+01:00  INFO 25083 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:30:46.694+01:00  INFO 25083 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a0c244e
2024-12-06T13:30:46.696+01:00  INFO 25083 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:30:46.716+01:00  WARN 25083 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:30:47.362+01:00  INFO 25083 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:30:47.435+01:00  INFO 25083 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:30:47.703+01:00  INFO 25083 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:30:48.709+01:00  WARN 25083 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:30:48.927+01:00 DEBUG 25083 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:30:49.097+01:00 DEBUG 25083 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:30:49.137+01:00 DEBUG 25083 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:30:49.174+01:00 DEBUG 25083 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:30:49.469+01:00  WARN 25083 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:30:49.519+01:00  INFO 25083 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:30:49.519+01:00  INFO 25083 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:30:49.521+01:00  INFO 25083 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:30:49.561+01:00  INFO 25083 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:30:49.587+01:00  INFO 25083 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#557635ca:0/SimpleConnection@13021796 [delegate=amqp://guest@127.0.0.1:5672/, localPort=60516]
2024-12-06T13:30:49.622+01:00  INFO 25083 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.926 seconds (process running for 5.691)
2024-12-06T13:30:50.111+01:00 DEBUG 25083 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:30:50.122+01:00 DEBUG 25083 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:30:50.207+01:00 DEBUG 25083 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:30:50.292+01:00 DEBUG 25083 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:30:50.294+01:00 DEBUG 25083 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:30:50.300+01:00 DEBUG 25083 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:30:50.301+01:00 DEBUG 25083 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:30:50.314+01:00 DEBUG 25083 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.product.controller.ProductController#create(RequestProductDTO)
2024-12-06T13:30:50.348+01:00 DEBUG 25083 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestProductDTO[productName=TestNameAborted, price=15.5]]
2024-12-06T13:30:50.375+01:00  INFO 25083 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.product.controller.ProductController
	Args:create
2024-12-06T13:30:50.385+01:00 DEBUG 25083 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        products
        (price, product_name) 
    values
        (?, ?) 
    returning product_id
2024-12-06T13:30:50.421+01:00  INFO 25083 --- [Test worker] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseProductDTO[id=1, productName=TestNameAborted, price=15.5],[]>
	
2024-12-06T13:30:50.428+01:00 DEBUG 25083 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T13:30:50.429+01:00 DEBUG 25083 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseProductDTO[id=1, productName=TestNameAborted, price=15.5]]
2024-12-06T13:30:50.449+01:00 DEBUG 25083 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@63718b93, started on Fri Dec 06 13:30:44 CET 2024
2024-12-06T13:30:50.453+01:00  INFO 25083 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:30:50.615+01:00  INFO 25083 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:30:50.621+01:00  INFO 25083 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:30:50.623+01:00  INFO 25083 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:30:50.626+01:00  INFO 25083 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:31:33.490+01:00  INFO 25464 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 25464 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:31:33.492+01:00  INFO 25464 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:31:33.503+01:00 DEBUG 25464 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38
2024-12-06T13:31:34.063+01:00  INFO 25464 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:31:34.122+01:00  INFO 25464 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 4 JPA repository interfaces.
2024-12-06T13:31:34.686+01:00  INFO 25464 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:31:34.719+01:00  INFO 25464 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:31:34.742+01:00  INFO 25464 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:31:34.940+01:00  INFO 25464 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:31:34.960+01:00  INFO 25464 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:31:35.176+01:00  INFO 25464 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@71f056a
2024-12-06T13:31:35.178+01:00  INFO 25464 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:31:35.201+01:00  WARN 25464 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:31:35.900+01:00  INFO 25464 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:31:35.976+01:00  INFO 25464 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:31:36.195+01:00  INFO 25464 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:31:36.939+01:00  WARN 25464 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:31:37.087+01:00 DEBUG 25464 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:31:37.199+01:00 DEBUG 25464 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:31:37.229+01:00 DEBUG 25464 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:31:37.257+01:00 DEBUG 25464 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:31:37.537+01:00  WARN 25464 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:31:37.588+01:00  INFO 25464 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:31:37.589+01:00  INFO 25464 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:31:37.590+01:00  INFO 25464 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:31:37.633+01:00  INFO 25464 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:31:37.658+01:00  INFO 25464 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#f57ced1:0/SimpleConnection@3d61b36a [delegate=amqp://guest@127.0.0.1:5672/, localPort=34868]
2024-12-06T13:31:37.693+01:00  INFO 25464 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 4.408 seconds (process running for 5.157)
2024-12-06T13:31:38.164+01:00 DEBUG 25464 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:31:38.172+01:00 DEBUG 25464 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:31:38.253+01:00 DEBUG 25464 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:31:38.313+01:00 DEBUG 25464 --- [Test worker] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T13:31:38.319+01:00 DEBUG 25464 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T13:31:38.368+01:00 DEBUG 25464 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:31:38.370+01:00 DEBUG 25464 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:31:38.376+01:00 DEBUG 25464 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:31:38.378+01:00 DEBUG 25464 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:31:38.393+01:00 DEBUG 25464 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:31:38.432+01:00 DEBUG 25464 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, pro (truncated)...]
2024-12-06T13:31:38.448+01:00  INFO 25464 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:31:38.453+01:00 DEBUG 25464 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:31:38.466+01:00 ERROR 25464 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T13:31:38.468+01:00 DEBUG 25464 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:31:38.473+01:00 DEBUG 25464 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:31:38.473+01:00 DEBUG 25464 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:31:38.475+01:00 DEBUG 25464 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:31:38.511+01:00 DEBUG 25464 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@1ba05e38, started on Fri Dec 06 13:31:33 CET 2024
2024-12-06T13:31:38.515+01:00  INFO 25464 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:31:38.686+01:00  INFO 25464 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:31:38.694+01:00  INFO 25464 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:31:38.696+01:00  INFO 25464 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:31:38.701+01:00  INFO 25464 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:35:00.562+01:00  INFO 26063 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 26063 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:35:00.564+01:00  INFO 26063 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:35:00.576+01:00 DEBUG 26063 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7a2e0858
2024-12-06T13:35:01.058+01:00  INFO 26063 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:35:01.105+01:00  INFO 26063 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T13:35:01.623+01:00  INFO 26063 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:35:01.657+01:00  INFO 26063 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:35:01.679+01:00  INFO 26063 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:35:01.862+01:00  INFO 26063 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:35:01.879+01:00  INFO 26063 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:35:02.074+01:00  INFO 26063 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@4cb82b09
2024-12-06T13:35:02.075+01:00  INFO 26063 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:35:02.095+01:00  WARN 26063 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:35:02.715+01:00  INFO 26063 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:35:02.775+01:00  INFO 26063 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:35:02.989+01:00  INFO 26063 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:35:03.674+01:00  WARN 26063 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:35:03.824+01:00 DEBUG 26063 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:35:03.942+01:00 DEBUG 26063 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:35:03.974+01:00 DEBUG 26063 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:35:04.001+01:00 DEBUG 26063 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:35:04.275+01:00  WARN 26063 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:35:04.324+01:00  INFO 26063 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:35:04.324+01:00  INFO 26063 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:35:04.325+01:00  INFO 26063 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:35:04.365+01:00  INFO 26063 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:35:04.389+01:00  INFO 26063 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#f57ced1:0/SimpleConnection@3815c525 [delegate=amqp://guest@127.0.0.1:5672/, localPort=34538]
2024-12-06T13:35:04.424+01:00  INFO 26063 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 4.081 seconds (process running for 4.802)
2024-12-06T13:35:05.172+01:00 DEBUG 26063 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:35:05.179+01:00 DEBUG 26063 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:35:05.260+01:00 DEBUG 26063 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:35:05.320+01:00 DEBUG 26063 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:35:05.325+01:00 DEBUG 26063 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:35:05.336+01:00 DEBUG 26063 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:35:05.367+01:00 DEBUG 26063 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, pro (truncated)...]
2024-12-06T13:35:05.393+01:00  INFO 26063 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:35:05.398+01:00 DEBUG 26063 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:35:05.406+01:00 ERROR 26063 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T13:35:05.408+01:00 DEBUG 26063 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:35:05.412+01:00 DEBUG 26063 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:35:05.413+01:00 DEBUG 26063 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:35:05.414+01:00 DEBUG 26063 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:35:05.445+01:00 DEBUG 26063 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@7a2e0858, started on Fri Dec 06 13:35:00 CET 2024
2024-12-06T13:35:05.448+01:00  INFO 26063 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:35:06.418+01:00  INFO 26063 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:35:06.424+01:00  INFO 26063 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:35:06.425+01:00  INFO 26063 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:35:06.429+01:00  INFO 26063 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:35:19.050+01:00  INFO 26338 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 26338 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:35:19.052+01:00  INFO 26338 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:35:19.063+01:00 DEBUG 26338 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@7a2e0858
2024-12-06T13:35:19.569+01:00  INFO 26338 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:35:19.622+01:00  INFO 26338 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T13:35:20.211+01:00  INFO 26338 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:35:20.244+01:00  INFO 26338 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:35:20.265+01:00  INFO 26338 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:35:20.458+01:00  INFO 26338 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:35:20.477+01:00  INFO 26338 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:35:20.686+01:00  INFO 26338 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@77b27b57
2024-12-06T13:35:20.688+01:00  INFO 26338 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:35:20.708+01:00  WARN 26338 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:35:21.344+01:00  INFO 26338 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:35:21.405+01:00  INFO 26338 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:35:21.644+01:00  INFO 26338 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:35:22.368+01:00  WARN 26338 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:35:22.556+01:00 DEBUG 26338 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:35:22.680+01:00 DEBUG 26338 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:35:22.715+01:00 DEBUG 26338 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:35:22.745+01:00 DEBUG 26338 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:35:23.069+01:00  WARN 26338 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:35:23.119+01:00  INFO 26338 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:35:23.119+01:00  INFO 26338 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:35:23.121+01:00  INFO 26338 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 0 ms
2024-12-06T13:35:23.169+01:00  INFO 26338 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:35:23.195+01:00  INFO 26338 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6a7eef27:0/SimpleConnection@6767f1c4 [delegate=amqp://guest@127.0.0.1:5672/, localPort=48182]
2024-12-06T13:35:23.233+01:00  INFO 26338 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 4.415 seconds (process running for 5.11)
2024-12-06T13:35:23.723+01:00 DEBUG 26338 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:35:23.731+01:00 DEBUG 26338 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:35:23.811+01:00 DEBUG 26338 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:35:23.864+01:00 DEBUG 26338 --- [Test worker] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T13:35:23.902+01:00 DEBUG 26338 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:35:23.907+01:00 DEBUG 26338 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:35:23.920+01:00 DEBUG 26338 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:35:23.956+01:00 DEBUG 26338 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, pro (truncated)...]
2024-12-06T13:35:23.972+01:00  INFO 26338 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:35:23.978+01:00 DEBUG 26338 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:35:23.988+01:00 ERROR 26338 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T13:35:23.990+01:00 DEBUG 26338 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:35:23.994+01:00 DEBUG 26338 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:35:23.995+01:00 DEBUG 26338 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:35:23.997+01:00 DEBUG 26338 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:35:24.035+01:00 DEBUG 26338 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@7a2e0858, started on Fri Dec 06 13:35:19 CET 2024
2024-12-06T13:35:24.039+01:00  INFO 26338 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:35:24.226+01:00  INFO 26338 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:35:24.235+01:00  INFO 26338 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:35:24.237+01:00  INFO 26338 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:35:24.241+01:00  INFO 26338 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:37:47.746+01:00  INFO 26786 --- [Test worker] org.example.OrderProductRest             : Starting OrderProductRest using Java 17.0.13 with PID 26786 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:37:47.748+01:00  INFO 26786 --- [Test worker] org.example.OrderProductRest             : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:37:47.759+01:00 DEBUG 26786 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@20095ab4
2024-12-06T13:37:48.273+01:00  INFO 26786 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:37:48.324+01:00  INFO 26786 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T13:37:48.880+01:00  INFO 26786 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:37:48.912+01:00  INFO 26786 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:37:48.934+01:00  INFO 26786 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:37:49.126+01:00  INFO 26786 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:37:49.144+01:00  INFO 26786 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:37:49.424+01:00  INFO 26786 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@6f22c1f1
2024-12-06T13:37:49.425+01:00  INFO 26786 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:37:49.452+01:00  WARN 26786 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:37:50.126+01:00  INFO 26786 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:37:50.195+01:00  INFO 26786 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:37:50.418+01:00  INFO 26786 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:37:51.123+01:00  WARN 26786 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:37:51.272+01:00 DEBUG 26786 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:37:51.382+01:00 DEBUG 26786 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:37:51.412+01:00 DEBUG 26786 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:37:51.440+01:00 DEBUG 26786 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:37:51.705+01:00  WARN 26786 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:37:51.758+01:00  INFO 26786 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:37:51.758+01:00  INFO 26786 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:37:51.760+01:00  INFO 26786 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:37:51.798+01:00  INFO 26786 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:37:51.822+01:00  INFO 26786 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5e774546:0/SimpleConnection@268467ab [delegate=amqp://guest@127.0.0.1:5672/, localPort=34854]
2024-12-06T13:37:51.855+01:00  INFO 26786 --- [Test worker] org.example.OrderProductRest             : Started OrderProductRest in 4.309 seconds (process running for 5.023)
2024-12-06T13:37:52.301+01:00 DEBUG 26786 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:37:52.311+01:00 DEBUG 26786 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:37:52.396+01:00 DEBUG 26786 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:37:52.437+01:00 DEBUG 26786 --- [Test worker] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T13:37:52.472+01:00 DEBUG 26786 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:37:52.477+01:00 DEBUG 26786 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:37:52.488+01:00 DEBUG 26786 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:37:52.524+01:00 DEBUG 26786 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, pro (truncated)...]
2024-12-06T13:37:52.553+01:00  INFO 26786 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:37:52.558+01:00 DEBUG 26786 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:37:52.568+01:00 ERROR 26786 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T13:37:52.569+01:00 DEBUG 26786 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:37:52.574+01:00 DEBUG 26786 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:37:52.575+01:00 DEBUG 26786 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:37:52.577+01:00 DEBUG 26786 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:37:52.616+01:00 DEBUG 26786 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@20095ab4, started on Fri Dec 06 13:37:47 CET 2024
2024-12-06T13:37:52.620+01:00  INFO 26786 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:37:52.848+01:00  INFO 26786 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:37:52.855+01:00  INFO 26786 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:37:52.857+01:00  INFO 26786 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:37:52.862+01:00  INFO 26786 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:38:09.516+01:00  INFO 27121 --- [Test worker] org.example.OrderTest                    : Starting OrderTest using Java 17.0.13 with PID 27121 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:38:09.517+01:00  INFO 27121 --- [Test worker] org.example.OrderTest                    : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:38:09.528+01:00 DEBUG 27121 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@20095ab4
2024-12-06T13:38:10.016+01:00  INFO 27121 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:38:10.064+01:00  INFO 27121 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T13:38:10.602+01:00  INFO 27121 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:38:10.635+01:00  INFO 27121 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:38:10.657+01:00  INFO 27121 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:38:10.851+01:00  INFO 27121 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:38:10.871+01:00  INFO 27121 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:38:11.087+01:00  INFO 27121 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@6f22c1f1
2024-12-06T13:38:11.089+01:00  INFO 27121 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:38:11.110+01:00  WARN 27121 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:38:11.765+01:00  INFO 27121 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:38:11.825+01:00  INFO 27121 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:38:12.029+01:00  INFO 27121 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:38:12.806+01:00  WARN 27121 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:38:12.952+01:00 DEBUG 27121 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:38:13.068+01:00 DEBUG 27121 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:38:13.098+01:00 DEBUG 27121 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:38:13.125+01:00 DEBUG 27121 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:38:13.400+01:00  WARN 27121 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:38:13.447+01:00  INFO 27121 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:38:13.448+01:00  INFO 27121 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:38:13.449+01:00  INFO 27121 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:38:13.489+01:00  INFO 27121 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:38:13.513+01:00  INFO 27121 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5e774546:0/SimpleConnection@268467ab [delegate=amqp://guest@127.0.0.1:5672/, localPort=47482]
2024-12-06T13:38:13.547+01:00  INFO 27121 --- [Test worker] org.example.OrderTest                    : Started OrderTest in 4.234 seconds (process running for 4.927)
2024-12-06T13:38:14.005+01:00 DEBUG 27121 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:38:14.012+01:00 DEBUG 27121 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:38:14.091+01:00 DEBUG 27121 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:38:14.125+01:00 DEBUG 27121 --- [Test worker] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T13:38:14.171+01:00 DEBUG 27121 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:38:14.177+01:00 DEBUG 27121 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:38:14.193+01:00 DEBUG 27121 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:38:14.227+01:00 DEBUG 27121 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, pro (truncated)...]
2024-12-06T13:38:14.255+01:00  INFO 27121 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:38:14.260+01:00 DEBUG 27121 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:38:14.269+01:00 ERROR 27121 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T13:38:14.270+01:00 DEBUG 27121 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:38:14.275+01:00 DEBUG 27121 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:38:14.276+01:00 DEBUG 27121 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:38:14.278+01:00 DEBUG 27121 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:38:14.312+01:00 DEBUG 27121 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@20095ab4, started on Fri Dec 06 13:38:09 CET 2024
2024-12-06T13:38:14.316+01:00  INFO 27121 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:38:14.541+01:00  INFO 27121 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:38:14.546+01:00  INFO 27121 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:38:14.548+01:00  INFO 27121 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:38:14.552+01:00  INFO 27121 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:46:01.900+01:00  INFO 28655 --- [Test worker] org.example.OrderTest                    : Starting OrderTest using Java 17.0.13 with PID 28655 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:46:01.902+01:00  INFO 28655 --- [Test worker] org.example.OrderTest                    : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:46:01.916+01:00 DEBUG 28655 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@20095ab4
2024-12-06T13:46:02.381+01:00  INFO 28655 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:46:02.429+01:00  INFO 28655 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 4 JPA repository interfaces.
2024-12-06T13:46:02.951+01:00  INFO 28655 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:46:02.983+01:00  INFO 28655 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:46:03.004+01:00  INFO 28655 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:46:03.200+01:00  INFO 28655 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:46:03.218+01:00  INFO 28655 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:46:03.421+01:00  INFO 28655 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@6f22c1f1
2024-12-06T13:46:03.422+01:00  INFO 28655 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:46:03.442+01:00  WARN 28655 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:46:04.078+01:00  INFO 28655 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:46:04.141+01:00  INFO 28655 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:46:04.353+01:00  INFO 28655 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:46:05.058+01:00  WARN 28655 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:46:05.208+01:00 DEBUG 28655 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:46:05.318+01:00 DEBUG 28655 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:46:05.353+01:00 DEBUG 28655 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:46:05.389+01:00 DEBUG 28655 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:46:05.657+01:00  WARN 28655 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:46:05.704+01:00  INFO 28655 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T13:46:05.705+01:00  INFO 28655 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T13:46:05.706+01:00  INFO 28655 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T13:46:05.744+01:00  INFO 28655 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:46:05.772+01:00  INFO 28655 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5e774546:0/SimpleConnection@61ee1773 [delegate=amqp://guest@127.0.0.1:5672/, localPort=43248]
2024-12-06T13:46:05.805+01:00  INFO 28655 --- [Test worker] org.example.OrderTest                    : Started OrderTest in 4.121 seconds (process running for 4.827)
2024-12-06T13:46:06.246+01:00 DEBUG 28655 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:46:06.259+01:00 DEBUG 28655 --- [Test worker] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:46:06.340+01:00 DEBUG 28655 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:46:06.378+01:00 DEBUG 28655 --- [Test worker] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T13:46:06.409+01:00 DEBUG 28655 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:46:06.413+01:00 DEBUG 28655 --- [Test worker] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:46:06.424+01:00 DEBUG 28655 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:46:06.458+01:00 DEBUG 28655 --- [Test worker] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, pro (truncated)...]
2024-12-06T13:46:06.487+01:00  INFO 28655 --- [Test worker] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:46:06.492+01:00 DEBUG 28655 --- [Test worker] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:46:06.501+01:00 ERROR 28655 --- [Test worker] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=Gitler_Campot, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T13:46:06.503+01:00 DEBUG 28655 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:46:06.507+01:00 DEBUG 28655 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:46:06.508+01:00 DEBUG 28655 --- [Test worker] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:46:06.510+01:00 DEBUG 28655 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:46:06.545+01:00 DEBUG 28655 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@20095ab4, started on Fri Dec 06 13:46:01 CET 2024
2024-12-06T13:46:06.550+01:00  INFO 28655 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:46:06.799+01:00  INFO 28655 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:46:06.807+01:00  INFO 28655 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:46:06.809+01:00  INFO 28655 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:46:06.814+01:00  INFO 28655 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:50:45.383+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 29539 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:50:45.385+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:50:45.410+01:00  INFO 29539 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T13:50:45.410+01:00  INFO 29539 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T13:50:45.835+01:00  INFO 29539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:50:45.885+01:00  INFO 29539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 4 JPA repository interfaces.
2024-12-06T13:50:46.369+01:00  INFO 29539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T13:50:46.377+01:00  INFO 29539 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T13:50:46.377+01:00  INFO 29539 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T13:50:46.401+01:00  INFO 29539 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T13:50:46.401+01:00  INFO 29539 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 990 ms
2024-12-06T13:50:46.521+01:00  INFO 29539 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:50:46.556+01:00  INFO 29539 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T13:50:46.589+01:00  INFO 29539 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:50:46.792+01:00  INFO 29539 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:50:46.811+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:50:46.980+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@1ad7f6a2
2024-12-06T13:50:46.981+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:50:47.000+01:00  WARN 29539 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:50:47.610+01:00  INFO 29539 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:50:47.666+01:00  INFO 29539 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:50:47.846+01:00  INFO 29539 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T13:50:48.386+01:00  WARN 29539 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:50:48.484+01:00 DEBUG 29539 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:50:48.518+01:00 DEBUG 29539 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:50:48.592+01:00 DEBUG 29539 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:50:48.620+01:00 DEBUG 29539 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:50:48.876+01:00  WARN 29539 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:50:48.917+01:00  INFO 29539 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T13:50:48.983+01:00  INFO 29539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T13:50:48.985+01:00  INFO 29539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:50:49.010+01:00  INFO 29539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#635e002e:0/SimpleConnection@bc7e295 [delegate=amqp://guest@127.0.0.1:5672/, localPort=60966]
2024-12-06T13:50:49.040+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : Started Main in 3.905 seconds (process running for 4.224)
2024-12-06T13:50:51.267+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T13:50:51.267+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T13:50:51.268+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T13:50:51.268+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T13:50:51.268+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T13:50:51.269+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7248b50b
2024-12-06T13:50:51.269+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3ebe921c
2024-12-06T13:50:51.269+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T13:50:51.269+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T13:50:51.390+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:50:51.397+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:50:51.410+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:50:51.411+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:50:51.416+01:00  WARN 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T13:50:51.424+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T13:50:51.425+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:50:51.472+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.example.order.dto.ResponseOrderDTO> org.example.order.controller.OrderController.create(org.example.order.dto.RequestOrderDTO): JSON parse error: Cannot deserialize value of type `java.util.ArrayList<org.example.lineItem.dto.RequestLineItemDTO>` from Object value (token `JsonToken.START_OBJECT`)
2024-12-06T13:50:51.473+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:50:51.478+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:50:51.479+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: JSON parse error: Cannot deserialize value of type `java.util.ArrayList<org.ex (truncated)..."]
2024-12-06T13:50:51.482+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList<org.example.lineItem.dto.RequestLineItemDTO>` from Object value (token `JsonToken.START_OBJECT`)]
2024-12-06T13:50:51.483+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T13:51:24.056+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:51:24.057+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:51:24.061+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:51:24.062+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:51:24.064+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T13:51:24.065+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:51:24.066+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.example.order.dto.ResponseOrderDTO> org.example.order.controller.OrderController.create(org.example.order.dto.RequestOrderDTO): JSON parse error: Cannot deserialize value of type `java.util.ArrayList<org.example.lineItem.dto.RequestLineItemDTO>` from Object value (token `JsonToken.START_OBJECT`)
2024-12-06T13:51:24.066+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:51:24.066+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:51:24.067+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: JSON parse error: Cannot deserialize value of type `java.util.ArrayList<org.ex (truncated)..."]
2024-12-06T13:51:24.067+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList<org.example.lineItem.dto.RequestLineItemDTO>` from Object value (token `JsonToken.START_OBJECT`)]
2024-12-06T13:51:24.067+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T13:51:25.138+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:51:25.140+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:51:25.143+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:51:25.144+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:51:25.146+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T13:51:25.146+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:51:25.147+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.example.order.dto.ResponseOrderDTO> org.example.order.controller.OrderController.create(org.example.order.dto.RequestOrderDTO): JSON parse error: Cannot deserialize value of type `java.util.ArrayList<org.example.lineItem.dto.RequestLineItemDTO>` from Object value (token `JsonToken.START_OBJECT`)
2024-12-06T13:51:25.147+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:51:25.147+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:51:25.147+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: JSON parse error: Cannot deserialize value of type `java.util.ArrayList<org.ex (truncated)..."]
2024-12-06T13:51:25.148+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Cannot deserialize value of type `java.util.ArrayList<org.example.lineItem.dto.RequestLineItemDTO>` from Object value (token `JsonToken.START_OBJECT`)]
2024-12-06T13:51:25.148+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T13:51:37.639+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:51:37.640+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:51:37.644+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T13:51:37.645+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T13:51:37.647+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T13:51:37.647+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T13:51:37.651+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T13:51:37.676+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T13:51:37.683+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T13:51:37.694+01:00 ERROR 29539 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=null, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T13:51:37.694+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T13:51:37.694+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T13:51:37.694+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T13:51:37.695+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T13:51:37.695+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T13:55:12.476+01:00  INFO 29539 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 48 class path changes (0 additions, 0 deletions, 48 modifications)
2024-12-06T13:55:12.480+01:00  INFO 29539 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T13:55:13.064+01:00  INFO 29539 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T13:55:13.070+01:00  INFO 29539 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:55:13.072+01:00  INFO 29539 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T13:55:13.074+01:00  INFO 29539 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T13:55:13.146+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 29539 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T13:55:13.146+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T13:55:13.263+01:00  INFO 29539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T13:55:13.275+01:00  INFO 29539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 4 JPA repository interfaces.
2024-12-06T13:55:13.405+01:00  INFO 29539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T13:55:13.406+01:00  INFO 29539 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T13:55:13.406+01:00  INFO 29539 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T13:55:13.411+01:00  INFO 29539 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T13:55:13.411+01:00  INFO 29539 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 264 ms
2024-12-06T13:55:13.471+01:00  INFO 29539 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T13:55:13.473+01:00  INFO 29539 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T13:55:13.479+01:00  INFO 29539 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T13:55:13.480+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T13:55:13.503+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@24b58789
2024-12-06T13:55:13.503+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T13:55:13.505+01:00  WARN 29539 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T13:55:13.570+01:00  INFO 29539 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T13:55:13.607+01:00  INFO 29539 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T13:55:13.856+01:00  WARN 29539 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T13:55:13.892+01:00 DEBUG 29539 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T13:55:13.917+01:00 DEBUG 29539 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T13:55:13.963+01:00 DEBUG 29539 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T13:55:13.973+01:00 DEBUG 29539 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T13:55:14.149+01:00  WARN 29539 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T13:55:14.175+01:00  INFO 29539 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T13:55:14.202+01:00  INFO 29539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T13:55:14.202+01:00  INFO 29539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T13:55:14.204+01:00  INFO 29539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#19e55102:0/SimpleConnection@67b14081 [delegate=amqp://guest@127.0.0.1:5672/, localPort=44280]
2024-12-06T13:55:14.210+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : Started Main in 1.083 seconds (process running for 269.394)
2024-12-06T13:55:14.212+01:00  INFO 29539 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T14:00:55.412+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:00:55.412+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:00:55.412+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:00:55.412+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:00:55.412+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:00:55.413+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1dbebfee
2024-12-06T14:00:55.413+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@43887bb9
2024-12-06T14:00:55.413+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:00:55.413+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T14:00:55.438+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:00:55.440+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:00:55.444+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:00:55.445+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:00:55.448+01:00  WARN 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:00:55.448+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:00:55.448+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:00:55.453+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T14:00:55.455+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:00:55.456+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T14:00:55.458+01:00 ERROR 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=null, customerId=3, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T14:00:55.459+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:00:55.460+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:00:55.460+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '3' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:00:55.462+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '3' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:00:55.462+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:02:44.183+01:00  INFO 29539 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2024-12-06T14:02:44.184+01:00  INFO 29539 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:02:44.247+01:00  INFO 29539 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:02:44.251+01:00  INFO 29539 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:02:44.251+01:00  INFO 29539 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:02:44.253+01:00  INFO 29539 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:02:44.310+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 29539 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:02:44.310+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:02:44.444+01:00  INFO 29539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:02:44.460+01:00  INFO 29539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 15 ms. Found 4 JPA repository interfaces.
2024-12-06T14:02:44.634+01:00  INFO 29539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:02:44.635+01:00  INFO 29539 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:02:44.635+01:00  INFO 29539 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:02:44.641+01:00  INFO 29539 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:02:44.641+01:00  INFO 29539 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 330 ms
2024-12-06T14:02:44.731+01:00  INFO 29539 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:02:44.733+01:00  INFO 29539 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:02:44.740+01:00  INFO 29539 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:02:44.741+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:02:44.765+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@6699066e
2024-12-06T14:02:44.765+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:02:44.767+01:00  WARN 29539 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:02:44.835+01:00  INFO 29539 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:02:44.875+01:00  INFO 29539 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:02:45.172+01:00  WARN 29539 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:02:45.213+01:00 DEBUG 29539 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:02:45.242+01:00 DEBUG 29539 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:02:45.293+01:00 DEBUG 29539 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:02:45.305+01:00 DEBUG 29539 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:02:45.519+01:00  WARN 29539 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:02:45.548+01:00  INFO 29539 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:02:45.576+01:00  INFO 29539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:02:45.577+01:00  INFO 29539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:02:45.579+01:00  INFO 29539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1a061fd1:0/SimpleConnection@1e75f651 [delegate=amqp://guest@127.0.0.1:5672/, localPort=51482]
2024-12-06T14:02:45.586+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : Started Main in 1.295 seconds (process running for 720.77)
2024-12-06T14:02:45.587+01:00  INFO 29539 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T14:03:12.987+01:00  INFO 29539 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 47 class path changes (0 additions, 47 deletions, 0 modifications)
2024-12-06T14:03:12.990+01:00  INFO 29539 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:03:13.584+01:00  INFO 29539 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:03:13.587+01:00  INFO 29539 --- [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:03:13.587+01:00  INFO 29539 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:03:13.589+01:00  INFO 29539 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:03:13.651+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 29539 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:03:13.651+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:03:13.761+01:00  INFO 29539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:03:13.771+01:00  INFO 29539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T14:03:13.890+01:00  INFO 29539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:03:13.890+01:00  INFO 29539 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:03:13.890+01:00  INFO 29539 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:03:13.895+01:00  INFO 29539 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:03:13.895+01:00  INFO 29539 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 243 ms
2024-12-06T14:03:13.958+01:00  INFO 29539 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:03:13.959+01:00  INFO 29539 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:03:13.963+01:00  INFO 29539 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:03:13.964+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:03:13.985+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@5711b55e
2024-12-06T14:03:13.985+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:03:13.987+01:00  WARN 29539 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:03:14.041+01:00  INFO 29539 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:03:14.075+01:00  INFO 29539 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:03:14.316+01:00  WARN 29539 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:03:14.353+01:00 DEBUG 29539 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:03:14.382+01:00 DEBUG 29539 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:03:14.429+01:00 DEBUG 29539 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:03:14.439+01:00 DEBUG 29539 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:03:14.609+01:00  WARN 29539 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:03:14.635+01:00  INFO 29539 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:03:14.661+01:00  INFO 29539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:03:14.661+01:00  INFO 29539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:03:14.663+01:00  INFO 29539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#57554f80:0/SimpleConnection@24fac20b [delegate=amqp://guest@127.0.0.1:5672/, localPort=44714]
2024-12-06T14:03:14.670+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : Started Main in 1.04 seconds (process running for 749.854)
2024-12-06T14:03:14.671+01:00  INFO 29539 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T14:03:16.037+01:00  INFO 29539 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 47 class path changes (47 additions, 0 deletions, 0 modifications)
2024-12-06T14:03:16.038+01:00  INFO 29539 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:03:16.666+01:00  INFO 29539 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:03:16.669+01:00  INFO 29539 --- [Thread-15] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:03:16.670+01:00  INFO 29539 --- [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:03:16.671+01:00  INFO 29539 --- [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:03:16.723+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 29539 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:03:16.723+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:03:16.825+01:00  INFO 29539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:03:16.836+01:00  INFO 29539 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T14:03:16.948+01:00  INFO 29539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:03:16.948+01:00  INFO 29539 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:03:16.948+01:00  INFO 29539 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:03:16.954+01:00  INFO 29539 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:03:16.954+01:00  INFO 29539 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 230 ms
2024-12-06T14:03:17.013+01:00  INFO 29539 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:03:17.014+01:00  INFO 29539 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:03:17.018+01:00  INFO 29539 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:03:17.019+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:03:17.039+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@696ac4c7
2024-12-06T14:03:17.040+01:00  INFO 29539 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:03:17.042+01:00  WARN 29539 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:03:17.092+01:00  INFO 29539 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:03:17.126+01:00  INFO 29539 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:03:17.362+01:00  WARN 29539 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:03:17.397+01:00 DEBUG 29539 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:03:17.426+01:00 DEBUG 29539 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:03:17.474+01:00 DEBUG 29539 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:03:17.485+01:00 DEBUG 29539 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:03:17.692+01:00  WARN 29539 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:03:17.720+01:00  INFO 29539 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:03:17.745+01:00  INFO 29539 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:03:17.746+01:00  INFO 29539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:03:17.748+01:00  INFO 29539 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#71722cb8:0/SimpleConnection@615d2752 [delegate=amqp://guest@127.0.0.1:5672/, localPort=44720]
2024-12-06T14:03:17.755+01:00  INFO 29539 --- [restartedMain] org.example.Main                         : Started Main in 1.046 seconds (process running for 752.94)
2024-12-06T14:03:17.756+01:00  INFO 29539 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T14:04:54.663+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:04:54.663+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:04:54.663+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:04:54.663+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:04:54.663+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:04:54.664+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@25d336ff
2024-12-06T14:04:54.664+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3140aa05
2024-12-06T14:04:54.664+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:04:54.664+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T14:04:54.688+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:04:54.690+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:04:54.693+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:04:54.693+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:04:54.696+01:00  WARN 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:04:54.696+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:04:54.696+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:04:54.701+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T14:04:54.702+01:00  INFO 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:04:54.703+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T14:04:54.705+01:00 ERROR 29539 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T14:04:54.706+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:04:54.706+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:04:54.706+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:04:54.707+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:04:54.707+01:00 DEBUG 29539 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:06:09.257+01:00  INFO 29539 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:06:09.768+01:00  INFO 29539 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:06:09.770+01:00  INFO 29539 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:06:09.771+01:00  INFO 29539 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:06:09.772+01:00  INFO 29539 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:06:13.466+01:00  INFO 35936 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 35936 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:06:13.468+01:00  INFO 35936 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:06:13.498+01:00  INFO 35936 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:06:13.499+01:00  INFO 35936 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:06:13.924+01:00  INFO 35936 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:06:13.975+01:00  INFO 35936 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T14:06:14.479+01:00  INFO 35936 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:06:14.487+01:00  INFO 35936 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:06:14.487+01:00  INFO 35936 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:06:14.511+01:00  INFO 35936 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:06:14.512+01:00  INFO 35936 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1012 ms
2024-12-06T14:06:14.629+01:00  INFO 35936 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:06:14.661+01:00  INFO 35936 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:06:14.687+01:00  INFO 35936 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:06:14.846+01:00  INFO 35936 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:06:14.862+01:00  INFO 35936 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:06:15.018+01:00  INFO 35936 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@15a928c6
2024-12-06T14:06:15.019+01:00  INFO 35936 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:06:15.036+01:00  WARN 35936 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:06:15.609+01:00  INFO 35936 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:06:15.667+01:00  INFO 35936 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:06:15.845+01:00  INFO 35936 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:06:16.392+01:00  WARN 35936 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:06:16.491+01:00 DEBUG 35936 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:06:16.525+01:00 DEBUG 35936 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:06:16.598+01:00 DEBUG 35936 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:06:16.625+01:00 DEBUG 35936 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:06:16.897+01:00  WARN 35936 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:06:16.941+01:00  INFO 35936 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:06:17.005+01:00  INFO 35936 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:06:17.007+01:00  INFO 35936 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:06:17.031+01:00  INFO 35936 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6373302e:0/SimpleConnection@2399b096 [delegate=amqp://guest@127.0.0.1:5672/, localPort=51584]
2024-12-06T14:06:17.061+01:00  INFO 35936 --- [restartedMain] org.example.Main                         : Started Main in 3.852 seconds (process running for 4.195)
2024-12-06T14:06:45.390+01:00  INFO 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:06:45.391+01:00  INFO 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:06:45.391+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:06:45.391+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:06:45.391+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:06:45.392+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1a870e40
2024-12-06T14:06:45.392+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4876253c
2024-12-06T14:06:45.392+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:06:45.392+01:00  INFO 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T14:06:45.509+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:06:45.515+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:06:45.529+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:06:45.530+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:06:45.534+01:00  WARN 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:06:45.541+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:06:45.542+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:06:45.587+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=1, version=1, lineItems=[RequestLineItemDTO[quantity=5, p (truncated)...]
2024-12-06T14:06:45.611+01:00  INFO 35936 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:06:45.619+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T14:06:45.629+01:00 ERROR 35936 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=null, customerId=1, version=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T14:06:45.631+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:06:45.636+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:06:45.636+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:06:45.639+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:06:45.640+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:09:08.572+01:00  INFO 35936 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 21 class path changes (0 additions, 0 deletions, 21 modifications)
2024-12-06T14:09:08.575+01:00  INFO 35936 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:09:09.076+01:00  INFO 35936 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:09:09.082+01:00  INFO 35936 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:09:09.084+01:00  INFO 35936 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:09:09.088+01:00  INFO 35936 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:09:09.146+01:00  INFO 35936 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 35936 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:09:09.146+01:00  INFO 35936 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:09:09.261+01:00  INFO 35936 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:09:09.273+01:00  INFO 35936 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 4 JPA repository interfaces.
2024-12-06T14:09:09.393+01:00  INFO 35936 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:09:09.394+01:00  INFO 35936 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:09:09.394+01:00  INFO 35936 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:09:09.400+01:00  INFO 35936 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:09:09.400+01:00  INFO 35936 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 253 ms
2024-12-06T14:09:09.459+01:00  INFO 35936 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:09:09.461+01:00  INFO 35936 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:09:09.467+01:00  INFO 35936 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:09:09.467+01:00  INFO 35936 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:09:09.489+01:00  INFO 35936 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@17c625a9
2024-12-06T14:09:09.489+01:00  INFO 35936 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:09:09.491+01:00  WARN 35936 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:09:09.553+01:00  INFO 35936 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:09:09.588+01:00  INFO 35936 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:09:09.825+01:00  WARN 35936 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:09:09.859+01:00 DEBUG 35936 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:09:09.886+01:00 DEBUG 35936 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:09:09.930+01:00 DEBUG 35936 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:09:09.941+01:00 DEBUG 35936 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:09:10.102+01:00  WARN 35936 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:09:10.126+01:00  INFO 35936 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:09:10.151+01:00  INFO 35936 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:09:10.152+01:00  INFO 35936 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:09:10.154+01:00  INFO 35936 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#40837b74:0/SimpleConnection@56678114 [delegate=amqp://guest@127.0.0.1:5672/, localPort=55390]
2024-12-06T14:09:10.160+01:00  INFO 35936 --- [restartedMain] org.example.Main                         : Started Main in 1.032 seconds (process running for 177.294)
2024-12-06T14:09:10.161+01:00  INFO 35936 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T14:11:08.651+01:00  INFO 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:11:08.651+01:00  INFO 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:11:08.651+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:11:08.651+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:11:08.651+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:11:08.652+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@131baf23
2024-12-06T14:11:08.652+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7ba2da8d
2024-12-06T14:11:08.652+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:11:08.652+01:00  INFO 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T14:11:08.673+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:11:08.676+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:11:08.681+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:11:08.683+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:11:08.685+01:00  WARN 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:11:08.686+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:11:08.686+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:11:08.690+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T14:11:08.692+01:00  INFO 35936 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:11:08.693+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T14:11:08.695+01:00 ERROR 35936 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T14:11:08.696+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:11:08.696+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:11:08.696+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:11:08.697+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:11:08.697+01:00 DEBUG 35936 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:15:50.302+01:00  INFO 39673 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 39673 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:15:50.304+01:00  INFO 39673 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:15:50.337+01:00  INFO 39673 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:15:50.338+01:00  INFO 39673 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:15:50.783+01:00  INFO 39673 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:15:50.835+01:00  INFO 39673 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T14:15:51.363+01:00  INFO 39673 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:15:51.372+01:00  INFO 39673 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:15:51.372+01:00  INFO 39673 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:15:51.400+01:00  INFO 39673 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:15:51.401+01:00  INFO 39673 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1062 ms
2024-12-06T14:15:51.516+01:00  INFO 39673 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:15:51.544+01:00  INFO 39673 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:15:51.569+01:00  INFO 39673 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:15:51.696+01:00  INFO 35936 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:15:51.749+01:00  INFO 39673 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:15:51.766+01:00  INFO 39673 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:15:51.932+01:00  INFO 39673 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@54f3e7cd
2024-12-06T14:15:51.933+01:00  INFO 39673 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:15:51.954+01:00  WARN 39673 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:15:52.194+01:00  INFO 35936 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:15:52.198+01:00  INFO 35936 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:15:52.199+01:00  INFO 35936 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:15:52.201+01:00  INFO 35936 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:15:52.547+01:00  INFO 39673 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:15:52.608+01:00  INFO 39673 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:15:52.794+01:00  INFO 39673 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:15:53.364+01:00  WARN 39673 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:15:53.463+01:00 DEBUG 39673 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:15:53.499+01:00 DEBUG 39673 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:15:53.579+01:00 DEBUG 39673 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:15:53.608+01:00 DEBUG 39673 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:15:53.862+01:00  WARN 39673 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:15:53.900+01:00  INFO 39673 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:15:53.963+01:00  INFO 39673 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:15:53.965+01:00  INFO 39673 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:15:53.989+01:00  INFO 39673 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#24198ae0:0/SimpleConnection@13f7a70e [delegate=amqp://guest@127.0.0.1:5672/, localPort=60218]
2024-12-06T14:15:54.017+01:00  INFO 39673 --- [restartedMain] org.example.Main                         : Started Main in 3.969 seconds (process running for 4.278)
2024-12-06T14:15:54.020+01:00  INFO 39673 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:15:55.011+01:00  INFO 39673 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:15:55.018+01:00  INFO 39673 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:15:55.020+01:00  INFO 39673 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:15:55.023+01:00  INFO 39673 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:15:57.718+01:00  INFO 39928 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 39928 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:15:57.719+01:00  INFO 39928 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:15:57.742+01:00  INFO 39928 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:15:57.743+01:00  INFO 39928 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:15:58.173+01:00  INFO 39928 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:15:58.221+01:00  INFO 39928 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 4 JPA repository interfaces.
2024-12-06T14:15:58.761+01:00  INFO 39928 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:15:58.772+01:00  INFO 39928 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:15:58.773+01:00  INFO 39928 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:15:58.800+01:00  INFO 39928 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:15:58.801+01:00  INFO 39928 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1057 ms
2024-12-06T14:15:58.933+01:00  INFO 39928 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:15:58.964+01:00  INFO 39928 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:15:58.998+01:00  INFO 39928 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:15:59.201+01:00  INFO 39928 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:15:59.219+01:00  INFO 39928 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:15:59.376+01:00  INFO 39928 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@266e545d
2024-12-06T14:15:59.377+01:00  INFO 39928 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:15:59.394+01:00  WARN 39928 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:15:59.991+01:00  INFO 39928 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:16:00.047+01:00  INFO 39928 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:16:00.230+01:00  INFO 39928 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:16:00.796+01:00  WARN 39928 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:16:00.891+01:00 DEBUG 39928 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:16:00.927+01:00 DEBUG 39928 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:16:01.002+01:00 DEBUG 39928 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:16:01.030+01:00 DEBUG 39928 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:16:01.311+01:00  WARN 39928 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:16:01.352+01:00  INFO 39928 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:16:01.420+01:00  INFO 39928 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:16:01.422+01:00  INFO 39928 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:16:01.446+01:00  INFO 39928 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5434e663:0/SimpleConnection@10fce28d [delegate=amqp://guest@127.0.0.1:5672/, localPort=46156]
2024-12-06T14:16:01.475+01:00  INFO 39928 --- [restartedMain] org.example.Main                         : Started Main in 3.991 seconds (process running for 4.285)
2024-12-06T14:16:03.942+01:00  INFO 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:16:03.942+01:00  INFO 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:16:03.942+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:16:03.942+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:16:03.942+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:16:03.943+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@60aa545f
2024-12-06T14:16:03.943+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@aa5e545
2024-12-06T14:16:03.944+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:16:03.944+01:00  INFO 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T14:16:04.058+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:16:04.065+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:16:04.078+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:16:04.079+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:16:04.083+01:00  WARN 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:16:04.090+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:16:04.091+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:16:04.135+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T14:16:04.158+01:00  INFO 39928 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:16:04.166+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T14:16:04.177+01:00 ERROR 39928 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T14:16:04.182+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:16:04.187+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:16:04.188+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:16:04.191+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:16:04.192+01:00 DEBUG 39928 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:16:55.078+01:00  INFO 39928 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:16:55.475+01:00  INFO 39928 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:16:55.481+01:00  INFO 39928 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:16:55.483+01:00  INFO 39928 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:16:55.486+01:00  INFO 39928 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:16:58.993+01:00  INFO 40720 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 40720 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:16:58.994+01:00  INFO 40720 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:16:59.017+01:00  INFO 40720 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:16:59.017+01:00  INFO 40720 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:16:59.438+01:00  INFO 40720 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:16:59.481+01:00  INFO 40720 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 4 JPA repository interfaces.
2024-12-06T14:16:59.964+01:00  INFO 40720 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:16:59.972+01:00  INFO 40720 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:16:59.973+01:00  INFO 40720 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:16:59.995+01:00  INFO 40720 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:16:59.996+01:00  INFO 40720 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 978 ms
2024-12-06T14:17:00.114+01:00  INFO 40720 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:17:00.142+01:00  INFO 40720 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:17:00.169+01:00  INFO 40720 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:17:00.333+01:00  INFO 40720 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:17:00.350+01:00  INFO 40720 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:17:00.501+01:00  INFO 40720 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@15a928c6
2024-12-06T14:17:00.502+01:00  INFO 40720 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:17:00.518+01:00  WARN 40720 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:17:01.093+01:00  INFO 40720 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:17:01.151+01:00  INFO 40720 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:17:01.335+01:00  INFO 40720 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:17:01.881+01:00  WARN 40720 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:17:01.980+01:00 DEBUG 40720 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:17:02.017+01:00 DEBUG 40720 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:17:02.092+01:00 DEBUG 40720 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:17:02.122+01:00 DEBUG 40720 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:17:02.372+01:00  WARN 40720 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:17:02.411+01:00  INFO 40720 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:17:02.479+01:00  INFO 40720 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:17:02.481+01:00  INFO 40720 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:17:02.505+01:00  INFO 40720 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6373302e:0/SimpleConnection@762e8c6a [delegate=amqp://guest@127.0.0.1:5672/, localPort=33728]
2024-12-06T14:17:02.534+01:00  INFO 40720 --- [restartedMain] org.example.Main                         : Started Main in 3.77 seconds (process running for 4.069)
2024-12-06T14:17:04.595+01:00  INFO 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:17:04.595+01:00  INFO 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:17:04.595+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:17:04.595+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:17:04.595+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:17:04.596+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@29fd3213
2024-12-06T14:17:04.597+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@364f5a56
2024-12-06T14:17:04.597+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:17:04.597+01:00  INFO 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T14:17:04.711+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:17:04.718+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:17:04.731+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:17:04.732+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:17:04.736+01:00  WARN 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:17:04.743+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:17:04.744+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:17:04.789+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T14:17:04.815+01:00  INFO 40720 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:17:04.824+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T14:17:04.836+01:00 ERROR 40720 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T14:17:04.837+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:17:04.842+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:17:04.843+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:17:04.846+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:17:04.847+01:00 DEBUG 40720 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:17:18.256+01:00  INFO 40720 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:17:18.530+01:00  INFO 40720 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:17:18.536+01:00  INFO 40720 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:17:18.538+01:00  INFO 40720 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:17:18.541+01:00  INFO 40720 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:17:20.581+01:00  INFO 41210 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 41210 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:17:20.583+01:00  INFO 41210 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:17:20.607+01:00  INFO 41210 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:17:20.608+01:00  INFO 41210 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:17:21.028+01:00  INFO 41210 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:17:21.072+01:00  INFO 41210 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 4 JPA repository interfaces.
2024-12-06T14:17:21.558+01:00  INFO 41210 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:17:21.566+01:00  INFO 41210 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:17:21.566+01:00  INFO 41210 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:17:21.591+01:00  INFO 41210 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:17:21.591+01:00  INFO 41210 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 983 ms
2024-12-06T14:17:21.707+01:00  INFO 41210 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:17:21.735+01:00  INFO 41210 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:17:21.759+01:00  INFO 41210 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:17:21.922+01:00  INFO 41210 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:17:21.938+01:00  INFO 41210 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:17:22.091+01:00  INFO 41210 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@54f3e7cd
2024-12-06T14:17:22.093+01:00  INFO 41210 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:17:22.109+01:00  WARN 41210 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:17:22.707+01:00  INFO 41210 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:17:22.764+01:00  INFO 41210 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:17:22.952+01:00  INFO 41210 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:17:23.507+01:00  WARN 41210 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:17:23.604+01:00 DEBUG 41210 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:17:23.638+01:00 DEBUG 41210 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:17:23.714+01:00 DEBUG 41210 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:17:23.743+01:00 DEBUG 41210 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:17:23.997+01:00  WARN 41210 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:17:24.035+01:00  INFO 41210 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:17:24.096+01:00  INFO 41210 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:17:24.098+01:00  INFO 41210 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:17:24.121+01:00  INFO 41210 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3b765716:0/SimpleConnection@253d9fe7 [delegate=amqp://guest@127.0.0.1:5672/, localPort=45408]
2024-12-06T14:17:24.153+01:00  INFO 41210 --- [restartedMain] org.example.Main                         : Started Main in 3.816 seconds (process running for 4.107)
2024-12-06T14:17:25.977+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:17:25.977+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:17:25.978+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:17:25.978+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:17:25.978+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:17:25.979+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3923309a
2024-12-06T14:17:25.979+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3674b9ec
2024-12-06T14:17:25.979+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:17:25.979+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T14:17:26.092+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:17:26.099+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:17:26.112+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:17:26.114+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:17:26.118+01:00  WARN 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:17:26.126+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:17:26.127+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:17:26.172+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T14:17:26.198+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:17:26.207+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T14:17:26.218+01:00 ERROR 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1]]]]
2024-12-06T14:17:26.219+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:17:26.224+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:17:26.225+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:17:26.227+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:17:26.228+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:17:32.446+01:00  INFO 41210 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 4 class path changes (0 additions, 0 deletions, 4 modifications)
2024-12-06T14:17:32.449+01:00  INFO 41210 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:17:33.148+01:00  INFO 41210 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:17:33.155+01:00  INFO 41210 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:17:33.157+01:00  INFO 41210 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:17:33.160+01:00  INFO 41210 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:17:33.222+01:00  INFO 41210 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 41210 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:17:33.223+01:00  INFO 41210 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:17:33.350+01:00  INFO 41210 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:17:33.363+01:00  INFO 41210 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 4 JPA repository interfaces.
2024-12-06T14:17:33.496+01:00  INFO 41210 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:17:33.496+01:00  INFO 41210 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:17:33.496+01:00  INFO 41210 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:17:33.502+01:00  INFO 41210 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:17:33.503+01:00  INFO 41210 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 279 ms
2024-12-06T14:17:33.566+01:00  INFO 41210 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:17:33.568+01:00  INFO 41210 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:17:33.574+01:00  INFO 41210 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:17:33.575+01:00  INFO 41210 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:17:33.598+01:00  INFO 41210 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@4785a0db
2024-12-06T14:17:33.599+01:00  INFO 41210 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:17:33.601+01:00  WARN 41210 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:17:33.668+01:00  INFO 41210 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:17:33.704+01:00  INFO 41210 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:17:33.955+01:00  WARN 41210 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:17:33.993+01:00 DEBUG 41210 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:17:34.023+01:00 DEBUG 41210 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:17:34.074+01:00 DEBUG 41210 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:17:34.086+01:00 DEBUG 41210 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:17:34.284+01:00  WARN 41210 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:17:34.309+01:00  INFO 41210 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:17:34.337+01:00  INFO 41210 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:17:34.338+01:00  INFO 41210 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:17:34.339+01:00  INFO 41210 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6f89e5ff:0/SimpleConnection@40ebad33 [delegate=amqp://guest@127.0.0.1:5672/, localPort=44446]
2024-12-06T14:17:34.346+01:00  INFO 41210 --- [restartedMain] org.example.Main                         : Started Main in 1.141 seconds (process running for 14.3)
2024-12-06T14:17:34.348+01:00  INFO 41210 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T14:18:45.207+01:00  INFO 41210 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 47 class path changes (0 additions, 0 deletions, 47 modifications)
2024-12-06T14:18:45.209+01:00  INFO 41210 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:18:45.350+01:00  INFO 41210 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:18:45.353+01:00  INFO 41210 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:18:45.354+01:00  INFO 41210 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:18:45.355+01:00  INFO 41210 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:18:45.414+01:00  INFO 41210 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 41210 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:18:45.414+01:00  INFO 41210 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:18:45.519+01:00  INFO 41210 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:18:45.530+01:00  INFO 41210 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T14:18:45.650+01:00  INFO 41210 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:18:45.651+01:00  INFO 41210 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:18:45.651+01:00  INFO 41210 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:18:45.656+01:00  INFO 41210 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:18:45.656+01:00  INFO 41210 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 241 ms
2024-12-06T14:18:45.709+01:00  INFO 41210 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:18:45.711+01:00  INFO 41210 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:18:45.716+01:00  INFO 41210 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:18:45.716+01:00  INFO 41210 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:18:45.738+01:00  INFO 41210 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@1b021aa2
2024-12-06T14:18:45.738+01:00  INFO 41210 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:18:45.740+01:00  WARN 41210 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:18:45.801+01:00  INFO 41210 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:18:45.809+01:00 DEBUG 41210 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       alter column version set data type bigint
2024-12-06T14:18:46.003+01:00  INFO 41210 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:18:46.233+01:00  WARN 41210 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:18:46.266+01:00 DEBUG 41210 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:18:46.293+01:00 DEBUG 41210 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:18:46.340+01:00 DEBUG 41210 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:18:46.350+01:00 DEBUG 41210 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:18:46.527+01:00  WARN 41210 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:18:46.550+01:00  INFO 41210 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:18:46.575+01:00  INFO 41210 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:18:46.576+01:00  INFO 41210 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:18:46.577+01:00  INFO 41210 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#49465116:0/SimpleConnection@5392349d [delegate=amqp://guest@127.0.0.1:5672/, localPort=39820]
2024-12-06T14:18:46.584+01:00  INFO 41210 --- [restartedMain] org.example.Main                         : Started Main in 1.187 seconds (process running for 86.538)
2024-12-06T14:18:46.584+01:00  INFO 41210 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T14:20:37.683+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:20:37.683+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:20:37.683+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:20:37.683+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:20:37.683+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:20:37.684+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6d13b989
2024-12-06T14:20:37.684+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@284c7fcf
2024-12-06T14:20:37.684+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:20:37.684+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T14:20:37.706+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:20:37.708+01:00 ERROR 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.RuntimeException: User not found
	at org.example.configurations.filters.JwtAuthenticationFilter.lambda$doFilterInternal$0(JwtAuthenticationFilter.java:42) ~[main/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.configurations.filters.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:42) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-06T14:20:37.715+01:00  WARN 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for ERROR dispatch to '/error' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:20:37.717+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2024-12-06T14:20:37.717+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-06T14:20:37.721+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:20:37.722+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Fri Dec 06 14:20:37 CET 2024, status=500, error=Internal Server Error, trace=java.lang.Ru (truncated)...]
2024-12-06T14:20:37.731+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-06T14:22:28.245+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:22:28.247+01:00 ERROR 41210 --- [http-nio-0.0.0.0-8080-exec-4] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.RuntimeException: User not found
	at org.example.configurations.filters.JwtAuthenticationFilter.lambda$doFilterInternal$0(JwtAuthenticationFilter.java:42) ~[main/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.configurations.filters.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:42) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-06T14:22:28.248+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2024-12-06T14:22:28.248+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-06T14:22:28.249+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:22:28.249+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Fri Dec 06 14:22:28 CET 2024, status=500, error=Internal Server Error, trace=java.lang.Ru (truncated)...]
2024-12-06T14:22:28.249+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-06T14:22:33.436+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/apiv1/auth/registration", parameters={}
2024-12-06T14:22:33.436+01:00  WARN 41210 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.PageNotFound             : No mapping for POST /apiv1/auth/registration
2024-12-06T14:22:33.437+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:22:33.437+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:22:33.437+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: No endpoint POST /apiv1/auth/registration."]
2024-12-06T14:22:33.438+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.web.servlet.NoHandlerFoundException: No endpoint POST /apiv1/auth/registration.]
2024-12-06T14:22:33.438+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:22:39.760+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/registration", parameters={}
2024-12-06T14:22:39.760+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#registration(RequestRegistrationDTO)
2024-12-06T14:22:39.763+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestRegistrationDTO[username=username1, password=password1, sector=sector1]]
2024-12-06T14:22:39.764+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:registration
2024-12-06T14:22:39.851+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T14:22:39.859+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T14:22:39.875+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Result: <200 OK OK,[]>
	
2024-12-06T14:22:39.876+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:22:39.876+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2024-12-06T14:22:39.877+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T14:22:46.049+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:22:46.051+01:00 ERROR 41210 --- [http-nio-0.0.0.0-8080-exec-9] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.RuntimeException: User not found
	at org.example.configurations.filters.JwtAuthenticationFilter.lambda$doFilterInternal$0(JwtAuthenticationFilter.java:42) ~[main/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.configurations.filters.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:42) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-06T14:22:46.052+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2024-12-06T14:22:46.053+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-06T14:22:46.053+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:22:46.054+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Fri Dec 06 14:22:46 CET 2024, status=500, error=Internal Server Error, trace=java.lang.Ru (truncated)...]
2024-12-06T14:22:46.055+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-06T14:25:19.079+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T14:25:19.079+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T14:25:19.081+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password1]]
2024-12-06T14:25:19.081+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T14:25:19.157+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:25:19.159+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:25:19.236+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:25:19.244+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IxIiwidmVyc2lvbiI6MCwic3ViIjoidXNlcm5hbWUxIiwiaWF0IjoxNzMzNDkxNTE5LCJleHAiOjE3MzM1Nzc5MTl9.xYJM8v9gFZD-xytLpTmEK5AheYgj77YLdqlt1FVsp7A],[]>
	
2024-12-06T14:25:19.249+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:25:19.249+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T14:25:19.250+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T14:25:32.229+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:25:32.231+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:25:32.235+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:25:32.236+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:25:32.239+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:25:32.240+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:25:32.244+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T14:25:32.247+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:25:32.247+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:25:32.247+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:25:32.248+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:25:32.248+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:25:36.142+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:25:36.143+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:25:36.146+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:25:36.146+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:25:36.148+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:25:36.148+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:25:36.149+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T14:25:36.149+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:25:36.150+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:25:36.150+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:25:36.150+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:25:36.150+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:26:00.668+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T14:26:00.669+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T14:26:00.672+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.method.HandlerMethod             : Could not resolve parameter [0] in public org.springframework.http.ResponseEntity<org.example.authentication.dto.ResponseLoginDTO> org.example.authentication.controller.AuthController.authentication(org.example.authentication.dto.RequestLoginDTO): JSON parse error: Unexpected character ('}' (code 125)): was expecting double-quote to start field name
2024-12-06T14:26:00.672+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:26:00.672+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:26:00.672+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: JSON parse error: Unexpected character ('}' (code 125)): was expecting double- (truncated)..."]
2024-12-06T14:26:00.673+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('}' (code 125)): was expecting double-quote to start field name]
2024-12-06T14:26:00.673+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:26:06.463+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T14:26:06.463+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T14:26:06.464+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password1]]
2024-12-06T14:26:06.464+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T14:26:06.465+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:26:06.466+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:26:06.542+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:26:06.544+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IxIiwidmVyc2lvbiI6MCwic3ViIjoidXNlcm5hbWUxIiwiaWF0IjoxNzMzNDkxNTY2LCJleHAiOjE3MzM1Nzc5NjZ9.7icw_Bx54BTk9DNI1P4Fh6AEWQC_pZMd5kfvo-XKa3w],[]>
	
2024-12-06T14:26:06.544+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:26:06.544+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T14:26:06.545+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T14:26:08.274+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T14:26:08.274+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T14:26:08.275+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password1]]
2024-12-06T14:26:08.275+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T14:26:08.277+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:26:08.277+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:26:08.358+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:26:08.359+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IxIiwidmVyc2lvbiI6MCwic3ViIjoidXNlcm5hbWUxIiwiaWF0IjoxNzMzNDkxNTY4LCJleHAiOjE3MzM1Nzc5Njh9.TLKeeACAxzAwH36DRgZpYDqoLclCT1dkMeGidm5Fg3I],[]>
	
2024-12-06T14:26:08.360+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:26:08.360+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T14:26:08.360+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T14:26:22.649+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:26:22.650+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:26:22.653+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:26:22.654+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:26:22.655+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:26:22.656+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:26:22.656+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T14:26:22.657+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:26:22.657+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:26:22.657+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:26:22.657+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:26:22.658+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:26:23.517+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:26:23.518+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:26:23.520+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:26:23.521+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:26:23.523+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:26:23.523+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:26:23.524+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T14:26:23.524+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:26:23.524+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:26:23.524+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:26:23.525+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:26:23.525+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:26:24.068+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:26:24.069+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:26:24.072+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:26:24.073+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:26:24.075+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:26:24.075+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:26:24.076+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=null, customerId=1, lineItems=[RequestLineItemDTO[quantity=5, productId=1] (truncated)...]
2024-12-06T14:26:24.076+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:26:24.076+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:26:24.076+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:26:24.077+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:26:24.077+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:31:56.147+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T14:31:56.147+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T14:31:56.149+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password1]]
2024-12-06T14:31:56.149+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T14:31:56.151+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:31:56.152+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:31:56.233+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:31:56.234+01:00  INFO 41210 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IxIiwidmVyc2lvbiI6MCwic3ViIjoidXNlcm5hbWUxIiwiaWF0IjoxNzMzNDkxOTE2LCJleHAiOjE3MzM1NzgzMTZ9.KR_TBLrWQekkS0GIwPivl_uj5EjmvsDCMgL9wY3e0Ek],[]>
	
2024-12-06T14:31:56.234+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:31:56.234+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T14:31:56.235+01:00 DEBUG 41210 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T14:32:54.201+01:00  INFO 41210 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:32:54.691+01:00  INFO 41210 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:32:54.698+01:00  INFO 41210 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:32:54.698+01:00  INFO 41210 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:32:54.699+01:00  INFO 41210 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:33:20.674+01:00  INFO 48719 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 48719 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:33:20.676+01:00  INFO 48719 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:33:20.700+01:00  INFO 48719 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:33:20.701+01:00  INFO 48719 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:33:21.145+01:00  INFO 48719 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:33:21.196+01:00  INFO 48719 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T14:33:21.718+01:00  INFO 48719 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:33:21.726+01:00  INFO 48719 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:33:21.727+01:00  INFO 48719 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:33:21.750+01:00  INFO 48719 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:33:21.750+01:00  INFO 48719 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1048 ms
2024-12-06T14:33:21.871+01:00  INFO 48719 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:33:21.899+01:00  INFO 48719 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:33:21.924+01:00  INFO 48719 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:33:22.129+01:00  INFO 48719 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:33:22.146+01:00  INFO 48719 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:33:22.309+01:00  INFO 48719 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@54f3e7cd
2024-12-06T14:33:22.310+01:00  INFO 48719 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:33:22.328+01:00  WARN 48719 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:33:22.915+01:00  INFO 48719 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:33:22.937+01:00 DEBUG 48719 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       alter column customer_id set data type bigint
2024-12-06T14:33:23.022+01:00 DEBUG 48719 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       alter column version set data type bigint
2024-12-06T14:33:23.072+01:00 DEBUG 48719 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       alter column line_item_id set data type bigint
2024-12-06T14:33:23.156+01:00 DEBUG 48719 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists orders 
       alter column order_id set data type bigint
2024-12-06T14:33:23.223+01:00 DEBUG 48719 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column product_id set data type bigint
2024-12-06T14:33:23.281+01:00 DEBUG 48719 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column price set data type float(53)
2024-12-06T14:33:23.340+01:00 DEBUG 48719 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column user_id set data type bigint
2024-12-06T14:33:23.473+01:00 DEBUG 48719 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column password set data type varchar(255)
2024-12-06T14:33:23.568+01:00  INFO 48719 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:33:23.770+01:00  INFO 48719 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:33:24.341+01:00  WARN 48719 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:33:24.443+01:00 DEBUG 48719 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:33:24.482+01:00 DEBUG 48719 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:33:24.562+01:00 DEBUG 48719 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:33:24.595+01:00 DEBUG 48719 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:33:24.887+01:00  WARN 48719 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:33:24.936+01:00  INFO 48719 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:33:25.010+01:00  INFO 48719 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:33:25.012+01:00  INFO 48719 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:33:25.038+01:00  INFO 48719 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3b765716:0/SimpleConnection@55417358 [delegate=amqp://guest@127.0.0.1:5672/, localPort=34978]
2024-12-06T14:33:25.073+01:00  INFO 48719 --- [restartedMain] org.example.Main                         : Started Main in 4.655 seconds (process running for 4.963)
2024-12-06T14:34:03.041+01:00  INFO 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:34:03.041+01:00  INFO 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:34:03.042+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:34:03.042+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:34:03.042+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:34:03.043+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3923309a
2024-12-06T14:34:03.043+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3674b9ec
2024-12-06T14:34:03.043+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:34:03.043+01:00  INFO 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T14:34:03.153+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:34:03.160+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:34:03.172+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:34:03.173+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:34:03.176+01:00  WARN 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:34:03.183+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:34:03.184+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:34:03.222+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:34:03.245+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:34:03.250+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:34:03.250+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:34:03.253+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:34:03.254+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:34:19.265+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:34:19.266+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:34:19.270+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:34:19.271+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:34:19.274+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:34:19.274+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:34:19.275+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:34:19.276+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:34:19.276+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:34:19.276+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:34:19.277+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:34:19.278+01:00 DEBUG 48719 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:34:33.379+01:00  INFO 48719 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:34:34.070+01:00  INFO 48719 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:34:34.078+01:00  INFO 48719 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:34:34.080+01:00  INFO 48719 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:34:34.084+01:00  INFO 48719 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:34:38.699+01:00  INFO 49116 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 49116 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:34:38.700+01:00  INFO 49116 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:34:38.724+01:00  INFO 49116 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:34:38.724+01:00  INFO 49116 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:34:39.158+01:00  INFO 49116 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:34:39.203+01:00  INFO 49116 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 4 JPA repository interfaces.
2024-12-06T14:34:39.693+01:00  INFO 49116 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:34:39.701+01:00  INFO 49116 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:34:39.701+01:00  INFO 49116 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:34:39.724+01:00  INFO 49116 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:34:39.724+01:00  INFO 49116 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 999 ms
2024-12-06T14:34:39.841+01:00  INFO 49116 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:34:39.869+01:00  INFO 49116 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:34:39.894+01:00  INFO 49116 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:34:40.075+01:00  INFO 49116 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:34:40.094+01:00  INFO 49116 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:34:40.296+01:00  INFO 49116 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@54f3e7cd
2024-12-06T14:34:40.298+01:00  INFO 49116 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:34:40.317+01:00  WARN 49116 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:34:40.921+01:00  INFO 49116 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:34:40.977+01:00  INFO 49116 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:34:41.159+01:00  INFO 49116 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:34:41.705+01:00  WARN 49116 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:34:41.798+01:00 DEBUG 49116 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:34:41.831+01:00 DEBUG 49116 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:34:41.907+01:00 DEBUG 49116 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:34:41.936+01:00 DEBUG 49116 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:34:42.195+01:00  WARN 49116 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:34:42.233+01:00  INFO 49116 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:34:42.295+01:00  INFO 49116 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:34:42.298+01:00  INFO 49116 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:34:42.321+01:00  INFO 49116 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3b765716:0/SimpleConnection@246aaf4d [delegate=amqp://guest@127.0.0.1:5672/, localPort=34288]
2024-12-06T14:34:42.349+01:00  INFO 49116 --- [restartedMain] org.example.Main                         : Started Main in 3.891 seconds (process running for 4.175)
2024-12-06T14:34:47.070+01:00  INFO 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:34:47.070+01:00  INFO 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:34:47.070+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:34:47.070+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:34:47.070+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:34:47.071+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@31b653c0
2024-12-06T14:34:47.071+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7881d19f
2024-12-06T14:34:47.072+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:34:47.072+01:00  INFO 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T14:34:47.079+01:00  WARN 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/v1/auth/authentication' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:34:47.087+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T14:34:47.089+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T14:34:47.141+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password1]]
2024-12-06T14:34:47.147+01:00  INFO 49116 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T14:34:47.270+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:34:47.277+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:34:47.366+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:34:47.391+01:00  INFO 49116 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiTUFOQUdFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IxIiwidmVyc2lvbiI6MCwic3ViIjoidXNlcm5hbWUxIiwiaWF0IjoxNzMzNDkyMDg3LCJleHAiOjE3MzM1Nzg0ODd9.e7nTBlbfv0ndMrF4H2vESCSb7D5OYt-7TYs5mdm5msw],[]>
	
2024-12-06T14:34:47.398+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:34:47.398+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiTUFOQUdFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b (truncated)...]
2024-12-06T14:34:47.404+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T14:35:04.089+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:35:04.091+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:35:04.095+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:35:04.096+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:35:04.099+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:35:04.100+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:35:04.105+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:35:04.124+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:35:04.124+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:35:04.125+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:35:04.126+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:35:04.126+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:35:19.305+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:35:19.306+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:35:19.310+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:35:19.311+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:35:19.313+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:35:19.314+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:35:19.314+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:35:19.315+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:35:19.315+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:35:19.315+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:35:19.316+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:35:19.316+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:35:32.234+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:35:32.236+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:35:32.240+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:35:32.241+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:35:32.244+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:35:32.244+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:35:32.245+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:35:32.246+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:35:32.246+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:35:32.246+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:35:32.246+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:35:32.247+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:35:44.278+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T14:35:44.278+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T14:35:44.279+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password1]]
2024-12-06T14:35:44.279+01:00  INFO 49116 --- [http-nio-0.0.0.0-8080-exec-5] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T14:35:44.281+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:35:44.282+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:35:44.358+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:35:44.359+01:00  INFO 49116 --- [http-nio-0.0.0.0-8080-exec-5] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiTUFOQUdFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IxIiwidmVyc2lvbiI6MCwic3ViIjoidXNlcm5hbWUxIiwiaWF0IjoxNzMzNDkyMTQ0LCJleHAiOjE3MzM1Nzg1NDR9.Jk68SQQwj1S--N0o3q8dFbxAfjfA0nXr7qek574iS7E],[]>
	
2024-12-06T14:35:44.360+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:35:44.360+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiTUFOQUdFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b (truncated)...]
2024-12-06T14:35:44.360+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T14:35:58.524+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:35:58.525+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:35:58.528+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:35:58.529+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:35:58.532+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:35:58.532+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:35:58.532+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:35:58.533+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:35:58.533+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:35:58.533+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:35:58.534+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:35:58.534+01:00 DEBUG 49116 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:36:06.240+01:00  INFO 49116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:36:06.353+01:00  INFO 49116 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:36:06.360+01:00  INFO 49116 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:36:06.362+01:00  INFO 49116 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:36:06.364+01:00  INFO 49116 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:36:09.306+01:00  INFO 49563 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 49563 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:36:09.308+01:00  INFO 49563 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:36:09.332+01:00  INFO 49563 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:36:09.332+01:00  INFO 49563 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:36:09.768+01:00  INFO 49563 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:36:09.817+01:00  INFO 49563 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 4 JPA repository interfaces.
2024-12-06T14:36:10.327+01:00  INFO 49563 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:36:10.336+01:00  INFO 49563 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:36:10.336+01:00  INFO 49563 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:36:10.361+01:00  INFO 49563 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:36:10.361+01:00  INFO 49563 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1028 ms
2024-12-06T14:36:10.482+01:00  INFO 49563 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:36:10.510+01:00  INFO 49563 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:36:10.533+01:00  INFO 49563 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:36:10.695+01:00  INFO 49563 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:36:10.711+01:00  INFO 49563 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:36:10.868+01:00  INFO 49563 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@54f3e7cd
2024-12-06T14:36:10.869+01:00  INFO 49563 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:36:10.886+01:00  WARN 49563 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:36:11.463+01:00  INFO 49563 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:36:11.520+01:00  INFO 49563 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:36:11.702+01:00  INFO 49563 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:36:12.246+01:00  WARN 49563 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:36:12.339+01:00 DEBUG 49563 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:36:12.372+01:00 DEBUG 49563 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:36:12.448+01:00 DEBUG 49563 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:36:12.476+01:00 DEBUG 49563 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:36:12.739+01:00  WARN 49563 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:36:12.781+01:00  INFO 49563 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:36:12.844+01:00  INFO 49563 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:36:12.846+01:00  INFO 49563 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:36:12.871+01:00  INFO 49563 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3b765716:0/SimpleConnection@55417358 [delegate=amqp://guest@127.0.0.1:5672/, localPort=35738]
2024-12-06T14:36:12.900+01:00  INFO 49563 --- [restartedMain] org.example.Main                         : Started Main in 3.83 seconds (process running for 4.147)
2024-12-06T14:36:14.877+01:00  INFO 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:36:14.877+01:00  INFO 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:36:14.878+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:36:14.878+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:36:14.878+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:36:14.879+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@3923309a
2024-12-06T14:36:14.879+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3674b9ec
2024-12-06T14:36:14.879+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:36:14.879+01:00  INFO 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T14:36:14.988+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:36:14.994+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:36:15.007+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:36:15.007+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:36:15.010+01:00  WARN 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:36:15.018+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:36:15.019+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:36:15.057+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:36:15.081+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T14:36:15.087+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:36:15.088+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T14:36:15.092+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T14:36:15.092+01:00 DEBUG 49563 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T14:42:37.904+01:00  INFO 49563 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:42:37.937+01:00  INFO 49563 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:42:37.948+01:00  INFO 49563 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:42:37.950+01:00  INFO 49563 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:42:37.953+01:00  INFO 49563 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:42:41.069+01:00  INFO 50692 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 50692 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:42:41.072+01:00  INFO 50692 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:42:41.101+01:00  INFO 50692 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:42:41.101+01:00  INFO 50692 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:42:41.549+01:00  INFO 50692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:42:41.603+01:00  INFO 50692 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 4 JPA repository interfaces.
2024-12-06T14:42:42.104+01:00  INFO 50692 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:42:42.112+01:00  INFO 50692 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:42:42.112+01:00  INFO 50692 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:42:42.135+01:00  INFO 50692 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:42:42.135+01:00  INFO 50692 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1033 ms
2024-12-06T14:42:42.249+01:00  INFO 50692 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:42:42.277+01:00  INFO 50692 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:42:42.301+01:00  INFO 50692 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:42:42.464+01:00  INFO 50692 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:42:42.480+01:00  INFO 50692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:42:42.635+01:00  INFO 50692 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@5d40a128
2024-12-06T14:42:42.636+01:00  INFO 50692 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:42:42.653+01:00  WARN 50692 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:42:43.249+01:00  INFO 50692 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:42:43.271+01:00 DEBUG 50692 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       alter column version set data type integer
2024-12-06T14:42:43.381+01:00  INFO 50692 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:42:43.571+01:00  INFO 50692 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:42:44.114+01:00  WARN 50692 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:42:44.206+01:00 DEBUG 50692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:42:44.239+01:00 DEBUG 50692 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:42:44.315+01:00 DEBUG 50692 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:42:44.347+01:00 DEBUG 50692 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:42:44.619+01:00  WARN 50692 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:42:44.661+01:00  INFO 50692 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:42:44.727+01:00  INFO 50692 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:42:44.730+01:00  INFO 50692 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:42:44.755+01:00  INFO 50692 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1bcadc8:0/SimpleConnection@246aaf4d [delegate=amqp://guest@127.0.0.1:5672/, localPort=50416]
2024-12-06T14:42:44.785+01:00  INFO 50692 --- [restartedMain] org.example.Main                         : Started Main in 4.025 seconds (process running for 4.343)
2024-12-06T14:42:53.016+01:00  INFO 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:42:53.017+01:00  INFO 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:42:53.017+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:42:53.017+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:42:53.017+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:42:53.018+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@44d59296
2024-12-06T14:42:53.018+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@794abe1e
2024-12-06T14:42:53.018+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:42:53.018+01:00  INFO 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T14:42:53.120+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:42:53.126+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:42:53.139+01:00  WARN 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:42:53.146+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:42:53.147+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:42:53.190+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:42:53.210+01:00  INFO 50692 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:42:53.217+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T14:42:53.227+01:00 ERROR 50692 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:42:53.228+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:42:53.232+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:42:53.233+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:42:53.235+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:42:53.236+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:43:39.207+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T14:43:39.209+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T14:43:39.213+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:43:39.213+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:43:39.213+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:43:39.214+01:00  INFO 50692 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:43:39.215+01:00 ERROR 50692 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:43:39.215+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:43:39.215+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:43:39.215+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:43:39.216+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:43:39.216+01:00 DEBUG 50692 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:47:36.279+01:00  INFO 50692 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:47:36.814+01:00  INFO 50692 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:47:36.820+01:00  INFO 50692 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:47:36.822+01:00  INFO 50692 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:47:36.825+01:00  INFO 50692 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:47:39.334+01:00  INFO 51859 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 51859 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:47:39.336+01:00  INFO 51859 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:47:39.361+01:00  INFO 51859 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:47:39.361+01:00  INFO 51859 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:47:39.804+01:00  INFO 51859 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:47:39.852+01:00  INFO 51859 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 4 JPA repository interfaces.
2024-12-06T14:47:40.368+01:00  INFO 51859 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:47:40.377+01:00  INFO 51859 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:47:40.377+01:00  INFO 51859 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:47:40.403+01:00  INFO 51859 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:47:40.404+01:00  INFO 51859 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1043 ms
2024-12-06T14:47:40.523+01:00  INFO 51859 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:47:40.552+01:00  INFO 51859 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:47:40.578+01:00  INFO 51859 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:47:40.738+01:00  INFO 51859 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:47:40.754+01:00  INFO 51859 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:47:40.907+01:00  INFO 51859 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T14:47:40.908+01:00  INFO 51859 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:47:40.925+01:00  WARN 51859 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:47:41.500+01:00  INFO 51859 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:47:41.556+01:00  INFO 51859 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:47:41.734+01:00  INFO 51859 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:47:42.269+01:00  WARN 51859 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:47:42.361+01:00 DEBUG 51859 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:47:42.396+01:00 DEBUG 51859 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:47:42.470+01:00 DEBUG 51859 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:47:42.499+01:00 DEBUG 51859 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:47:42.759+01:00  WARN 51859 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:47:42.803+01:00  INFO 51859 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:47:42.871+01:00  INFO 51859 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:47:42.873+01:00  INFO 51859 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:47:42.899+01:00  INFO 51859 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#209b161a:0/SimpleConnection@2d13a15d [delegate=amqp://guest@127.0.0.1:5672/, localPort=43808]
2024-12-06T14:47:42.929+01:00  INFO 51859 --- [restartedMain] org.example.Main                         : Started Main in 3.836 seconds (process running for 4.156)
2024-12-06T14:48:03.004+01:00  INFO 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:48:03.004+01:00  INFO 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:48:03.004+01:00 DEBUG 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:48:03.004+01:00 DEBUG 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:48:03.004+01:00 DEBUG 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:48:03.005+01:00 DEBUG 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5063f59e
2024-12-06T14:48:03.005+01:00 DEBUG 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2f3e607
2024-12-06T14:48:03.005+01:00 DEBUG 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:48:03.005+01:00  INFO 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T14:48:03.045+01:00 ERROR 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NumberFormatException: Cannot parse null string
	at java.base/java.lang.Long.parseLong(Long.java:674) ~[na:na]
	at java.base/java.lang.Long.parseLong(Long.java:836) ~[na:na]
	at org.example.authentication.application.impl.JWTServiceImpl.extractId(JWTServiceImpl.java:38) ~[main/:na]
	at org.example.configurations.filters.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-06T14:48:03.052+01:00  WARN 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for ERROR dispatch to '/error' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:48:03.061+01:00 DEBUG 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2024-12-06T14:48:03.062+01:00 DEBUG 51859 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-06T14:48:03.077+01:00 DEBUG 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:48:03.077+01:00 DEBUG 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Fri Dec 06 14:48:03 CET 2024, status=500, error=Internal Server Error, trace=java.lang.Nu (truncated)...]
2024-12-06T14:48:03.095+01:00 DEBUG 51859 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-06T14:50:08.205+01:00  INFO 51859 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 5 class path changes (0 additions, 0 deletions, 5 modifications)
2024-12-06T14:50:08.208+01:00  INFO 51859 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:50:08.941+01:00  INFO 51859 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:50:08.949+01:00  INFO 51859 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:50:08.951+01:00  INFO 51859 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:50:08.954+01:00  INFO 51859 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:50:09.010+01:00  INFO 51859 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 51859 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:50:09.011+01:00  INFO 51859 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:50:09.128+01:00  INFO 51859 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:50:09.139+01:00  INFO 51859 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 4 JPA repository interfaces.
2024-12-06T14:50:09.262+01:00  INFO 51859 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:50:09.263+01:00  INFO 51859 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:50:09.263+01:00  INFO 51859 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:50:09.268+01:00  INFO 51859 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:50:09.269+01:00  INFO 51859 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 257 ms
2024-12-06T14:50:09.331+01:00  INFO 51859 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:50:09.333+01:00  INFO 51859 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:50:09.338+01:00  INFO 51859 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:50:09.339+01:00  INFO 51859 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:50:09.361+01:00  INFO 51859 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2c34ff2e
2024-12-06T14:50:09.361+01:00  INFO 51859 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:50:09.363+01:00  WARN 51859 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:50:09.425+01:00  INFO 51859 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:50:09.463+01:00  INFO 51859 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:50:09.701+01:00  WARN 51859 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:50:09.735+01:00 DEBUG 51859 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:50:09.762+01:00 DEBUG 51859 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:50:09.806+01:00 DEBUG 51859 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:50:09.816+01:00 DEBUG 51859 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:50:09.980+01:00  WARN 51859 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:50:10.004+01:00  INFO 51859 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:50:10.028+01:00  INFO 51859 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:50:10.029+01:00  INFO 51859 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:50:10.030+01:00  INFO 51859 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2ebc73a0:0/SimpleConnection@7c50d6b5 [delegate=amqp://guest@127.0.0.1:5672/, localPort=51444]
2024-12-06T14:50:10.037+01:00  INFO 51859 --- [restartedMain] org.example.Main                         : Started Main in 1.044 seconds (process running for 151.264)
2024-12-06T14:50:10.038+01:00  INFO 51859 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T14:50:17.877+01:00  INFO 51859 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:50:18.035+01:00  INFO 51859 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:50:18.039+01:00  INFO 51859 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:50:18.039+01:00  INFO 51859 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:50:18.040+01:00  INFO 51859 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:50:20.516+01:00  INFO 53295 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 53295 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:50:20.517+01:00  INFO 53295 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:50:20.540+01:00  INFO 53295 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:50:20.541+01:00  INFO 53295 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:50:20.961+01:00  INFO 53295 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:50:21.007+01:00  INFO 53295 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T14:50:21.504+01:00  INFO 53295 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:50:21.512+01:00  INFO 53295 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:50:21.512+01:00  INFO 53295 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:50:21.538+01:00  INFO 53295 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:50:21.538+01:00  INFO 53295 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 997 ms
2024-12-06T14:50:21.657+01:00  INFO 53295 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:50:21.685+01:00  INFO 53295 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:50:21.711+01:00  INFO 53295 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:50:21.873+01:00  INFO 53295 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:50:21.890+01:00  INFO 53295 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:50:22.046+01:00  INFO 53295 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T14:50:22.047+01:00  INFO 53295 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:50:22.065+01:00  WARN 53295 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:50:22.658+01:00  INFO 53295 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:50:22.715+01:00  INFO 53295 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:50:22.899+01:00  INFO 53295 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:50:23.447+01:00  WARN 53295 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:50:23.545+01:00 DEBUG 53295 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:50:23.580+01:00 DEBUG 53295 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:50:23.652+01:00 DEBUG 53295 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:50:23.679+01:00 DEBUG 53295 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:50:23.960+01:00  WARN 53295 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:50:24.001+01:00  INFO 53295 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:50:24.066+01:00  INFO 53295 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:50:24.069+01:00  INFO 53295 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:50:24.094+01:00  INFO 53295 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#209b161a:0/SimpleConnection@1ff267a2 [delegate=amqp://guest@127.0.0.1:5672/, localPort=58658]
2024-12-06T14:50:24.124+01:00  INFO 53295 --- [restartedMain] org.example.Main                         : Started Main in 3.851 seconds (process running for 4.16)
2024-12-06T14:50:30.511+01:00  INFO 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:50:30.511+01:00  INFO 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:50:30.511+01:00 DEBUG 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:50:30.511+01:00 DEBUG 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:50:30.511+01:00 DEBUG 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:50:30.512+01:00 DEBUG 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2df2a740
2024-12-06T14:50:30.512+01:00 DEBUG 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@31b653c0
2024-12-06T14:50:30.513+01:00 DEBUG 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:50:30.513+01:00  INFO 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T14:50:30.553+01:00 ERROR 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Long (java.lang.Integer and java.lang.Long are in module java.base of loader 'bootstrap')
	at org.example.authentication.application.impl.JWTServiceImpl.lambda$extractId$0(JWTServiceImpl.java:38) ~[main/:na]
	at org.example.authentication.application.impl.JWTServiceImpl.extractClaim(JWTServiceImpl.java:44) ~[main/:na]
	at org.example.authentication.application.impl.JWTServiceImpl.extractId(JWTServiceImpl.java:38) ~[main/:na]
	at org.example.configurations.filters.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-06T14:50:30.560+01:00  WARN 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for ERROR dispatch to '/error' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:50:30.568+01:00 DEBUG 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2024-12-06T14:50:30.569+01:00 DEBUG 53295 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-06T14:50:30.584+01:00 DEBUG 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:50:30.585+01:00 DEBUG 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Fri Dec 06 14:50:30 CET 2024, status=500, error=Internal Server Error, trace=java.lang.Cl (truncated)...]
2024-12-06T14:50:30.604+01:00 DEBUG 53295 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-06T14:52:32.157+01:00  INFO 53295 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:52:33.133+01:00  INFO 53295 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:52:33.140+01:00  INFO 53295 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:52:33.142+01:00  INFO 53295 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:52:33.145+01:00  INFO 53295 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:52:35.393+01:00  INFO 53733 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 53733 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:52:35.395+01:00  INFO 53733 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:52:35.419+01:00  INFO 53733 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:52:35.420+01:00  INFO 53733 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:52:35.856+01:00  INFO 53733 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:52:35.902+01:00  INFO 53733 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 4 JPA repository interfaces.
2024-12-06T14:52:36.408+01:00  INFO 53733 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:52:36.416+01:00  INFO 53733 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:52:36.417+01:00  INFO 53733 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:52:36.442+01:00  INFO 53733 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:52:36.443+01:00  INFO 53733 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1022 ms
2024-12-06T14:52:36.565+01:00  INFO 53733 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:52:36.593+01:00  INFO 53733 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:52:36.620+01:00  INFO 53733 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:52:36.787+01:00  INFO 53733 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:52:36.804+01:00  INFO 53733 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:52:36.964+01:00  INFO 53733 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@24568923
2024-12-06T14:52:36.965+01:00  INFO 53733 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:52:36.983+01:00  WARN 53733 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:52:37.580+01:00  INFO 53733 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:52:37.638+01:00  INFO 53733 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:52:37.823+01:00  INFO 53733 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:52:38.372+01:00  WARN 53733 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:52:38.467+01:00 DEBUG 53733 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:52:38.501+01:00 DEBUG 53733 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:52:38.578+01:00 DEBUG 53733 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:52:38.607+01:00 DEBUG 53733 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:52:38.864+01:00  WARN 53733 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:52:38.903+01:00  INFO 53733 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:52:38.966+01:00  INFO 53733 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:52:38.969+01:00  INFO 53733 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:52:38.992+01:00  INFO 53733 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#327cc88:0/SimpleConnection@4daf2d55 [delegate=amqp://guest@127.0.0.1:5672/, localPort=34500]
2024-12-06T14:52:39.022+01:00  INFO 53733 --- [restartedMain] org.example.Main                         : Started Main in 3.872 seconds (process running for 4.166)
2024-12-06T14:52:43.900+01:00  INFO 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:52:43.900+01:00  INFO 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:52:43.900+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:52:43.901+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:52:43.901+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:52:43.901+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2c2527b3
2024-12-06T14:52:43.902+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6b93ad94
2024-12-06T14:52:43.902+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:52:43.902+01:00  INFO 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T14:52:43.967+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T14:52:43.981+01:00  WARN 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:52:43.988+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:52:43.989+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:52:44.027+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:52:44.048+01:00  INFO 53733 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:52:44.051+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T14:52:44.060+01:00 ERROR 53733 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:52:44.061+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:52:44.065+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:52:44.066+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:52:44.068+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:52:44.069+01:00 DEBUG 53733 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:53:17.992+01:00  INFO 53733 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:53:18.021+01:00  INFO 53733 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:53:18.028+01:00  INFO 53733 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:53:18.031+01:00  INFO 53733 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:53:18.033+01:00  INFO 53733 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:53:52.013+01:00  INFO 54109 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 54109 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:53:52.015+01:00  INFO 54109 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:53:52.038+01:00  INFO 54109 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:53:52.039+01:00  INFO 54109 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:53:52.477+01:00  INFO 54109 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:53:52.527+01:00  INFO 54109 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 4 JPA repository interfaces.
2024-12-06T14:53:53.054+01:00  INFO 54109 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:53:53.063+01:00  INFO 54109 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:53:53.063+01:00  INFO 54109 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:53:53.088+01:00  INFO 54109 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:53:53.089+01:00  INFO 54109 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1050 ms
2024-12-06T14:53:53.208+01:00  INFO 54109 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:53:53.236+01:00  INFO 54109 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:53:53.261+01:00  INFO 54109 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:53:53.425+01:00  INFO 54109 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:53:53.442+01:00  INFO 54109 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:53:53.600+01:00  INFO 54109 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T14:53:53.602+01:00  INFO 54109 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:53:53.622+01:00  WARN 54109 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:53:54.251+01:00  INFO 54109 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:53:54.311+01:00  INFO 54109 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:53:54.496+01:00  INFO 54109 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:53:55.052+01:00  WARN 54109 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:53:55.151+01:00 DEBUG 54109 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:53:55.186+01:00 DEBUG 54109 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:53:55.261+01:00 DEBUG 54109 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:53:55.289+01:00 DEBUG 54109 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:53:55.559+01:00  WARN 54109 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:53:55.598+01:00  INFO 54109 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:53:55.661+01:00  INFO 54109 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:53:55.664+01:00  INFO 54109 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:53:55.687+01:00  INFO 54109 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#209b161a:0/SimpleConnection@253d9fe7 [delegate=amqp://guest@127.0.0.1:5672/, localPort=40288]
2024-12-06T14:53:55.717+01:00  INFO 54109 --- [restartedMain] org.example.Main                         : Started Main in 3.945 seconds (process running for 4.247)
2024-12-06T14:53:56.914+01:00  INFO 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:53:56.915+01:00  INFO 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:53:56.915+01:00 DEBUG 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:53:56.915+01:00 DEBUG 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:53:56.915+01:00 DEBUG 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:53:56.916+01:00 DEBUG 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@60aa545f
2024-12-06T14:53:56.916+01:00 DEBUG 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@aa5e545
2024-12-06T14:53:56.916+01:00 DEBUG 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:53:56.916+01:00  INFO 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T14:53:56.957+01:00 ERROR 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.ClassCastException: class java.lang.Integer cannot be cast to class java.lang.Long (java.lang.Integer and java.lang.Long are in module java.base of loader 'bootstrap')
	at org.example.authentication.application.impl.JWTServiceImpl.lambda$extractId$0(JWTServiceImpl.java:38) ~[main/:na]
	at org.example.authentication.application.impl.JWTServiceImpl.extractClaim(JWTServiceImpl.java:44) ~[main/:na]
	at org.example.authentication.application.impl.JWTServiceImpl.extractId(JWTServiceImpl.java:38) ~[main/:na]
	at org.example.configurations.filters.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:41) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-06T14:53:56.964+01:00  WARN 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for ERROR dispatch to '/error' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:53:56.972+01:00 DEBUG 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2024-12-06T14:53:56.973+01:00 DEBUG 54109 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-06T14:53:56.990+01:00 DEBUG 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T14:53:56.991+01:00 DEBUG 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Fri Dec 06 14:53:56 CET 2024, status=500, error=Internal Server Error, trace=java.lang.Cl (truncated)...]
2024-12-06T14:53:57.014+01:00 DEBUG 54109 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-06T14:55:12.297+01:00  INFO 54109 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:55:12.719+01:00  INFO 54109 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:55:12.727+01:00  INFO 54109 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:55:12.730+01:00  INFO 54109 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:55:12.733+01:00  INFO 54109 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:55:15.217+01:00  INFO 54691 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 54691 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:55:15.219+01:00  INFO 54691 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:55:15.243+01:00  INFO 54691 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:55:15.244+01:00  INFO 54691 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:55:15.674+01:00  INFO 54691 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:55:15.721+01:00  INFO 54691 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T14:55:16.214+01:00  INFO 54691 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:55:16.223+01:00  INFO 54691 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:55:16.223+01:00  INFO 54691 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:55:16.247+01:00  INFO 54691 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:55:16.248+01:00  INFO 54691 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1004 ms
2024-12-06T14:55:16.369+01:00  INFO 54691 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:55:16.397+01:00  INFO 54691 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:55:16.421+01:00  INFO 54691 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:55:16.584+01:00  INFO 54691 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:55:16.601+01:00  INFO 54691 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:55:16.757+01:00  INFO 54691 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T14:55:16.758+01:00  INFO 54691 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:55:16.776+01:00  WARN 54691 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:55:17.353+01:00  INFO 54691 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:55:17.411+01:00  INFO 54691 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:55:17.592+01:00  INFO 54691 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:55:18.130+01:00  WARN 54691 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:55:18.230+01:00 DEBUG 54691 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:55:18.266+01:00 DEBUG 54691 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:55:18.342+01:00 DEBUG 54691 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:55:18.369+01:00 DEBUG 54691 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:55:18.628+01:00  WARN 54691 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:55:18.667+01:00  INFO 54691 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:55:18.728+01:00  INFO 54691 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:55:18.731+01:00  INFO 54691 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:55:18.754+01:00  INFO 54691 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#209b161a:0/SimpleConnection@60931d62 [delegate=amqp://guest@127.0.0.1:5672/, localPort=38178]
2024-12-06T14:55:18.784+01:00  INFO 54691 --- [restartedMain] org.example.Main                         : Started Main in 3.809 seconds (process running for 4.108)
2024-12-06T14:55:22.794+01:00  INFO 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:55:22.794+01:00  INFO 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:55:22.794+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:55:22.794+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:55:22.794+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:55:22.795+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2df2a740
2024-12-06T14:55:22.795+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@31b653c0
2024-12-06T14:55:22.795+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:55:22.795+01:00  INFO 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T14:55:22.861+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T14:55:22.878+01:00  WARN 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:55:22.885+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:55:22.886+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:55:22.924+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:55:22.945+01:00  INFO 54691 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:55:22.948+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        nextval('orders_seq')
2024-12-06T14:55:22.958+01:00 ERROR 54691 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:55:22.959+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:55:22.963+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:55:22.964+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:55:22.966+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:55:22.967+01:00 DEBUG 54691 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:58:38.118+01:00  INFO 54691 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:58:38.800+01:00  INFO 54691 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:58:38.807+01:00  INFO 54691 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:58:38.809+01:00  INFO 54691 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:58:38.812+01:00  INFO 54691 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T14:59:35.241+01:00  INFO 56019 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 56019 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T14:59:35.243+01:00  INFO 56019 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T14:59:35.277+01:00  INFO 56019 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T14:59:35.277+01:00  INFO 56019 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T14:59:35.779+01:00  INFO 56019 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T14:59:35.830+01:00  INFO 56019 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T14:59:36.337+01:00  INFO 56019 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T14:59:36.345+01:00  INFO 56019 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T14:59:36.345+01:00  INFO 56019 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T14:59:36.370+01:00  INFO 56019 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T14:59:36.371+01:00  INFO 56019 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1094 ms
2024-12-06T14:59:36.495+01:00  INFO 56019 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T14:59:36.524+01:00  INFO 56019 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T14:59:36.550+01:00  INFO 56019 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T14:59:36.716+01:00  INFO 56019 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T14:59:36.734+01:00  INFO 56019 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T14:59:36.894+01:00  INFO 56019 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2301df81
2024-12-06T14:59:36.895+01:00  INFO 56019 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T14:59:36.913+01:00  WARN 56019 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T14:59:37.495+01:00  INFO 56019 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T14:59:37.562+01:00  INFO 56019 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:59:37.749+01:00  INFO 56019 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T14:59:38.306+01:00  WARN 56019 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T14:59:38.405+01:00 DEBUG 56019 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T14:59:38.440+01:00 DEBUG 56019 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T14:59:38.520+01:00 DEBUG 56019 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T14:59:38.549+01:00 DEBUG 56019 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T14:59:38.821+01:00  WARN 56019 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T14:59:38.863+01:00  INFO 56019 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T14:59:38.927+01:00  INFO 56019 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T14:59:38.930+01:00  INFO 56019 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T14:59:38.953+01:00  INFO 56019 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4a731e6a:0/SimpleConnection@4256e181 [delegate=amqp://guest@127.0.0.1:5672/, localPort=44544]
2024-12-06T14:59:38.987+01:00  INFO 56019 --- [restartedMain] org.example.Main                         : Started Main in 4.05 seconds (process running for 4.356)
2024-12-06T14:59:42.568+01:00  INFO 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T14:59:42.568+01:00  INFO 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T14:59:42.568+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T14:59:42.568+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T14:59:42.568+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T14:59:42.569+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@1e5ff14f
2024-12-06T14:59:42.570+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4edff487
2024-12-06T14:59:42.570+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T14:59:42.570+01:00  INFO 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T14:59:42.637+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T14:59:42.652+01:00  WARN 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T14:59:42.659+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T14:59:42.661+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T14:59:42.700+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:59:42.722+01:00  INFO 56019 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T14:59:42.732+01:00 ERROR 56019 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T14:59:42.733+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T14:59:42.737+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T14:59:42.738+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T14:59:42.740+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T14:59:42.741+01:00 DEBUG 56019 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T14:59:53.044+01:00  INFO 56019 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T14:59:53.982+01:00  INFO 56019 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T14:59:53.990+01:00  INFO 56019 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T14:59:53.992+01:00  INFO 56019 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T14:59:53.995+01:00  INFO 56019 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:00:30.466+01:00  INFO 56883 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 56883 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:00:30.468+01:00  INFO 56883 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:00:30.479+01:00 DEBUG 56883 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3721177d
2024-12-06T15:00:30.957+01:00  INFO 56883 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:00:31.009+01:00  INFO 56883 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T15:00:31.526+01:00  INFO 56883 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:00:31.559+01:00  INFO 56883 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:00:31.580+01:00  INFO 56883 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:00:31.769+01:00  INFO 56883 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:00:31.789+01:00  INFO 56883 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:00:31.993+01:00  INFO 56883 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@4cb82b09
2024-12-06T15:00:31.994+01:00  INFO 56883 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:00:32.014+01:00  WARN 56883 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:00:32.647+01:00  INFO 56883 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:00:32.679+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists customers 
       alter column customer_id set data type bigint
2024-12-06T15:00:32.802+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists line_items 
       alter column line_item_id set data type bigint
2024-12-06T15:00:32.927+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists orders 
       alter column order_id set data type bigint
2024-12-06T15:00:33.002+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column product_id set data type bigint
2024-12-06T15:00:33.061+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column price set data type float(53)
2024-12-06T15:00:33.119+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column user_id set data type bigint
2024-12-06T15:00:33.253+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column password set data type varchar(255)
2024-12-06T15:00:33.344+01:00  INFO 56883 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:00:33.548+01:00  INFO 56883 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:00:34.234+01:00  WARN 56883 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:00:34.389+01:00 DEBUG 56883 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:00:34.499+01:00 DEBUG 56883 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:00:34.529+01:00 DEBUG 56883 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:00:34.559+01:00 DEBUG 56883 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:00:34.848+01:00  WARN 56883 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:00:34.894+01:00  INFO 56883 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T15:00:34.894+01:00  INFO 56883 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T15:00:34.895+01:00  INFO 56883 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T15:00:34.937+01:00  INFO 56883 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:00:34.961+01:00  INFO 56883 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1467dcd0:0/SimpleConnection@465652a2 [delegate=amqp://guest@127.0.0.1:5672/, localPort=46474]
2024-12-06T15:00:34.995+01:00  INFO 56883 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.739 seconds (process running for 5.458)
2024-12-06T15:00:35.411+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:00:35.428+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:00:35.513+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:00:35.515+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:00:35.580+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:00:35.582+01:00 DEBUG 56883 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:00:35.599+01:00 DEBUG 56883 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3721177d, started on Fri Dec 06 15:00:30 CET 2024
2024-12-06T15:00:35.602+01:00  INFO 56883 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:00:35.989+01:00  INFO 56883 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:00:35.994+01:00  INFO 56883 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:00:35.999+01:00  INFO 56883 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:00:36.002+01:00  INFO 56883 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:00:52.615+01:00  INFO 57209 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 57209 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:00:52.616+01:00  INFO 57209 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:00:52.641+01:00  INFO 57209 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:00:52.641+01:00  INFO 57209 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:00:53.095+01:00  INFO 57209 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:00:53.142+01:00  INFO 57209 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 4 JPA repository interfaces.
2024-12-06T15:00:53.635+01:00  INFO 57209 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:00:53.643+01:00  INFO 57209 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:00:53.644+01:00  INFO 57209 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:00:53.669+01:00  INFO 57209 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:00:53.669+01:00  INFO 57209 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1027 ms
2024-12-06T15:00:53.792+01:00  INFO 57209 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:00:53.825+01:00  INFO 57209 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:00:53.848+01:00  INFO 57209 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:00:54.011+01:00  INFO 57209 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:00:54.027+01:00  INFO 57209 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:00:54.185+01:00  INFO 57209 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:00:54.186+01:00  INFO 57209 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:00:54.204+01:00  WARN 57209 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:00:54.777+01:00  INFO 57209 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:00:54.840+01:00  INFO 57209 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:00:55.018+01:00  INFO 57209 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:00:55.555+01:00  WARN 57209 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:00:55.648+01:00 DEBUG 57209 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:00:55.684+01:00 DEBUG 57209 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:00:55.761+01:00 DEBUG 57209 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:00:55.792+01:00 DEBUG 57209 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:00:56.069+01:00  WARN 57209 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:00:56.108+01:00  INFO 57209 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:00:56.178+01:00  INFO 57209 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:00:56.180+01:00  INFO 57209 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:00:56.204+01:00  INFO 57209 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#51972dfa:0/SimpleConnection@75bc9506 [delegate=amqp://guest@127.0.0.1:5672/, localPort=49818]
2024-12-06T15:00:56.234+01:00  INFO 57209 --- [restartedMain] org.example.Main                         : Started Main in 3.862 seconds (process running for 4.174)
2024-12-06T15:00:58.925+01:00  INFO 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:00:58.925+01:00  INFO 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:00:58.925+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:00:58.925+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:00:58.925+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:00:58.926+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7afd9b22
2024-12-06T15:00:58.926+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7031548a
2024-12-06T15:00:58.926+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:00:58.926+01:00  INFO 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:00:58.992+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:00:59.007+01:00  WARN 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:00:59.013+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:00:59.014+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:00:59.053+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:00:59.075+01:00  INFO 57209 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:00:59.084+01:00 ERROR 57209 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:00:59.085+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:00:59.090+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:00:59.090+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:00:59.093+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:00:59.093+01:00 DEBUG 57209 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:02:10.165+01:00  INFO 57209 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:02:10.237+01:00  INFO 57209 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:02:10.243+01:00  INFO 57209 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:02:10.245+01:00  INFO 57209 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:02:10.248+01:00  INFO 57209 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:02:24.515+01:00  INFO 57654 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 57654 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:02:24.516+01:00  INFO 57654 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:02:24.541+01:00  INFO 57654 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:02:24.541+01:00  INFO 57654 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:02:24.979+01:00  INFO 57654 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:02:25.023+01:00  INFO 57654 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 40 ms. Found 4 JPA repository interfaces.
2024-12-06T15:02:25.501+01:00  INFO 57654 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:02:25.509+01:00  INFO 57654 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:02:25.509+01:00  INFO 57654 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:02:25.532+01:00  INFO 57654 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:02:25.533+01:00  INFO 57654 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 992 ms
2024-12-06T15:02:25.650+01:00  INFO 57654 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:02:25.678+01:00  INFO 57654 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:02:25.702+01:00  INFO 57654 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:02:25.862+01:00  INFO 57654 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:02:25.878+01:00  INFO 57654 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:02:26.031+01:00  INFO 57654 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:02:26.032+01:00  INFO 57654 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:02:26.049+01:00  WARN 57654 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:02:26.616+01:00  INFO 57654 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:02:26.679+01:00  INFO 57654 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:02:26.860+01:00  INFO 57654 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:02:27.409+01:00  WARN 57654 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:02:27.502+01:00 DEBUG 57654 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:02:27.537+01:00 DEBUG 57654 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:02:27.612+01:00 DEBUG 57654 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:02:27.645+01:00 DEBUG 57654 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:02:27.902+01:00  WARN 57654 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:02:27.939+01:00  INFO 57654 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:02:28.004+01:00  INFO 57654 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:02:28.006+01:00  INFO 57654 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:02:28.030+01:00  INFO 57654 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7615b7b8:0/SimpleConnection@1fc7d775 [delegate=amqp://guest@127.0.0.1:5672/, localPort=58514]
2024-12-06T15:02:28.062+01:00  INFO 57654 --- [restartedMain] org.example.Main                         : Started Main in 3.813 seconds (process running for 4.103)
2024-12-06T15:02:35.359+01:00  INFO 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:02:35.359+01:00  INFO 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:02:35.359+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:02:35.359+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:02:35.359+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:02:35.360+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4c0c1e09
2024-12-06T15:02:35.360+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3161a3a8
2024-12-06T15:02:35.361+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:02:35.361+01:00  INFO 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T15:02:35.425+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:02:35.439+01:00  WARN 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:02:35.446+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:02:35.447+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:02:35.484+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:02:35.505+01:00  INFO 57654 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:02:35.511+01:00 ERROR 57654 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:02:35.512+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:02:35.516+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:02:35.516+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Identifier of entity 'org.example.order.domain.Order' must be manually assigne (truncated)..."]
2024-12-06T15:02:35.519+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.orm.jpa.JpaSystemException: Identifier of entity 'org.example.order.domain.Order' must be manually assigned before calling 'persist()']
2024-12-06T15:02:35.519+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:03:22.815+01:00  INFO 57654 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 47 class path changes (0 additions, 0 deletions, 47 modifications)
2024-12-06T15:03:22.819+01:00  INFO 57654 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:03:23.062+01:00  INFO 57654 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:03:23.069+01:00  INFO 57654 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:03:23.070+01:00  INFO 57654 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:03:23.073+01:00  INFO 57654 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:03:23.134+01:00  INFO 57654 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 57654 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:03:23.134+01:00  INFO 57654 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:03:23.248+01:00  INFO 57654 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:03:23.259+01:00  INFO 57654 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T15:03:23.378+01:00  INFO 57654 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:03:23.379+01:00  INFO 57654 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:03:23.379+01:00  INFO 57654 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:03:23.384+01:00  INFO 57654 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:03:23.384+01:00  INFO 57654 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 249 ms
2024-12-06T15:03:23.441+01:00  INFO 57654 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:03:23.443+01:00  INFO 57654 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:03:23.449+01:00  INFO 57654 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:03:23.449+01:00  INFO 57654 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:03:23.471+01:00  INFO 57654 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@6ae7eb97
2024-12-06T15:03:23.471+01:00  INFO 57654 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:03:23.473+01:00  WARN 57654 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:03:23.534+01:00  INFO 57654 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:03:23.573+01:00  INFO 57654 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:03:23.866+01:00  WARN 57654 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:03:23.915+01:00 DEBUG 57654 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:03:23.949+01:00 DEBUG 57654 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:03:23.998+01:00 DEBUG 57654 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:03:24.010+01:00 DEBUG 57654 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:03:24.203+01:00  WARN 57654 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:03:24.241+01:00  INFO 57654 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:03:24.267+01:00  INFO 57654 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:03:24.268+01:00  INFO 57654 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:03:24.270+01:00  INFO 57654 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4d487925:0/SimpleConnection@2d19f875 [delegate=amqp://guest@127.0.0.1:5672/, localPort=37784]
2024-12-06T15:03:24.276+01:00  INFO 57654 --- [restartedMain] org.example.Main                         : Started Main in 1.159 seconds (process running for 60.317)
2024-12-06T15:03:24.277+01:00  INFO 57654 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T15:03:28.779+01:00  INFO 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:03:28.779+01:00  INFO 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:03:28.779+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:03:28.779+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:03:28.779+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:03:28.780+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7ce4b0d5
2024-12-06T15:03:28.780+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7875e64e
2024-12-06T15:03:28.781+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:03:28.781+01:00  INFO 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T15:03:28.785+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:03:28.790+01:00  WARN 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:03:28.790+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:03:28.791+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:03:28.794+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:03:28.795+01:00  INFO 57654 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:03:28.799+01:00 ERROR 57654 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:03:28.800+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:03:28.800+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:03:28.800+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:03:28.801+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:03:28.801+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:04:49.520+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:04:49.523+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:04:49.523+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:04:49.524+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:04:49.524+01:00  INFO 57654 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:04:49.525+01:00 ERROR 57654 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:04:49.525+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:04:49.526+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:04:49.526+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:04:49.527+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:04:49.527+01:00 DEBUG 57654 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:04:54.243+01:00  INFO 57654 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:04:54.282+01:00  INFO 57654 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:04:54.286+01:00  INFO 57654 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:04:54.286+01:00  INFO 57654 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:04:54.288+01:00  INFO 57654 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:04:57.779+01:00  INFO 59065 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 59065 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:04:57.780+01:00  INFO 59065 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:04:57.803+01:00  INFO 59065 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:04:57.803+01:00  INFO 59065 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:04:58.213+01:00  INFO 59065 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:04:58.260+01:00  INFO 59065 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T15:04:58.747+01:00  INFO 59065 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:04:58.756+01:00  INFO 59065 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:04:58.756+01:00  INFO 59065 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:04:58.781+01:00  INFO 59065 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:04:58.781+01:00  INFO 59065 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 978 ms
2024-12-06T15:04:58.911+01:00  INFO 59065 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:04:58.940+01:00  INFO 59065 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:04:58.964+01:00  INFO 59065 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:04:59.127+01:00  INFO 59065 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:04:59.143+01:00  INFO 59065 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:04:59.296+01:00  INFO 59065 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:04:59.297+01:00  INFO 59065 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:04:59.314+01:00  WARN 59065 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:04:59.868+01:00  INFO 59065 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:04:59.931+01:00  INFO 59065 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:05:00.109+01:00  INFO 59065 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:05:00.647+01:00  WARN 59065 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:05:00.739+01:00 DEBUG 59065 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:05:00.774+01:00 DEBUG 59065 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:05:00.850+01:00 DEBUG 59065 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:05:00.878+01:00 DEBUG 59065 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:05:01.128+01:00  WARN 59065 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:05:01.171+01:00  INFO 59065 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:05:01.234+01:00  INFO 59065 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:05:01.236+01:00  INFO 59065 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:05:01.261+01:00  INFO 59065 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6a18a7f4:0/SimpleConnection@47007f9d [delegate=amqp://guest@127.0.0.1:5672/, localPort=35022]
2024-12-06T15:05:01.291+01:00  INFO 59065 --- [restartedMain] org.example.Main                         : Started Main in 3.738 seconds (process running for 4.035)
2024-12-06T15:05:05.225+01:00  INFO 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:05:05.226+01:00  INFO 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:05:05.226+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:05:05.226+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:05:05.226+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:05:05.227+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@263c8c6
2024-12-06T15:05:05.227+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7ade4b16
2024-12-06T15:05:05.227+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:05:05.227+01:00  INFO 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:05:05.295+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:05:05.310+01:00  WARN 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:05:05.317+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:05:05.318+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:05:05.357+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:05:05.379+01:00  INFO 59065 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:05:05.408+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T15:05:05.410+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:05:05.421+01:00 ERROR 59065 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:05:05.422+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:05:05.427+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:05:05.428+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:05:05.432+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:05:05.432+01:00 DEBUG 59065 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:06:42.795+01:00  INFO 59065 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:06:43.296+01:00  INFO 59065 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:06:43.303+01:00  INFO 59065 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:06:43.305+01:00  INFO 59065 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:06:43.308+01:00  INFO 59065 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:06:45.775+01:00  INFO 60010 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 60010 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:06:45.776+01:00  INFO 60010 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:06:45.799+01:00  INFO 60010 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:06:45.799+01:00  INFO 60010 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:06:46.225+01:00  INFO 60010 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:06:46.272+01:00  INFO 60010 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T15:06:46.762+01:00  INFO 60010 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:06:46.770+01:00  INFO 60010 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:06:46.770+01:00  INFO 60010 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:06:46.794+01:00  INFO 60010 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:06:46.794+01:00  INFO 60010 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 994 ms
2024-12-06T15:06:46.911+01:00  INFO 60010 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:06:46.938+01:00  INFO 60010 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:06:46.962+01:00  INFO 60010 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:06:47.126+01:00  INFO 60010 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:06:47.143+01:00  INFO 60010 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:06:47.295+01:00  INFO 60010 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:06:47.296+01:00  INFO 60010 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:06:47.313+01:00  WARN 60010 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:06:47.889+01:00  INFO 60010 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:06:47.954+01:00  INFO 60010 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:06:48.138+01:00  INFO 60010 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:06:48.703+01:00  WARN 60010 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:06:48.807+01:00 DEBUG 60010 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:06:48.845+01:00 DEBUG 60010 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:06:48.922+01:00 DEBUG 60010 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:06:48.950+01:00 DEBUG 60010 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:06:49.208+01:00  WARN 60010 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:06:49.246+01:00  INFO 60010 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:06:49.308+01:00  INFO 60010 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:06:49.310+01:00  INFO 60010 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:06:49.334+01:00  INFO 60010 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6a18a7f4:0/SimpleConnection@5445288c [delegate=amqp://guest@127.0.0.1:5672/, localPort=48812]
2024-12-06T15:06:49.363+01:00  INFO 60010 --- [restartedMain] org.example.Main                         : Started Main in 3.818 seconds (process running for 4.103)
2024-12-06T15:06:53.156+01:00  INFO 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:06:53.157+01:00  INFO 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:06:53.157+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:06:53.157+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:06:53.157+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:06:53.158+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@23667a80
2024-12-06T15:06:53.158+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4440492e
2024-12-06T15:06:53.158+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:06:53.158+01:00  INFO 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:06:53.222+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:06:53.240+01:00  WARN 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:06:53.247+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:06:53.248+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:06:53.285+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:06:53.306+01:00  INFO 60010 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:06:53.334+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T15:06:53.335+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:06:53.348+01:00 ERROR 60010 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:06:53.349+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:06:53.354+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:06:53.354+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:06:53.357+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:06:53.358+01:00 DEBUG 60010 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:07:07.670+01:00  INFO 60010 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2024-12-06T15:07:07.674+01:00  INFO 60010 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:07:08.358+01:00  INFO 60010 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:07:08.365+01:00  INFO 60010 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:07:08.367+01:00  INFO 60010 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:07:08.370+01:00  INFO 60010 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:07:08.431+01:00  INFO 60010 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 60010 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:07:08.431+01:00  INFO 60010 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:07:08.544+01:00  INFO 60010 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:07:08.555+01:00  INFO 60010 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T15:07:08.673+01:00  INFO 60010 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:07:08.674+01:00  INFO 60010 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:07:08.674+01:00  INFO 60010 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:07:08.679+01:00  INFO 60010 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:07:08.679+01:00  INFO 60010 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 247 ms
2024-12-06T15:07:08.735+01:00  INFO 60010 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:07:08.737+01:00  INFO 60010 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:07:08.743+01:00  INFO 60010 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:07:08.743+01:00  INFO 60010 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:07:08.764+01:00  INFO 60010 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@43fe0ab1
2024-12-06T15:07:08.764+01:00  INFO 60010 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:07:08.767+01:00  WARN 60010 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:07:08.830+01:00  INFO 60010 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:07:08.866+01:00  INFO 60010 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:07:09.107+01:00  WARN 60010 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:07:09.145+01:00 DEBUG 60010 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:07:09.174+01:00 DEBUG 60010 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:07:09.220+01:00 DEBUG 60010 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:07:09.230+01:00 DEBUG 60010 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:07:09.413+01:00  WARN 60010 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:07:09.438+01:00  INFO 60010 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:07:09.464+01:00  INFO 60010 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:07:09.464+01:00  INFO 60010 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:07:09.466+01:00  INFO 60010 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#d7813c3:0/SimpleConnection@56d6152e [delegate=amqp://guest@127.0.0.1:5672/, localPort=34990]
2024-12-06T15:07:09.472+01:00  INFO 60010 --- [restartedMain] org.example.Main                         : Started Main in 1.059 seconds (process running for 24.212)
2024-12-06T15:07:09.473+01:00  INFO 60010 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T15:09:30.109+01:00  INFO 60010 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:09:30.484+01:00  INFO 60010 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:09:30.487+01:00  INFO 60010 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:09:30.488+01:00  INFO 60010 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:09:30.489+01:00  INFO 60010 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:09:43.325+01:00  INFO 61469 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 61469 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:09:43.327+01:00  INFO 61469 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:09:43.352+01:00  INFO 61469 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:09:43.352+01:00  INFO 61469 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:09:43.777+01:00  INFO 61469 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:09:43.827+01:00  INFO 61469 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 4 JPA repository interfaces.
2024-12-06T15:09:44.311+01:00  INFO 61469 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:09:44.318+01:00  INFO 61469 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:09:44.319+01:00  INFO 61469 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:09:44.341+01:00  INFO 61469 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:09:44.341+01:00  INFO 61469 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 989 ms
2024-12-06T15:09:44.455+01:00  INFO 61469 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:09:44.485+01:00  INFO 61469 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:09:44.508+01:00  INFO 61469 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:09:44.669+01:00  INFO 61469 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:09:44.685+01:00  INFO 61469 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:09:44.835+01:00  INFO 61469 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@1b2a8cf8
2024-12-06T15:09:44.836+01:00  INFO 61469 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:09:44.853+01:00  WARN 61469 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:09:45.419+01:00  INFO 61469 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:09:45.459+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    create table customers (
        customer_id bigint generated by default as identity,
        name varchar(100) not null,
        sector varchar(100) not null,
        version bigint,
        user_id bigint,
        primary key (customer_id)
    )
2024-12-06T15:09:45.538+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    create table line_items (
        line_item_id bigint generated by default as identity,
        quantity integer,
        order_id bigint,
        product_id bigint,
        primary key (line_item_id)
    )
2024-12-06T15:09:45.596+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    create table orders (
        order_id bigint generated by default as identity,
        deliver_to varchar(100) not null,
        customer_id bigint,
        primary key (order_id)
    )
2024-12-06T15:09:45.655+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    create table products (
        product_id bigint generated by default as identity,
        price float(53) not null,
        product_name varchar(100) not null,
        primary key (product_id)
    )
2024-12-06T15:09:45.730+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    create table users (
        user_id bigint generated by default as identity,
        password varchar(255) not null,
        role varchar(255) check (role in ('USER','ADMIN','MANAGER')),
        username varchar(15) not null,
        primary key (user_id)
    )
2024-12-06T15:09:45.830+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       drop constraint if exists UKeuat1oase6eqv195jvb71a93s
2024-12-06T15:09:45.863+01:00  WARN 61469 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T15:09:45.864+01:00  WARN 61469 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukeuat1oase6eqv195jvb71a93s" of relation "customers" does not exist, skipping
2024-12-06T15:09:45.864+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       add constraint UKeuat1oase6eqv195jvb71a93s unique (user_id)
2024-12-06T15:09:45.922+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       drop constraint if exists UK6qgrt64ahrw2yfhils1fre3jn
2024-12-06T15:09:45.930+01:00  WARN 61469 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T15:09:45.930+01:00  WARN 61469 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk6qgrt64ahrw2yfhils1fre3jn" of relation "line_items" does not exist, skipping
2024-12-06T15:09:45.930+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint UK6qgrt64ahrw2yfhils1fre3jn unique (product_id)
2024-12-06T15:09:45.988+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2024-12-06T15:09:45.996+01:00  WARN 61469 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T15:09:45.997+01:00  WARN 61469 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukr43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
2024-12-06T15:09:45.997+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2024-12-06T15:09:46.047+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       add constraint FKrh1g1a20omjmn6kurd35o3eit 
       foreign key (user_id) 
       references users
2024-12-06T15:09:46.055+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint FKcfmx8jqmqu18hhasfdf3w1m9u 
       foreign key (order_id) 
       references orders
2024-12-06T15:09:46.063+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint FKb3hu7cw8o38248a3pr3o1aety 
       foreign key (product_id) 
       references products
2024-12-06T15:09:46.072+01:00 DEBUG 61469 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists orders 
       add constraint FKpxtb8awmi0dk6smoh2vp1litg 
       foreign key (customer_id) 
       references customers
2024-12-06T15:09:46.081+01:00  INFO 61469 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:09:46.268+01:00  INFO 61469 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:09:46.806+01:00  WARN 61469 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:09:46.901+01:00 DEBUG 61469 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:09:46.935+01:00 DEBUG 61469 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:09:47.007+01:00 DEBUG 61469 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:09:47.037+01:00 DEBUG 61469 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:09:47.287+01:00  WARN 61469 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:09:47.325+01:00  INFO 61469 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:09:47.390+01:00  INFO 61469 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:09:47.392+01:00  INFO 61469 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:09:47.416+01:00  INFO 61469 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#27cf5586:0/SimpleConnection@248cb1b5 [delegate=amqp://guest@127.0.0.1:5672/, localPort=36752]
2024-12-06T15:09:47.445+01:00  INFO 61469 --- [restartedMain] org.example.Main                         : Started Main in 4.394 seconds (process running for 4.692)
2024-12-06T15:09:55.973+01:00  INFO 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:09:55.973+01:00  INFO 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:09:55.973+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:09:55.973+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:09:55.973+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:09:55.974+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@21c4a174
2024-12-06T15:09:55.974+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@71ec345c
2024-12-06T15:09:55.974+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:09:55.974+01:00  INFO 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:09:56.039+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:09:56.043+01:00 ERROR 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.RuntimeException: User not found
	at org.example.configurations.filters.JwtAuthenticationFilter.lambda$doFilterInternal$0(JwtAuthenticationFilter.java:42) ~[main/:na]
	at java.base/java.util.Optional.orElseThrow(Optional.java:403) ~[na:na]
	at org.example.configurations.filters.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:42) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-06T15:09:56.050+01:00  WARN 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for ERROR dispatch to '/error' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:09:56.057+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2024-12-06T15:09:56.059+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-06T15:09:56.073+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T15:09:56.074+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Fri Dec 06 15:09:56 CET 2024, status=500, error=Internal Server Error, trace=java.lang.Ru (truncated)...]
2024-12-06T15:09:56.092+01:00 DEBUG 61469 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-06T15:10:13.462+01:00  INFO 61469 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:10:14.442+01:00  INFO 61469 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:10:14.448+01:00  INFO 61469 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:10:14.450+01:00  INFO 61469 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:10:14.453+01:00  INFO 61469 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:10:29.749+01:00  INFO 61833 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 61833 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:10:29.750+01:00  INFO 61833 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:10:29.761+01:00 DEBUG 61833 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3721177d
2024-12-06T15:10:30.244+01:00  INFO 61833 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:10:30.303+01:00  INFO 61833 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 4 JPA repository interfaces.
2024-12-06T15:10:30.850+01:00  INFO 61833 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:10:30.882+01:00  INFO 61833 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:10:30.903+01:00  INFO 61833 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:10:31.087+01:00  INFO 61833 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:10:31.107+01:00  INFO 61833 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:10:31.301+01:00  INFO 61833 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@4cb82b09
2024-12-06T15:10:31.302+01:00  INFO 61833 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:10:31.321+01:00  WARN 61833 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:10:31.903+01:00  INFO 61833 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:10:31.977+01:00  INFO 61833 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:10:32.195+01:00  INFO 61833 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:10:32.902+01:00  WARN 61833 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:10:33.048+01:00 DEBUG 61833 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:10:33.165+01:00 DEBUG 61833 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:10:33.195+01:00 DEBUG 61833 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:10:33.222+01:00 DEBUG 61833 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:10:33.496+01:00  WARN 61833 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:10:33.541+01:00  INFO 61833 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T15:10:33.542+01:00  INFO 61833 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T15:10:33.543+01:00  INFO 61833 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T15:10:33.581+01:00  INFO 61833 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:10:33.605+01:00  INFO 61833 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6859f102:0/SimpleConnection@49c819c7 [delegate=amqp://guest@127.0.0.1:5672/, localPort=55334]
2024-12-06T15:10:33.637+01:00  INFO 61833 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.097 seconds (process running for 4.807)
2024-12-06T15:10:34.033+01:00 DEBUG 61833 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:10:34.048+01:00 DEBUG 61833 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:10:34.124+01:00 DEBUG 61833 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:10:34.126+01:00 DEBUG 61833 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:10:34.190+01:00 DEBUG 61833 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:10:34.191+01:00 DEBUG 61833 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:10:34.209+01:00 DEBUG 61833 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3721177d, started on Fri Dec 06 15:10:29 CET 2024
2024-12-06T15:10:34.212+01:00  INFO 61833 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:10:34.631+01:00  INFO 61833 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:10:34.637+01:00  INFO 61833 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:10:34.638+01:00  INFO 61833 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:10:34.641+01:00  INFO 61833 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:10:49.605+01:00  INFO 62081 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 62081 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:10:49.607+01:00  INFO 62081 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:10:49.632+01:00  INFO 62081 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:10:49.632+01:00  INFO 62081 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:10:50.101+01:00  INFO 62081 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:10:50.153+01:00  INFO 62081 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T15:10:50.656+01:00  INFO 62081 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:10:50.665+01:00  INFO 62081 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:10:50.665+01:00  INFO 62081 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:10:50.691+01:00  INFO 62081 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:10:50.691+01:00  INFO 62081 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1059 ms
2024-12-06T15:10:50.815+01:00  INFO 62081 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:10:50.843+01:00  INFO 62081 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:10:50.867+01:00  INFO 62081 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:10:51.028+01:00  INFO 62081 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:10:51.045+01:00  INFO 62081 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:10:51.202+01:00  INFO 62081 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:10:51.203+01:00  INFO 62081 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:10:51.220+01:00  WARN 62081 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:10:51.791+01:00  INFO 62081 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:10:51.855+01:00  INFO 62081 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:10:52.036+01:00  INFO 62081 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:10:52.619+01:00  WARN 62081 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:10:52.712+01:00 DEBUG 62081 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:10:52.745+01:00 DEBUG 62081 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:10:52.819+01:00 DEBUG 62081 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:10:52.852+01:00 DEBUG 62081 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:10:53.168+01:00  WARN 62081 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:10:53.223+01:00  INFO 62081 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:10:53.293+01:00  INFO 62081 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:10:53.296+01:00  INFO 62081 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:10:53.321+01:00  INFO 62081 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6a18a7f4:0/SimpleConnection@75bc9506 [delegate=amqp://guest@127.0.0.1:5672/, localPort=60818]
2024-12-06T15:10:53.352+01:00  INFO 62081 --- [restartedMain] org.example.Main                         : Started Main in 3.985 seconds (process running for 4.281)
2024-12-06T15:10:56.795+01:00  INFO 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:10:56.795+01:00  INFO 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:10:56.795+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:10:56.795+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:10:56.795+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:10:56.796+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@263c8c6
2024-12-06T15:10:56.796+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7ade4b16
2024-12-06T15:10:56.796+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:10:56.796+01:00  INFO 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:10:56.862+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:10:56.876+01:00  WARN 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:10:56.883+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:10:56.884+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:10:56.921+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:10:56.943+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:10:56.951+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:10:56.952+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:10:56.955+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:10:56.955+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:11:36.006+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T15:11:36.007+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T15:11:36.010+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T15:11:36.012+01:00  INFO 62081 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T15:11:36.130+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:11:36.133+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T15:11:36.218+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:11:36.232+01:00  INFO 62081 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiTUFOQUdFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IiLCJ2ZXJzaW9uIjowLCJzdWIiOiJ1c2VybmFtZTEiLCJpYXQiOjE3MzM0OTQyOTYsImV4cCI6MTczMzU4MDY5Nn0.P_UNwD6KrJGgT7qnM7wtt3kcfoxPOG7QZUqTDzU90-Y],[]>
	
2024-12-06T15:11:36.237+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T15:11:36.237+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiTUFOQUdFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b (truncated)...]
2024-12-06T15:11:36.240+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T15:11:50.180+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:11:50.185+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:11:50.185+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:11:50.186+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:11:50.186+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:11:50.187+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:11:50.187+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:11:50.187+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:11:50.188+01:00 DEBUG 62081 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:12:05.563+01:00  INFO 62081 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:12:06.353+01:00  INFO 62081 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:12:06.359+01:00  INFO 62081 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:12:06.361+01:00  INFO 62081 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:12:06.364+01:00  INFO 62081 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:12:09.544+01:00  INFO 62521 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 62521 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:12:09.545+01:00  INFO 62521 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:12:09.569+01:00  INFO 62521 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:12:09.569+01:00  INFO 62521 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:12:09.989+01:00  INFO 62521 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:12:10.035+01:00  INFO 62521 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T15:12:10.540+01:00  INFO 62521 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:12:10.548+01:00  INFO 62521 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:12:10.548+01:00  INFO 62521 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:12:10.572+01:00  INFO 62521 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:12:10.573+01:00  INFO 62521 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1003 ms
2024-12-06T15:12:10.699+01:00  INFO 62521 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:12:10.729+01:00  INFO 62521 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:12:10.753+01:00  INFO 62521 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:12:10.924+01:00  INFO 62521 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:12:10.941+01:00  INFO 62521 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:12:11.099+01:00  INFO 62521 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:12:11.100+01:00  INFO 62521 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:12:11.118+01:00  WARN 62521 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:12:11.706+01:00  INFO 62521 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:12:11.773+01:00  INFO 62521 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:12:11.964+01:00  INFO 62521 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:12:12.592+01:00  WARN 62521 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:12:12.696+01:00 DEBUG 62521 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:12:12.732+01:00 DEBUG 62521 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:12:12.823+01:00 DEBUG 62521 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:12:12.852+01:00 DEBUG 62521 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:12:13.158+01:00  WARN 62521 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:12:13.212+01:00  INFO 62521 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:12:13.295+01:00  INFO 62521 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:12:13.297+01:00  INFO 62521 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:12:13.339+01:00  INFO 62521 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#51972dfa:0/SimpleConnection@75df9708 [delegate=amqp://guest@127.0.0.1:5672/, localPort=56428]
2024-12-06T15:12:13.412+01:00  INFO 62521 --- [restartedMain] org.example.Main                         : Started Main in 4.106 seconds (process running for 4.406)
2024-12-06T15:12:17.072+01:00  INFO 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:12:17.073+01:00  INFO 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:12:17.073+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:12:17.073+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:12:17.073+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:12:17.074+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7afd9b22
2024-12-06T15:12:17.074+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7031548a
2024-12-06T15:12:17.074+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:12:17.074+01:00  INFO 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:12:17.147+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:12:17.163+01:00  WARN 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:12:17.171+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:12:17.172+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:12:17.210+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:12:17.234+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:12:17.239+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:12:17.240+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:12:17.243+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:12:17.244+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:12:26.143+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T15:12:26.143+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T15:12:26.146+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T15:12:26.148+01:00  INFO 62521 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T15:12:26.269+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:12:26.272+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T15:12:26.358+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:12:26.373+01:00  INFO 62521 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiTUFOQUdFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IiLCJ2ZXJzaW9uIjowLCJzdWIiOiJ1c2VybmFtZTEiLCJpYXQiOjE3MzM0OTQzNDYsImV4cCI6MTczMzU4MDc0Nn0.JKSb0H1vMLUvI6YeAQtQm0ApKuFCl_T2RLjo2aZjgjQ],[]>
	
2024-12-06T15:12:26.377+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T15:12:26.378+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiTUFOQUdFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b (truncated)...]
2024-12-06T15:12:26.381+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T15:12:37.852+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:12:37.861+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:12:37.861+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:12:37.863+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:12:37.865+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:12:37.866+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:12:37.866+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:12:37.868+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:12:37.869+01:00 DEBUG 62521 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:12:47.325+01:00  INFO 62521 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:12:47.399+01:00  INFO 62521 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:12:47.406+01:00  INFO 62521 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:12:47.408+01:00  INFO 62521 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:12:47.411+01:00  INFO 62521 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:13:05.446+01:00  INFO 63028 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 63028 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:13:05.448+01:00  INFO 63028 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:13:05.475+01:00  INFO 63028 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:13:05.475+01:00  INFO 63028 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:13:05.926+01:00  INFO 63028 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:13:05.980+01:00  INFO 63028 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 4 JPA repository interfaces.
2024-12-06T15:13:06.498+01:00  INFO 63028 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:13:06.507+01:00  INFO 63028 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:13:06.507+01:00  INFO 63028 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:13:06.533+01:00  INFO 63028 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:13:06.533+01:00  INFO 63028 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1057 ms
2024-12-06T15:13:06.663+01:00  INFO 63028 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:13:06.693+01:00  INFO 63028 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:13:06.719+01:00  INFO 63028 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:13:06.895+01:00  INFO 63028 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:13:06.912+01:00  INFO 63028 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:13:07.077+01:00  INFO 63028 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:13:07.078+01:00  INFO 63028 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:13:07.097+01:00  WARN 63028 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:13:07.701+01:00  INFO 63028 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:13:07.769+01:00  INFO 63028 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:13:07.965+01:00  INFO 63028 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:13:08.533+01:00  WARN 63028 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:13:08.636+01:00 DEBUG 63028 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:13:08.670+01:00 DEBUG 63028 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:13:08.749+01:00 DEBUG 63028 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:13:08.778+01:00 DEBUG 63028 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:13:09.053+01:00  WARN 63028 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:13:09.094+01:00  INFO 63028 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:13:09.158+01:00  INFO 63028 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:13:09.160+01:00  INFO 63028 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:13:09.184+01:00  INFO 63028 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#51972dfa:0/SimpleConnection@111b9418 [delegate=amqp://guest@127.0.0.1:5672/, localPort=37906]
2024-12-06T15:13:09.215+01:00  INFO 63028 --- [restartedMain] org.example.Main                         : Started Main in 4.032 seconds (process running for 4.358)
2024-12-06T15:13:10.247+01:00  INFO 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:13:10.247+01:00  INFO 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:13:10.248+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:13:10.248+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:13:10.248+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:13:10.249+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@8dd079c
2024-12-06T15:13:10.249+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@59fded6d
2024-12-06T15:13:10.249+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:13:10.249+01:00  INFO 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:13:10.316+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:13:10.331+01:00  WARN 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:13:10.338+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:13:10.339+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:13:10.383+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:13:10.407+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:13:10.411+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:13:10.412+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:13:10.415+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:13:10.416+01:00 DEBUG 63028 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:13:42.729+01:00  INFO 63028 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:13:43.212+01:00  INFO 63028 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:13:43.220+01:00  INFO 63028 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:13:43.222+01:00  INFO 63028 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:13:43.225+01:00  INFO 63028 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:13:45.658+01:00  INFO 63380 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 63380 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:13:45.659+01:00  INFO 63380 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:13:45.685+01:00  INFO 63380 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:13:45.686+01:00  INFO 63380 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:13:46.132+01:00  INFO 63380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:13:46.186+01:00  INFO 63380 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 50 ms. Found 4 JPA repository interfaces.
2024-12-06T15:13:46.704+01:00  INFO 63380 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:13:46.712+01:00  INFO 63380 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:13:46.712+01:00  INFO 63380 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:13:46.737+01:00  INFO 63380 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:13:46.737+01:00  INFO 63380 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1051 ms
2024-12-06T15:13:46.861+01:00  INFO 63380 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:13:46.892+01:00  INFO 63380 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:13:46.917+01:00  INFO 63380 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:13:47.085+01:00  INFO 63380 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:13:47.101+01:00  INFO 63380 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:13:47.267+01:00  INFO 63380 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:13:47.268+01:00  INFO 63380 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:13:47.285+01:00  WARN 63380 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:13:47.870+01:00  INFO 63380 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:13:47.943+01:00  INFO 63380 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:13:48.139+01:00  INFO 63380 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:13:48.730+01:00  WARN 63380 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:13:48.836+01:00 DEBUG 63380 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:13:48.872+01:00 DEBUG 63380 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:13:48.956+01:00 DEBUG 63380 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:13:48.984+01:00 DEBUG 63380 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:13:49.268+01:00  WARN 63380 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:13:49.308+01:00  INFO 63380 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:13:49.373+01:00  INFO 63380 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:13:49.375+01:00  INFO 63380 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:13:49.400+01:00  INFO 63380 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6a18a7f4:0/SimpleConnection@75bc9506 [delegate=amqp://guest@127.0.0.1:5672/, localPort=59936]
2024-12-06T15:13:49.435+01:00  INFO 63380 --- [restartedMain] org.example.Main                         : Started Main in 4.043 seconds (process running for 4.368)
2024-12-06T15:13:51.113+01:00  INFO 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:13:51.114+01:00  INFO 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:13:51.114+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:13:51.114+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:13:51.114+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:13:51.115+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@263c8c6
2024-12-06T15:13:51.115+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7ade4b16
2024-12-06T15:13:51.115+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:13:51.115+01:00  INFO 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:13:51.185+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:13:51.200+01:00  WARN 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:13:51.207+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:13:51.208+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:13:51.248+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:13:51.254+01:00  INFO 63380 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:13:51.265+01:00 ERROR 63380 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:13:51.266+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:13:51.270+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:13:51.271+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:13:51.274+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:13:51.274+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:13:58.186+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:13:58.192+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:13:58.193+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:13:58.194+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:13:58.194+01:00  INFO 63380 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:13:58.195+01:00 ERROR 63380 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:13:58.195+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:13:58.196+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:13:58.196+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:13:58.197+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:13:58.197+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:14:00.792+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:14:00.796+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:14:00.797+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:14:00.798+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:14:00.798+01:00  INFO 63380 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:14:00.799+01:00 ERROR 63380 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:14:00.799+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:14:00.799+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:14:00.799+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:14:00.800+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:14:00.801+01:00 DEBUG 63380 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:14:29.831+01:00  INFO 63380 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:14:30.433+01:00  INFO 63380 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:14:30.440+01:00  INFO 63380 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:14:30.442+01:00  INFO 63380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:14:30.444+01:00  INFO 63380 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:16:16.685+01:00  INFO 63924 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 63924 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:16:16.688+01:00  INFO 63924 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:16:16.724+01:00  INFO 63924 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:16:16.724+01:00  INFO 63924 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:16:17.189+01:00  INFO 63924 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:16:17.238+01:00  INFO 63924 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 4 JPA repository interfaces.
2024-12-06T15:16:17.870+01:00  INFO 63924 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:16:17.878+01:00  INFO 63924 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:16:17.879+01:00  INFO 63924 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:16:17.903+01:00  INFO 63924 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:16:17.903+01:00  INFO 63924 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1179 ms
2024-12-06T15:16:18.026+01:00  INFO 63924 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:16:18.057+01:00  INFO 63924 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:16:18.082+01:00  INFO 63924 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:16:18.249+01:00  INFO 63924 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:16:18.266+01:00  INFO 63924 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:16:18.422+01:00  INFO 63924 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@25bf047d
2024-12-06T15:16:18.423+01:00  INFO 63924 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:16:18.444+01:00  WARN 63924 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:16:19.020+01:00  INFO 63924 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:16:19.086+01:00  INFO 63924 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:16:19.276+01:00  INFO 63924 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:16:19.844+01:00  WARN 63924 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:16:19.945+01:00 DEBUG 63924 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:16:19.979+01:00 DEBUG 63924 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:16:20.056+01:00 DEBUG 63924 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:16:20.085+01:00 DEBUG 63924 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:16:20.403+01:00  WARN 63924 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:16:20.456+01:00  INFO 63924 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:16:20.520+01:00  INFO 63924 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:16:20.522+01:00  INFO 63924 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:16:20.547+01:00  INFO 63924 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3ab9a482:0/SimpleConnection@3802165f [delegate=amqp://guest@127.0.0.1:5672/, localPort=39798]
2024-12-06T15:16:20.580+01:00  INFO 63924 --- [restartedMain] org.example.Main                         : Started Main in 4.164 seconds (process running for 4.521)
2024-12-06T15:16:24.805+01:00  INFO 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:16:24.806+01:00  INFO 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:16:24.806+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:16:24.806+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:16:24.806+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:16:24.806+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@232a4012
2024-12-06T15:16:24.807+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@678a1d59
2024-12-06T15:16:24.807+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:16:24.807+01:00  INFO 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:16:24.874+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:16:24.890+01:00  WARN 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:16:24.896+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:16:24.897+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:16:24.936+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:16:24.958+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:16:24.963+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:16:24.963+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:16:24.966+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:16:24.967+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:17:40.218+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:17:40.224+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:17:40.224+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:17:40.225+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:17:40.226+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:17:40.227+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:17:40.227+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:17:40.228+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:17:40.228+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:17:51.455+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T15:17:51.456+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T15:17:51.459+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T15:17:51.461+01:00  INFO 63924 --- [http-nio-0.0.0.0-8080-exec-4] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T15:17:51.573+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:17:51.576+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T15:17:51.662+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:17:51.677+01:00  INFO 63924 --- [http-nio-0.0.0.0-8080-exec-4] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiTUFOQUdFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IiLCJ2ZXJzaW9uIjowLCJzdWIiOiJ1c2VybmFtZTEiLCJpYXQiOjE3MzM0OTQ2NzEsImV4cCI6MTczMzU4MTA3MX0.iLJ6SVd3Aj-eIPNx2cYJ2vHdFg7kjyRxyoy8O1O5Sy8],[]>
	
2024-12-06T15:17:51.681+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T15:17:51.682+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiTUFOQUdFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b (truncated)...]
2024-12-06T15:17:51.685+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T15:18:10.885+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:18:10.889+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:18:10.890+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:18:10.890+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:18:10.891+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:18:10.891+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:18:10.891+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:18:10.892+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:18:10.892+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:20:04.302+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-9] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:20:04.307+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:20:04.307+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-9] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:20:04.308+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-9] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:20:04.308+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:20:04.308+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:20:04.309+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-9] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:20:04.309+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-9] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:20:04.309+01:00 DEBUG 63924 --- [http-nio-0.0.0.0-8080-exec-9] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:20:05.708+01:00  INFO 63924 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:20:06.596+01:00  INFO 63924 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:20:06.602+01:00  INFO 63924 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:20:06.604+01:00  INFO 63924 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:20:06.607+01:00  INFO 63924 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:20:09.042+01:00  INFO 64562 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 64562 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:20:09.044+01:00  INFO 64562 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:20:09.076+01:00  INFO 64562 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:20:09.076+01:00  INFO 64562 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:20:09.539+01:00  INFO 64562 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:20:09.593+01:00  INFO 64562 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 4 JPA repository interfaces.
2024-12-06T15:20:10.121+01:00  INFO 64562 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:20:10.130+01:00  INFO 64562 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:20:10.130+01:00  INFO 64562 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:20:10.156+01:00  INFO 64562 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:20:10.156+01:00  INFO 64562 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1080 ms
2024-12-06T15:20:10.285+01:00  INFO 64562 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:20:10.315+01:00  INFO 64562 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:20:10.340+01:00  INFO 64562 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:20:10.526+01:00  INFO 64562 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:20:10.545+01:00  INFO 64562 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:20:10.734+01:00  INFO 64562 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:20:10.735+01:00  INFO 64562 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:20:10.753+01:00  WARN 64562 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:20:11.380+01:00  INFO 64562 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:20:11.447+01:00  INFO 64562 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:20:11.636+01:00  INFO 64562 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:20:12.217+01:00  WARN 64562 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:20:12.319+01:00 DEBUG 64562 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:20:12.353+01:00 DEBUG 64562 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:20:12.429+01:00 DEBUG 64562 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:20:12.458+01:00 DEBUG 64562 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:20:12.732+01:00  WARN 64562 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:20:12.778+01:00  INFO 64562 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:20:12.847+01:00  INFO 64562 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:20:12.849+01:00  INFO 64562 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:20:12.874+01:00  INFO 64562 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#51972dfa:0/SimpleConnection@3b99d3ee [delegate=amqp://guest@127.0.0.1:5672/, localPort=55060]
2024-12-06T15:20:12.906+01:00  INFO 64562 --- [restartedMain] org.example.Main                         : Started Main in 4.108 seconds (process running for 4.469)
2024-12-06T15:20:14.521+01:00  INFO 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:20:14.521+01:00  INFO 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:20:14.522+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:20:14.522+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:20:14.522+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:20:14.523+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@8dd079c
2024-12-06T15:20:14.523+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@59fded6d
2024-12-06T15:20:14.524+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:20:14.524+01:00  INFO 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-12-06T15:20:14.603+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:20:14.619+01:00  WARN 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:20:14.627+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:20:14.629+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:20:14.672+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:20:14.697+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:20:14.702+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:20:14.703+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:20:14.705+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:20:14.706+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:20:26.626+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:20:26.630+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:20:26.630+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:20:26.631+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:20:26.631+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:20:26.632+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:20:26.632+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:20:26.633+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:20:26.633+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:20:27.711+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:20:27.716+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:20:27.716+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:20:27.717+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:20:27.718+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:20:27.718+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:20:27.718+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:20:27.718+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:20:27.719+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:20:29.081+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:20:29.088+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:20:29.089+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:20:29.090+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:20:29.091+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:20:29.092+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:20:29.092+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:20:29.093+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:20:29.093+01:00 DEBUG 64562 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:20:33.497+01:00  INFO 64562 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:20:33.901+01:00  INFO 64562 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:20:33.909+01:00  INFO 64562 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:20:33.911+01:00  INFO 64562 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:20:33.914+01:00  INFO 64562 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:22:19.774+01:00  INFO 65358 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 65358 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:22:19.777+01:00  INFO 65358 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:22:19.808+01:00  INFO 65358 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:22:19.808+01:00  INFO 65358 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:22:20.260+01:00  INFO 65358 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:22:20.313+01:00  INFO 65358 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2024-12-06T15:22:20.830+01:00  INFO 65358 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:22:20.838+01:00  INFO 65358 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:22:20.839+01:00  INFO 65358 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:22:20.864+01:00  INFO 65358 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:22:20.864+01:00  INFO 65358 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1056 ms
2024-12-06T15:22:20.989+01:00  INFO 65358 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:22:21.018+01:00  INFO 65358 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:22:21.044+01:00  INFO 65358 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:22:21.219+01:00  INFO 65358 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:22:21.238+01:00  INFO 65358 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:22:21.398+01:00  INFO 65358 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@52d91bcc
2024-12-06T15:22:21.399+01:00  INFO 65358 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:22:21.416+01:00  WARN 65358 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:22:22.002+01:00  INFO 65358 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:22:22.068+01:00  INFO 65358 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:22:22.255+01:00  INFO 65358 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:22:22.814+01:00  WARN 65358 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:22:22.917+01:00 DEBUG 65358 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:22:22.951+01:00 DEBUG 65358 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:22:23.028+01:00 DEBUG 65358 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:22:23.057+01:00 DEBUG 65358 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:22:23.336+01:00  WARN 65358 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:22:23.381+01:00  INFO 65358 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:22:23.449+01:00  INFO 65358 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:22:23.451+01:00  INFO 65358 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:22:23.476+01:00  INFO 65358 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2e485aaf:0/SimpleConnection@75b9995f [delegate=amqp://guest@127.0.0.1:5672/, localPort=36000]
2024-12-06T15:22:23.508+01:00  INFO 65358 --- [restartedMain] org.example.Main                         : Started Main in 4.024 seconds (process running for 4.372)
2024-12-06T15:22:41.666+01:00  INFO 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:22:41.666+01:00  INFO 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:22:41.666+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:22:41.666+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:22:41.666+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:22:41.667+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@e696962
2024-12-06T15:22:41.668+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6bab7f4a
2024-12-06T15:22:41.668+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:22:41.668+01:00  INFO 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T15:22:41.784+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:22:41.791+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T15:22:41.805+01:00  WARN 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:22:41.812+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:22:41.813+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:22:41.855+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:22:41.878+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:22:41.883+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:22:41.883+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:22:41.886+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:22:41.886+01:00 DEBUG 65358 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:24:09.091+01:00  INFO 65358 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:24:09.514+01:00  INFO 65358 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:24:09.521+01:00  INFO 65358 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:24:09.523+01:00  INFO 65358 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:24:09.526+01:00  INFO 65358 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:24:18.010+01:00  INFO 65846 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 65846 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:24:18.012+01:00  INFO 65846 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:24:18.036+01:00  INFO 65846 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:24:18.036+01:00  INFO 65846 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:24:18.490+01:00  INFO 65846 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:24:18.538+01:00  INFO 65846 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 4 JPA repository interfaces.
2024-12-06T15:24:19.073+01:00  INFO 65846 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:24:19.082+01:00  INFO 65846 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:24:19.082+01:00  INFO 65846 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:24:19.108+01:00  INFO 65846 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:24:19.108+01:00  INFO 65846 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1071 ms
2024-12-06T15:24:19.237+01:00  INFO 65846 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:24:19.267+01:00  INFO 65846 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:24:19.295+01:00  INFO 65846 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:24:19.466+01:00  INFO 65846 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:24:19.484+01:00  INFO 65846 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:24:19.641+01:00  INFO 65846 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:24:19.642+01:00  INFO 65846 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:24:19.660+01:00  WARN 65846 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:24:20.259+01:00  INFO 65846 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:24:20.328+01:00  INFO 65846 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:24:20.526+01:00  INFO 65846 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:24:21.102+01:00  WARN 65846 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:24:21.205+01:00 DEBUG 65846 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:24:21.242+01:00 DEBUG 65846 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:24:21.327+01:00 DEBUG 65846 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:24:21.356+01:00 DEBUG 65846 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:24:21.643+01:00  WARN 65846 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:24:21.686+01:00  INFO 65846 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:24:21.751+01:00  INFO 65846 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:24:21.754+01:00  INFO 65846 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:24:21.778+01:00  INFO 65846 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6a18a7f4:0/SimpleConnection@3b99d3ee [delegate=amqp://guest@127.0.0.1:5672/, localPort=53152]
2024-12-06T15:24:21.810+01:00  INFO 65846 --- [restartedMain] org.example.Main                         : Started Main in 4.039 seconds (process running for 4.341)
2024-12-06T15:24:42.767+01:00  INFO 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:24:42.767+01:00  INFO 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:24:42.768+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:24:42.768+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:24:42.768+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:24:42.769+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@8dd079c
2024-12-06T15:24:42.769+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@59fded6d
2024-12-06T15:24:42.769+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:24:42.770+01:00  INFO 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T15:24:42.841+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:24:42.856+01:00  WARN 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:24:42.862+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:24:42.863+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:24:42.903+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:24:42.925+01:00  INFO 65846 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:24:42.935+01:00 ERROR 65846 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:24:42.936+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:24:42.941+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:24:42.941+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:24:42.944+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:24:42.945+01:00 DEBUG 65846 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:25:38.841+01:00  INFO 65846 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:25:39.811+01:00  INFO 65846 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:25:39.818+01:00  INFO 65846 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:25:39.819+01:00  INFO 65846 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:25:39.822+01:00  INFO 65846 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:25:43.052+01:00  INFO 66224 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 66224 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:25:43.053+01:00  INFO 66224 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:25:43.079+01:00  INFO 66224 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:25:43.080+01:00  INFO 66224 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:25:43.529+01:00  INFO 66224 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:25:43.580+01:00  INFO 66224 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T15:25:44.106+01:00  INFO 66224 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:25:44.114+01:00  INFO 66224 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:25:44.114+01:00  INFO 66224 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:25:44.140+01:00  INFO 66224 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:25:44.140+01:00  INFO 66224 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1060 ms
2024-12-06T15:25:44.264+01:00  INFO 66224 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:25:44.295+01:00  INFO 66224 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:25:44.320+01:00  INFO 66224 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:25:44.496+01:00  INFO 66224 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:25:44.515+01:00  INFO 66224 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:25:44.679+01:00  INFO 66224 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@540a7fea
2024-12-06T15:25:44.680+01:00  INFO 66224 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:25:44.702+01:00  WARN 66224 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:25:45.282+01:00  INFO 66224 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:25:45.349+01:00  INFO 66224 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:25:45.549+01:00  INFO 66224 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:25:46.127+01:00  WARN 66224 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:25:46.225+01:00 DEBUG 66224 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:25:46.260+01:00 DEBUG 66224 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:25:46.340+01:00 DEBUG 66224 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:25:46.368+01:00 DEBUG 66224 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:25:46.629+01:00  WARN 66224 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:25:46.671+01:00  INFO 66224 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:25:46.735+01:00  INFO 66224 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:25:46.737+01:00  INFO 66224 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:25:46.761+01:00  INFO 66224 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#12d1d984:0/SimpleConnection@7b4ed3d5 [delegate=amqp://guest@127.0.0.1:5672/, localPort=45952]
2024-12-06T15:25:46.791+01:00  INFO 66224 --- [restartedMain] org.example.Main                         : Started Main in 3.979 seconds (process running for 4.274)
2024-12-06T15:26:01.846+01:00  INFO 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:26:01.846+01:00  INFO 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:26:01.846+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:26:01.846+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:26:01.846+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:26:01.848+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@d8cff44
2024-12-06T15:26:01.848+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1700d8d6
2024-12-06T15:26:01.848+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:26:01.848+01:00  INFO 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T15:26:01.931+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:26:01.952+01:00  WARN 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:26:01.959+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:26:01.960+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:26:02.000+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:26:02.022+01:00  INFO 66224 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:26:02.032+01:00 ERROR 66224 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:26:02.033+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:26:02.038+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:26:02.038+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:26:02.041+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:26:02.042+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:26:08.836+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:26:08.840+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:26:08.841+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:26:08.841+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:26:08.841+01:00  INFO 66224 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:26:08.842+01:00 ERROR 66224 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:26:08.843+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:26:08.843+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:26:08.843+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:26:08.844+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:26:08.844+01:00 DEBUG 66224 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:26:46.480+01:00  INFO 66224 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:26:46.792+01:00  INFO 66224 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:26:46.798+01:00  INFO 66224 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:26:46.800+01:00  INFO 66224 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:26:46.803+01:00  INFO 66224 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:26:48.907+01:00  INFO 67113 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 67113 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:26:48.908+01:00  INFO 67113 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:26:48.942+01:00  INFO 67113 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:26:48.942+01:00  INFO 67113 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:26:49.402+01:00  INFO 67113 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:26:49.453+01:00  INFO 67113 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T15:26:49.991+01:00  INFO 67113 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:26:49.999+01:00  INFO 67113 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:26:49.999+01:00  INFO 67113 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:26:50.027+01:00  INFO 67113 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:26:50.027+01:00  INFO 67113 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1085 ms
2024-12-06T15:26:50.151+01:00  INFO 67113 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:26:50.181+01:00  INFO 67113 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:26:50.206+01:00  INFO 67113 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:26:50.377+01:00  INFO 67113 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:26:50.394+01:00  INFO 67113 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:26:50.558+01:00  INFO 67113 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@24568923
2024-12-06T15:26:50.559+01:00  INFO 67113 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:26:50.581+01:00  WARN 67113 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:26:51.210+01:00  INFO 67113 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:26:51.279+01:00  INFO 67113 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:26:51.474+01:00  INFO 67113 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:26:52.031+01:00  WARN 67113 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:26:52.133+01:00 DEBUG 67113 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:26:52.167+01:00 DEBUG 67113 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:26:52.244+01:00 DEBUG 67113 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:26:52.272+01:00 DEBUG 67113 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:26:52.519+01:00  WARN 67113 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:26:52.564+01:00  INFO 67113 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:26:52.626+01:00  INFO 67113 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:26:52.629+01:00  INFO 67113 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:26:52.652+01:00  INFO 67113 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#19ad6678:0/SimpleConnection@36630ecc [delegate=amqp://guest@127.0.0.1:5672/, localPort=52226]
2024-12-06T15:26:52.681+01:00  INFO 67113 --- [restartedMain] org.example.Main                         : Started Main in 4.034 seconds (process running for 4.372)
2024-12-06T15:27:02.995+01:00  INFO 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:27:02.995+01:00  INFO 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:27:02.996+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:27:02.996+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:27:02.996+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:27:02.997+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5cf44218
2024-12-06T15:27:02.997+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@17a57cfb
2024-12-06T15:27:02.997+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:27:02.997+01:00  INFO 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T15:27:03.063+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:27:03.080+01:00  WARN 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:27:03.087+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:27:03.087+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:27:03.126+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:27:03.148+01:00  INFO 67113 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:27:03.157+01:00 ERROR 67113 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:27:03.158+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:27:03.163+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:27:03.163+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:27:03.166+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:27:03.166+01:00 DEBUG 67113 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:29:41.656+01:00  INFO 67113 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:29:41.695+01:00  INFO 67113 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:29:41.702+01:00  INFO 67113 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:29:41.704+01:00  INFO 67113 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:29:41.706+01:00  INFO 67113 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:29:43.896+01:00  INFO 68393 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 68393 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:29:43.897+01:00  INFO 68393 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:29:43.921+01:00  INFO 68393 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:29:43.921+01:00  INFO 68393 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:29:44.346+01:00  INFO 68393 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:29:44.397+01:00  INFO 68393 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T15:29:44.880+01:00  INFO 68393 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:29:44.888+01:00  INFO 68393 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:29:44.888+01:00  INFO 68393 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:29:44.912+01:00  INFO 68393 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:29:44.912+01:00  INFO 68393 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 990 ms
2024-12-06T15:29:45.035+01:00  INFO 68393 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:29:45.063+01:00  INFO 68393 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:29:45.088+01:00  INFO 68393 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:29:45.252+01:00  INFO 68393 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:29:45.269+01:00  INFO 68393 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:29:45.422+01:00  INFO 68393 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@1b2a8cf8
2024-12-06T15:29:45.423+01:00  INFO 68393 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:29:45.440+01:00  WARN 68393 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:29:46.004+01:00  INFO 68393 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:29:46.066+01:00  INFO 68393 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:29:46.244+01:00  INFO 68393 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:29:46.775+01:00  WARN 68393 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:29:46.871+01:00 DEBUG 68393 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:29:46.904+01:00 DEBUG 68393 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:29:46.975+01:00 DEBUG 68393 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:29:47.003+01:00 DEBUG 68393 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:29:47.257+01:00  WARN 68393 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:29:47.295+01:00  INFO 68393 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:29:47.354+01:00  INFO 68393 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:29:47.357+01:00  INFO 68393 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:29:47.380+01:00  INFO 68393 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#e34ba67:0/SimpleConnection@1c765ca2 [delegate=amqp://guest@127.0.0.1:5672/, localPort=39972]
2024-12-06T15:29:47.409+01:00  INFO 68393 --- [restartedMain] org.example.Main                         : Started Main in 3.763 seconds (process running for 4.046)
2024-12-06T15:30:03.887+01:00  INFO 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:30:03.888+01:00  INFO 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:30:03.888+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:30:03.888+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:30:03.888+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:30:03.889+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4d7168ba
2024-12-06T15:30:03.890+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@47e10054
2024-12-06T15:30:03.890+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:30:03.890+01:00  INFO 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T15:30:03.961+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:30:03.976+01:00  WARN 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:30:03.982+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:30:03.983+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:30:04.020+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:30:04.042+01:00  INFO 68393 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:30:04.051+01:00 ERROR 68393 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:30:04.052+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:30:04.056+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:30:04.057+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:30:04.059+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:30:04.060+01:00 DEBUG 68393 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:30:59.798+01:00  INFO 68393 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 47 class path changes (0 additions, 47 deletions, 0 modifications)
2024-12-06T15:30:59.802+01:00  INFO 68393 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:31:00.412+01:00  INFO 68393 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:31:00.420+01:00  INFO 68393 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:31:00.422+01:00  INFO 68393 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:31:00.425+01:00  INFO 68393 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:31:00.484+01:00  INFO 68393 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 68393 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:31:00.485+01:00  INFO 68393 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:31:00.637+01:00  INFO 68393 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:31:00.651+01:00  INFO 68393 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 13 ms. Found 4 JPA repository interfaces.
2024-12-06T15:31:00.806+01:00  INFO 68393 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:31:00.807+01:00  INFO 68393 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:31:00.807+01:00  INFO 68393 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:31:00.813+01:00  INFO 68393 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:31:00.813+01:00  INFO 68393 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 327 ms
2024-12-06T15:31:00.877+01:00  INFO 68393 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:31:00.879+01:00  INFO 68393 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:31:00.884+01:00  INFO 68393 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:31:00.885+01:00  INFO 68393 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:31:00.907+01:00  INFO 68393 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@261e32f7
2024-12-06T15:31:00.907+01:00  INFO 68393 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:31:00.909+01:00  WARN 68393 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:31:00.991+01:00  INFO 68393 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:31:01.029+01:00  INFO 68393 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:31:01.276+01:00  WARN 68393 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:31:01.310+01:00 DEBUG 68393 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:31:01.338+01:00 DEBUG 68393 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:31:01.408+01:00 DEBUG 68393 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:31:01.420+01:00 DEBUG 68393 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:31:01.601+01:00  WARN 68393 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:31:01.627+01:00  INFO 68393 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:31:01.654+01:00  INFO 68393 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:31:01.654+01:00  INFO 68393 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:31:01.656+01:00  INFO 68393 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#424ef56f:0/SimpleConnection@1fb21828 [delegate=amqp://guest@127.0.0.1:5672/, localPort=57440]
2024-12-06T15:31:01.662+01:00  INFO 68393 --- [restartedMain] org.example.Main                         : Started Main in 1.198 seconds (process running for 78.3)
2024-12-06T15:31:01.664+01:00  INFO 68393 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T15:31:03.028+01:00  INFO 68393 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 47 class path changes (47 additions, 0 deletions, 0 modifications)
2024-12-06T15:31:03.030+01:00  INFO 68393 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:31:03.659+01:00  INFO 68393 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:31:03.662+01:00  INFO 68393 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:31:03.663+01:00  INFO 68393 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:31:03.664+01:00  INFO 68393 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:31:03.716+01:00  INFO 68393 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 68393 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:31:03.717+01:00  INFO 68393 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:31:03.814+01:00  INFO 68393 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:31:03.824+01:00  INFO 68393 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 4 JPA repository interfaces.
2024-12-06T15:31:03.932+01:00  INFO 68393 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:31:03.932+01:00  INFO 68393 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:31:03.932+01:00  INFO 68393 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:31:03.937+01:00  INFO 68393 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:31:03.937+01:00  INFO 68393 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 220 ms
2024-12-06T15:31:03.995+01:00  INFO 68393 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:31:03.996+01:00  INFO 68393 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:31:04.001+01:00  INFO 68393 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:31:04.001+01:00  INFO 68393 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:31:04.022+01:00  INFO 68393 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@6895d3e6
2024-12-06T15:31:04.022+01:00  INFO 68393 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:31:04.024+01:00  WARN 68393 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:31:04.080+01:00  INFO 68393 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:31:04.114+01:00  INFO 68393 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:31:04.349+01:00  WARN 68393 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:31:04.382+01:00 DEBUG 68393 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:31:04.409+01:00 DEBUG 68393 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:31:04.454+01:00 DEBUG 68393 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:31:04.464+01:00 DEBUG 68393 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:31:04.626+01:00  WARN 68393 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:31:04.650+01:00  INFO 68393 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:31:04.675+01:00  INFO 68393 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:31:04.675+01:00  INFO 68393 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:31:04.677+01:00  INFO 68393 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3b887602:0/SimpleConnection@771cbe8e [delegate=amqp://guest@127.0.0.1:5672/, localPort=57454]
2024-12-06T15:31:04.685+01:00  INFO 68393 --- [restartedMain] org.example.Main                         : Started Main in 0.984 seconds (process running for 81.323)
2024-12-06T15:31:04.686+01:00  INFO 68393 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T15:31:09.291+01:00  INFO 68393 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:31:09.681+01:00  INFO 68393 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:31:09.684+01:00  INFO 68393 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:31:09.684+01:00  INFO 68393 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:31:09.686+01:00  INFO 68393 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:31:18.030+01:00  INFO 69264 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 69264 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:31:18.033+01:00  INFO 69264 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:31:18.071+01:00  INFO 69264 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:31:18.072+01:00  INFO 69264 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:31:18.563+01:00  INFO 69264 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:31:18.612+01:00  INFO 69264 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 4 JPA repository interfaces.
2024-12-06T15:31:19.097+01:00  INFO 69264 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:31:19.105+01:00  INFO 69264 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:31:19.105+01:00  INFO 69264 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:31:19.129+01:00  INFO 69264 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:31:19.130+01:00  INFO 69264 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1058 ms
2024-12-06T15:31:19.247+01:00  INFO 69264 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:31:19.275+01:00  INFO 69264 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:31:19.299+01:00  INFO 69264 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:31:19.460+01:00  INFO 69264 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:31:19.476+01:00  INFO 69264 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:31:19.627+01:00  INFO 69264 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@446ddf0a
2024-12-06T15:31:19.628+01:00  INFO 69264 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:31:19.645+01:00  WARN 69264 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:31:20.208+01:00  INFO 69264 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:31:20.271+01:00  INFO 69264 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:31:20.448+01:00  INFO 69264 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:31:20.981+01:00  WARN 69264 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:31:21.073+01:00 DEBUG 69264 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:31:21.107+01:00 DEBUG 69264 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:31:21.181+01:00 DEBUG 69264 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:31:21.209+01:00 DEBUG 69264 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:31:21.468+01:00  WARN 69264 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:31:21.510+01:00  INFO 69264 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:31:21.575+01:00  INFO 69264 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:31:21.577+01:00  INFO 69264 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:31:21.602+01:00  INFO 69264 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7d09021b:0/SimpleConnection@1fc7d775 [delegate=amqp://guest@127.0.0.1:5672/, localPort=33530]
2024-12-06T15:31:21.632+01:00  INFO 69264 --- [restartedMain] org.example.Main                         : Started Main in 3.931 seconds (process running for 4.212)
2024-12-06T15:31:30.673+01:00  INFO 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:31:30.673+01:00  INFO 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:31:30.673+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:31:30.673+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:31:30.673+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:31:30.674+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2900687e
2024-12-06T15:31:30.674+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@64442ee4
2024-12-06T15:31:30.674+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:31:30.675+01:00  INFO 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:31:30.682+01:00  WARN 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/v1/auth/authentication' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:31:30.689+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T15:31:30.690+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T15:31:30.739+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=, password=]]
2024-12-06T15:31:30.745+01:00  INFO 69264 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T15:31:30.870+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:31:30.948+01:00 ERROR 69264 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:authentication
	Args:[RequestLoginDTO[username=, password=]]
2024-12-06T15:31:30.950+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T15:31:30.954+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:31:30.955+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: Bad credentials"]
2024-12-06T15:31:30.957+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authentication.BadCredentialsException: Bad credentials]
2024-12-06T15:31:30.958+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:31:39.235+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:31:39.248+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:31:39.249+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:31:39.253+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:31:39.269+01:00  INFO 69264 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:31:39.275+01:00 ERROR 69264 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:31:39.276+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:31:39.276+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:31:39.276+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:31:39.277+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:31:39.277+01:00 DEBUG 69264 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:31:50.973+01:00  INFO 69264 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:31:51.629+01:00  INFO 69264 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:31:51.636+01:00  INFO 69264 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:31:51.638+01:00  INFO 69264 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:31:51.640+01:00  INFO 69264 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:31:54.320+01:00  INFO 70008 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 70008 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:31:54.322+01:00  INFO 70008 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:31:54.349+01:00  INFO 70008 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:31:54.349+01:00  INFO 70008 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:31:54.818+01:00  INFO 70008 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:31:54.874+01:00  INFO 70008 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 4 JPA repository interfaces.
2024-12-06T15:31:55.388+01:00  INFO 70008 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:31:55.396+01:00  INFO 70008 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:31:55.396+01:00  INFO 70008 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:31:55.420+01:00  INFO 70008 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:31:55.420+01:00  INFO 70008 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1071 ms
2024-12-06T15:31:55.542+01:00  INFO 70008 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:31:55.570+01:00  INFO 70008 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:31:55.594+01:00  INFO 70008 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:31:55.762+01:00  INFO 70008 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:31:55.778+01:00  INFO 70008 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:31:55.931+01:00  INFO 70008 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@25bf047d
2024-12-06T15:31:55.932+01:00  INFO 70008 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:31:55.949+01:00  WARN 70008 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:31:56.536+01:00  INFO 70008 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:31:56.564+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    create table customers (
        customer_id bigint generated by default as identity,
        name varchar(100) not null,
        sector varchar(100) not null,
        version bigint,
        user_id bigint,
        primary key (customer_id)
    )
2024-12-06T15:31:56.643+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    create table line_items (
        line_item_id bigint generated by default as identity,
        quantity integer,
        order_id bigint,
        product_id bigint,
        primary key (line_item_id)
    )
2024-12-06T15:31:56.718+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    create table orders (
        order_id bigint generated by default as identity,
        deliver_to varchar(100) not null,
        customer_id bigint,
        primary key (order_id)
    )
2024-12-06T15:31:56.768+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    create table products (
        product_id bigint generated by default as identity,
        price float(53) not null,
        product_name varchar(100) not null,
        primary key (product_id)
    )
2024-12-06T15:31:56.819+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    create table users (
        user_id bigint generated by default as identity,
        password varchar(255) not null,
        role varchar(255) check (role in ('USER','ADMIN','MANAGER')),
        username varchar(15) not null,
        primary key (user_id)
    )
2024-12-06T15:31:56.911+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       drop constraint if exists UKeuat1oase6eqv195jvb71a93s
2024-12-06T15:31:56.919+01:00  WARN 70008 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T15:31:56.919+01:00  WARN 70008 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukeuat1oase6eqv195jvb71a93s" of relation "customers" does not exist, skipping
2024-12-06T15:31:56.919+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       add constraint UKeuat1oase6eqv195jvb71a93s unique (user_id)
2024-12-06T15:31:56.969+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       drop constraint if exists UK6qgrt64ahrw2yfhils1fre3jn
2024-12-06T15:31:56.977+01:00  WARN 70008 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T15:31:56.978+01:00  WARN 70008 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk6qgrt64ahrw2yfhils1fre3jn" of relation "line_items" does not exist, skipping
2024-12-06T15:31:56.978+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint UK6qgrt64ahrw2yfhils1fre3jn unique (product_id)
2024-12-06T15:31:57.035+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2024-12-06T15:31:57.044+01:00  WARN 70008 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T15:31:57.044+01:00  WARN 70008 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukr43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
2024-12-06T15:31:57.044+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2024-12-06T15:31:57.094+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       add constraint FKrh1g1a20omjmn6kurd35o3eit 
       foreign key (user_id) 
       references users
2024-12-06T15:31:57.102+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint FKcfmx8jqmqu18hhasfdf3w1m9u 
       foreign key (order_id) 
       references orders
2024-12-06T15:31:57.111+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint FKb3hu7cw8o38248a3pr3o1aety 
       foreign key (product_id) 
       references products
2024-12-06T15:31:57.119+01:00 DEBUG 70008 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists orders 
       add constraint FKpxtb8awmi0dk6smoh2vp1litg 
       foreign key (customer_id) 
       references customers
2024-12-06T15:31:57.128+01:00  INFO 70008 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:31:57.314+01:00  INFO 70008 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:31:57.926+01:00  WARN 70008 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:31:58.069+01:00 DEBUG 70008 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:31:58.124+01:00 DEBUG 70008 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:31:58.218+01:00 DEBUG 70008 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:31:58.249+01:00 DEBUG 70008 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:31:58.567+01:00  WARN 70008 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:31:58.608+01:00  INFO 70008 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:31:58.672+01:00  INFO 70008 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:31:58.675+01:00  INFO 70008 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:31:58.698+01:00  INFO 70008 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#23af61a3:0/SimpleConnection@1f5262ce [delegate=amqp://guest@127.0.0.1:5672/, localPort=36130]
2024-12-06T15:31:58.727+01:00  INFO 70008 --- [restartedMain] org.example.Main                         : Started Main in 4.655 seconds (process running for 4.946)
2024-12-06T15:32:04.060+01:00  INFO 70277 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 70277 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:32:04.062+01:00  INFO 70277 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:32:04.073+01:00 DEBUG 70277 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3721177d
2024-12-06T15:32:04.572+01:00  INFO 70277 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:32:04.624+01:00  INFO 70277 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T15:32:05.152+01:00  INFO 70277 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:32:05.184+01:00  INFO 70277 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:32:05.206+01:00  INFO 70277 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:32:05.392+01:00  INFO 70277 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:32:05.410+01:00  INFO 70277 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:32:05.610+01:00  INFO 70277 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@4cb82b09
2024-12-06T15:32:05.612+01:00  INFO 70277 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:32:05.633+01:00  WARN 70277 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:32:06.252+01:00  INFO 70277 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:32:06.319+01:00  INFO 70277 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:32:06.525+01:00  INFO 70277 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:32:07.225+01:00  WARN 70277 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:32:07.427+01:00 DEBUG 70277 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:32:07.546+01:00 DEBUG 70277 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:32:07.575+01:00 DEBUG 70277 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:32:07.600+01:00 DEBUG 70277 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:32:07.875+01:00  WARN 70277 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:32:07.920+01:00  INFO 70277 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T15:32:07.921+01:00  INFO 70277 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T15:32:07.922+01:00  INFO 70277 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T15:32:07.959+01:00  INFO 70277 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:32:07.988+01:00  INFO 70277 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6859f102:0/SimpleConnection@465652a2 [delegate=amqp://guest@127.0.0.1:5672/, localPort=49736]
2024-12-06T15:32:08.023+01:00  INFO 70277 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.162 seconds (process running for 4.832)
2024-12-06T15:32:08.444+01:00 DEBUG 70277 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:32:08.462+01:00 DEBUG 70277 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:32:08.539+01:00 DEBUG 70277 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:32:08.541+01:00 DEBUG 70277 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:32:08.616+01:00 DEBUG 70277 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:32:08.618+01:00 DEBUG 70277 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:32:08.643+01:00 DEBUG 70277 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3721177d, started on Fri Dec 06 15:32:04 CET 2024
2024-12-06T15:32:08.648+01:00  INFO 70277 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:32:09.017+01:00  INFO 70277 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:32:09.022+01:00  INFO 70277 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:32:09.024+01:00  INFO 70277 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:32:09.027+01:00  INFO 70277 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:32:12.308+01:00  INFO 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:32:12.309+01:00  INFO 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:32:12.309+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:32:12.309+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:32:12.309+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:32:12.310+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@621c152e
2024-12-06T15:32:12.310+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@41b0b13c
2024-12-06T15:32:12.310+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:32:12.310+01:00  INFO 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:32:12.374+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:32:12.393+01:00  WARN 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:32:12.399+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:32:12.400+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:32:12.439+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:32:12.460+01:00  INFO 70008 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:32:12.468+01:00 ERROR 70008 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:32:12.469+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:32:12.473+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:32:12.474+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:32:12.476+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:32:12.477+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:32:20.286+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:32:20.291+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:32:20.291+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:32:20.292+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:32:20.292+01:00  INFO 70008 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:32:20.293+01:00 ERROR 70008 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:32:20.293+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:32:20.294+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:32:20.294+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:32:20.294+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:32:20.294+01:00 DEBUG 70008 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:35:08.439+01:00  INFO 70008 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:35:08.748+01:00  INFO 70008 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:35:08.755+01:00  INFO 70008 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:35:08.757+01:00  INFO 70008 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:35:08.760+01:00  INFO 70008 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:35:12.121+01:00  INFO 71916 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 71916 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:35:12.122+01:00  INFO 71916 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:35:12.146+01:00  INFO 71916 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:35:12.146+01:00  INFO 71916 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:35:12.580+01:00  INFO 71916 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:35:12.633+01:00  INFO 71916 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2024-12-06T15:35:13.116+01:00  INFO 71916 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:35:13.124+01:00  INFO 71916 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:35:13.124+01:00  INFO 71916 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:35:13.148+01:00  INFO 71916 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:35:13.149+01:00  INFO 71916 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1003 ms
2024-12-06T15:35:13.266+01:00  INFO 71916 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:35:13.294+01:00  INFO 71916 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:35:13.317+01:00  INFO 71916 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:35:13.477+01:00  INFO 71916 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:35:13.492+01:00  INFO 71916 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:35:13.642+01:00  INFO 71916 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@24568923
2024-12-06T15:35:13.643+01:00  INFO 71916 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:35:13.659+01:00  WARN 71916 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:35:14.216+01:00  INFO 71916 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:35:14.278+01:00  INFO 71916 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:35:14.456+01:00  INFO 71916 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:35:14.999+01:00  WARN 71916 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:35:15.096+01:00 DEBUG 71916 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:35:15.130+01:00 DEBUG 71916 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:35:15.202+01:00 DEBUG 71916 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:35:15.230+01:00 DEBUG 71916 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:35:15.483+01:00  WARN 71916 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:35:15.524+01:00  INFO 71916 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:35:15.588+01:00  INFO 71916 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:35:15.591+01:00  INFO 71916 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:35:15.615+01:00  INFO 71916 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7a79b680:0/SimpleConnection@3a585f91 [delegate=amqp://guest@127.0.0.1:5672/, localPort=42968]
2024-12-06T15:35:15.645+01:00  INFO 71916 --- [restartedMain] org.example.Main                         : Started Main in 3.765 seconds (process running for 4.059)
2024-12-06T15:35:20.232+01:00  INFO 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:35:20.232+01:00  INFO 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:35:20.232+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:35:20.232+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:35:20.232+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:35:20.233+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5cf44218
2024-12-06T15:35:20.233+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@17a57cfb
2024-12-06T15:35:20.233+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:35:20.234+01:00  INFO 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:35:20.300+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:35:20.315+01:00  WARN 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:35:20.321+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:35:20.322+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:35:20.359+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:35:20.381+01:00  INFO 71916 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:35:20.384+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.customer_id=?
2024-12-06T15:35:20.392+01:00 ERROR 71916 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:35:20.393+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:35:20.398+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:35:20.398+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:35:20.400+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:35:20.401+01:00 DEBUG 71916 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:35:27.942+01:00  INFO 71916 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2024-12-06T15:35:27.946+01:00  INFO 71916 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:35:28.640+01:00  INFO 71916 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:35:28.647+01:00  INFO 71916 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:35:28.649+01:00  INFO 71916 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:35:28.652+01:00  INFO 71916 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:35:28.712+01:00  INFO 71916 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 71916 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:35:28.713+01:00  INFO 71916 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:35:28.849+01:00  INFO 71916 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:35:28.862+01:00  INFO 71916 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 4 JPA repository interfaces.
2024-12-06T15:35:28.993+01:00  INFO 71916 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:35:28.994+01:00  INFO 71916 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:35:28.994+01:00  INFO 71916 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:35:28.999+01:00  INFO 71916 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:35:28.999+01:00  INFO 71916 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 285 ms
2024-12-06T15:35:29.060+01:00  INFO 71916 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:35:29.062+01:00  INFO 71916 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:35:29.071+01:00  INFO 71916 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:35:29.071+01:00  INFO 71916 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:35:29.093+01:00  INFO 71916 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@22e3796d
2024-12-06T15:35:29.093+01:00  INFO 71916 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:35:29.095+01:00  WARN 71916 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:35:29.158+01:00  INFO 71916 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:35:29.196+01:00  INFO 71916 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:35:29.430+01:00  WARN 71916 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:35:29.467+01:00 DEBUG 71916 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:35:29.497+01:00 DEBUG 71916 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:35:29.546+01:00 DEBUG 71916 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:35:29.557+01:00 DEBUG 71916 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:35:29.732+01:00  WARN 71916 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:35:29.763+01:00  INFO 71916 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:35:29.794+01:00  INFO 71916 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:35:29.794+01:00  INFO 71916 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:35:29.796+01:00  INFO 71916 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#175ca97a:0/SimpleConnection@1f1dc50b [delegate=amqp://guest@127.0.0.1:5672/, localPort=38548]
2024-12-06T15:35:29.803+01:00  INFO 71916 --- [restartedMain] org.example.Main                         : Started Main in 1.109 seconds (process running for 18.218)
2024-12-06T15:35:29.805+01:00  INFO 71916 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T15:36:13.447+01:00  INFO 71916 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:36:13.804+01:00  INFO 71916 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:36:13.808+01:00  INFO 71916 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:36:13.808+01:00  INFO 71916 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:36:13.810+01:00  INFO 71916 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:36:29.036+01:00  INFO 72481 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 72481 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:36:29.038+01:00  INFO 72481 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:36:29.061+01:00  INFO 72481 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:36:29.061+01:00  INFO 72481 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:36:29.483+01:00  INFO 72481 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:36:29.526+01:00  INFO 72481 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 4 JPA repository interfaces.
2024-12-06T15:36:30.011+01:00  INFO 72481 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:36:30.019+01:00  INFO 72481 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:36:30.019+01:00  INFO 72481 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:36:30.043+01:00  INFO 72481 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:36:30.043+01:00  INFO 72481 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 981 ms
2024-12-06T15:36:30.165+01:00  INFO 72481 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:36:30.194+01:00  INFO 72481 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:36:30.219+01:00  INFO 72481 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:36:30.378+01:00  INFO 72481 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:36:30.393+01:00  INFO 72481 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:36:30.541+01:00  INFO 72481 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:36:30.542+01:00  INFO 72481 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:36:30.559+01:00  WARN 72481 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:36:31.121+01:00  INFO 72481 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:36:31.189+01:00  INFO 72481 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:36:31.366+01:00  INFO 72481 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:36:31.900+01:00  WARN 72481 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:36:31.997+01:00 DEBUG 72481 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:36:32.033+01:00 DEBUG 72481 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:36:32.107+01:00 DEBUG 72481 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:36:32.134+01:00 DEBUG 72481 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:36:32.386+01:00  WARN 72481 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:36:32.424+01:00  INFO 72481 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:36:32.483+01:00  INFO 72481 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:36:32.485+01:00  INFO 72481 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:36:32.508+01:00  INFO 72481 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6a18a7f4:0/SimpleConnection@5445288c [delegate=amqp://guest@127.0.0.1:5672/, localPort=36016]
2024-12-06T15:36:32.536+01:00  INFO 72481 --- [restartedMain] org.example.Main                         : Started Main in 3.743 seconds (process running for 4.033)
2024-12-06T15:36:34.655+01:00  INFO 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:36:34.655+01:00  INFO 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:36:34.655+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:36:34.655+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:36:34.655+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:36:34.656+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@23667a80
2024-12-06T15:36:34.656+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4440492e
2024-12-06T15:36:34.656+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:36:34.656+01:00  INFO 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:36:34.663+01:00  WARN 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/v1/auth/authentication' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:36:34.669+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T15:36:34.670+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T15:36:34.717+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T15:36:34.723+01:00  INFO 72481 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T15:36:34.848+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:36:34.854+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T15:36:34.944+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:36:34.968+01:00  INFO 72481 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IiLCJ2ZXJzaW9uIjowLCJzdWIiOiJ1c2VybmFtZTEiLCJpYXQiOjE3MzM0OTU3OTQsImV4cCI6MTczMzU4MjE5NH0.95gtwnfZPT2pVDYowNS9qmODKLGjw2b1oOR-G6UvvKI],[]>
	
2024-12-06T15:36:34.974+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T15:36:34.974+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T15:36:34.979+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T15:36:37.371+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:36:37.377+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:36:37.377+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:36:37.382+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:36:37.398+01:00  INFO 72481 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:36:37.403+01:00 ERROR 72481 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:36:37.404+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:36:37.405+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:36:37.405+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:36:37.406+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:36:37.406+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:36:39.762+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:36:39.767+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:36:39.768+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:36:39.768+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:36:39.769+01:00  INFO 72481 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:36:39.769+01:00 ERROR 72481 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:36:39.770+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:36:39.770+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:36:39.770+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:36:39.771+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:36:39.771+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:36:40.751+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:36:40.756+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:36:40.757+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:36:40.758+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:36:40.758+01:00  INFO 72481 --- [http-nio-0.0.0.0-8080-exec-4] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:36:40.759+01:00 ERROR 72481 --- [http-nio-0.0.0.0-8080-exec-4] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:36:40.759+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:36:40.760+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:36:40.760+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:36:40.760+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:36:40.761+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:36:52.143+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:36:52.147+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:36:52.147+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:36:52.148+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:36:52.149+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:36:52.149+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:36:52.149+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:36:52.150+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:36:52.150+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:36:55.040+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:36:55.044+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:36:55.044+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:36:55.045+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:36:55.046+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:36:55.046+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:36:55.046+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:36:55.046+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:36:55.047+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:36:59.363+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T15:36:59.363+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T15:36:59.363+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T15:36:59.364+01:00  INFO 72481 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T15:36:59.366+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:36:59.367+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T15:36:59.446+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:36:59.448+01:00  INFO 72481 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IiLCJ2ZXJzaW9uIjoxMjMsInN1YiI6InVzZXJuYW1lMSIsImlhdCI6MTczMzQ5NTgxOSwiZXhwIjoxNzMzNTgyMjE5fQ.7h3m_LPhknaHrZwDYRf0vx28QfmreHgCBSPDwnH0IoA],[]>
	
2024-12-06T15:36:59.449+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T15:36:59.449+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T15:36:59.449+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T15:37:19.814+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:37:19.819+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:37:19.819+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:37:19.820+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:37:19.820+01:00  INFO 72481 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:37:19.822+01:00 ERROR 72481 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:37:19.822+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:37:19.822+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:37:19.822+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:37:19.823+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:37:19.823+01:00 DEBUG 72481 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:39:32.875+01:00  INFO 72481 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 47 class path changes (0 additions, 0 deletions, 47 modifications)
2024-12-06T15:39:32.879+01:00  INFO 72481 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:39:33.550+01:00  INFO 72481 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:39:33.557+01:00  INFO 72481 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:39:33.559+01:00  INFO 72481 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:39:33.561+01:00  INFO 72481 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:39:33.622+01:00  INFO 72481 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 72481 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:39:33.622+01:00  INFO 72481 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:39:33.741+01:00  INFO 72481 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:39:33.752+01:00  INFO 72481 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 4 JPA repository interfaces.
2024-12-06T15:39:33.881+01:00  INFO 72481 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:39:33.882+01:00  INFO 72481 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:39:33.882+01:00  INFO 72481 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:39:33.887+01:00  INFO 72481 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:39:33.887+01:00  INFO 72481 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 264 ms
2024-12-06T15:39:33.945+01:00  INFO 72481 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:39:33.946+01:00  INFO 72481 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:39:33.952+01:00  INFO 72481 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:39:33.953+01:00  INFO 72481 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:39:33.975+01:00  INFO 72481 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@50ad394e
2024-12-06T15:39:33.975+01:00  INFO 72481 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:39:33.977+01:00  WARN 72481 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:39:34.036+01:00  INFO 72481 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:39:34.072+01:00  INFO 72481 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:39:34.324+01:00  WARN 72481 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:39:34.360+01:00 DEBUG 72481 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:39:34.385+01:00 DEBUG 72481 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:39:34.432+01:00 DEBUG 72481 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:39:34.444+01:00 DEBUG 72481 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:39:34.659+01:00  WARN 72481 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:39:34.690+01:00  INFO 72481 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:39:34.718+01:00  INFO 72481 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:39:34.719+01:00  INFO 72481 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:39:34.721+01:00  INFO 72481 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7b17113e:0/SimpleConnection@100a9d76 [delegate=amqp://guest@127.0.0.1:5672/, localPort=46650]
2024-12-06T15:39:34.727+01:00  INFO 72481 --- [restartedMain] org.example.Main                         : Started Main in 1.123 seconds (process running for 186.224)
2024-12-06T15:39:34.729+01:00  INFO 72481 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T15:39:40.022+01:00  INFO 72481 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:39:40.724+01:00  INFO 72481 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:39:40.728+01:00  INFO 72481 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:39:40.728+01:00  INFO 72481 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:39:40.730+01:00  INFO 72481 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:39:43.317+01:00  INFO 74026 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 74026 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:39:43.319+01:00  INFO 74026 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:39:43.345+01:00  INFO 74026 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:39:43.346+01:00  INFO 74026 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:39:43.842+01:00  INFO 74026 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:39:43.895+01:00  INFO 74026 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T15:39:44.400+01:00  INFO 74026 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:39:44.408+01:00  INFO 74026 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:39:44.408+01:00  INFO 74026 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:39:44.431+01:00  INFO 74026 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:39:44.431+01:00  INFO 74026 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1085 ms
2024-12-06T15:39:44.544+01:00  INFO 74026 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:39:44.571+01:00  INFO 74026 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:39:44.597+01:00  INFO 74026 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:39:44.774+01:00  INFO 74026 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:39:44.792+01:00  INFO 74026 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:39:44.953+01:00  INFO 74026 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:39:44.954+01:00  INFO 74026 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:39:44.972+01:00  WARN 74026 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:39:45.553+01:00  INFO 74026 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:39:45.618+01:00  INFO 74026 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:39:45.804+01:00  INFO 74026 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:39:46.347+01:00  WARN 74026 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:39:46.452+01:00 DEBUG 74026 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:39:46.488+01:00 DEBUG 74026 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:39:46.568+01:00 DEBUG 74026 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:39:46.596+01:00 DEBUG 74026 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:39:46.865+01:00  WARN 74026 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:39:46.904+01:00  INFO 74026 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:39:46.966+01:00  INFO 74026 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:39:46.969+01:00  INFO 74026 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:39:46.993+01:00  INFO 74026 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6a18a7f4:0/SimpleConnection@111b9418 [delegate=amqp://guest@127.0.0.1:5672/, localPort=59654]
2024-12-06T15:39:47.022+01:00  INFO 74026 --- [restartedMain] org.example.Main                         : Started Main in 3.988 seconds (process running for 4.27)
2024-12-06T15:39:49.853+01:00  INFO 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:39:49.853+01:00  INFO 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:39:49.853+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:39:49.853+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:39:49.853+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:39:49.854+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@23667a80
2024-12-06T15:39:49.854+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@4440492e
2024-12-06T15:39:49.854+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:39:49.854+01:00  INFO 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:39:49.920+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:39:49.938+01:00  WARN 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:39:49.945+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:39:49.946+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:39:49.985+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:39:50.007+01:00  INFO 74026 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:39:50.017+01:00 ERROR 74026 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:39:50.018+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:39:50.022+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:39:50.023+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:39:50.025+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:39:50.026+01:00 DEBUG 74026 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:39:55.720+01:00  INFO 74026 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:39:56.017+01:00  INFO 74026 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:39:56.024+01:00  INFO 74026 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:39:56.026+01:00  INFO 74026 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:39:56.029+01:00  INFO 74026 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:39:57.753+01:00  INFO 74458 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 74458 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:39:57.754+01:00  INFO 74458 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:39:57.778+01:00  INFO 74458 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T15:39:57.778+01:00  INFO 74458 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T15:39:58.214+01:00  INFO 74458 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:39:58.264+01:00  INFO 74458 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 4 JPA repository interfaces.
2024-12-06T15:39:58.779+01:00  INFO 74458 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T15:39:58.788+01:00  INFO 74458 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T15:39:58.788+01:00  INFO 74458 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T15:39:58.814+01:00  INFO 74458 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T15:39:58.815+01:00  INFO 74458 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1036 ms
2024-12-06T15:39:58.939+01:00  INFO 74458 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:39:58.967+01:00  INFO 74458 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:39:58.991+01:00  INFO 74458 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:39:59.155+01:00  INFO 74458 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:39:59.172+01:00  INFO 74458 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:39:59.339+01:00  INFO 74458 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T15:39:59.340+01:00  INFO 74458 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:39:59.359+01:00  WARN 74458 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:39:59.934+01:00  INFO 74458 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:39:59.961+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    create table customers (
        customer_id bigint generated by default as identity,
        name varchar(100) not null,
        sector varchar(100) not null,
        version bigint,
        user_id bigint,
        primary key (customer_id)
    )
2024-12-06T15:40:00.042+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    create table line_items (
        line_item_id bigint generated by default as identity,
        quantity integer,
        order_id bigint,
        product_id bigint,
        primary key (line_item_id)
    )
2024-12-06T15:40:00.100+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    create table orders (
        order_id bigint generated by default as identity,
        deliver_to varchar(100) not null,
        customer_id bigint,
        primary key (order_id)
    )
2024-12-06T15:40:00.150+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    create table products (
        product_id bigint generated by default as identity,
        price float(53) not null,
        product_name varchar(100) not null,
        primary key (product_id)
    )
2024-12-06T15:40:00.201+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    create table users (
        user_id bigint generated by default as identity,
        password varchar(255) not null,
        role varchar(255) check (role in ('USER','ADMIN','MANAGER')),
        username varchar(15) not null,
        primary key (user_id)
    )
2024-12-06T15:40:00.302+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       drop constraint if exists UKeuat1oase6eqv195jvb71a93s
2024-12-06T15:40:00.309+01:00  WARN 74458 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T15:40:00.309+01:00  WARN 74458 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukeuat1oase6eqv195jvb71a93s" of relation "customers" does not exist, skipping
2024-12-06T15:40:00.310+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       add constraint UKeuat1oase6eqv195jvb71a93s unique (user_id)
2024-12-06T15:40:00.367+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       drop constraint if exists UK6qgrt64ahrw2yfhils1fre3jn
2024-12-06T15:40:00.375+01:00  WARN 74458 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T15:40:00.376+01:00  WARN 74458 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk6qgrt64ahrw2yfhils1fre3jn" of relation "line_items" does not exist, skipping
2024-12-06T15:40:00.376+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint UK6qgrt64ahrw2yfhils1fre3jn unique (product_id)
2024-12-06T15:40:00.442+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2024-12-06T15:40:00.450+01:00  WARN 74458 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T15:40:00.450+01:00  WARN 74458 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukr43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
2024-12-06T15:40:00.451+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2024-12-06T15:40:00.500+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       add constraint FKrh1g1a20omjmn6kurd35o3eit 
       foreign key (user_id) 
       references users
2024-12-06T15:40:00.509+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint FKcfmx8jqmqu18hhasfdf3w1m9u 
       foreign key (order_id) 
       references orders
2024-12-06T15:40:00.517+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint FKb3hu7cw8o38248a3pr3o1aety 
       foreign key (product_id) 
       references products
2024-12-06T15:40:00.525+01:00 DEBUG 74458 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists orders 
       add constraint FKpxtb8awmi0dk6smoh2vp1litg 
       foreign key (customer_id) 
       references customers
2024-12-06T15:40:00.535+01:00  INFO 74458 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:40:00.734+01:00  INFO 74458 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:40:01.295+01:00  WARN 74458 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:40:01.394+01:00 DEBUG 74458 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:40:01.428+01:00 DEBUG 74458 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:40:01.504+01:00 DEBUG 74458 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:40:01.532+01:00 DEBUG 74458 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:40:01.778+01:00  WARN 74458 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:40:01.815+01:00  INFO 74458 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T15:40:01.881+01:00  INFO 74458 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T15:40:01.883+01:00  INFO 74458 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:40:01.907+01:00  INFO 74458 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4357f415:0/SimpleConnection@35b99b92 [delegate=amqp://guest@127.0.0.1:5672/, localPort=45654]
2024-12-06T15:40:01.936+01:00  INFO 74458 --- [restartedMain] org.example.Main                         : Started Main in 4.419 seconds (process running for 4.707)
2024-12-06T15:40:04.988+01:00  INFO 74708 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 74708 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T15:40:04.990+01:00  INFO 74708 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T15:40:05.000+01:00 DEBUG 74708 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3721177d
2024-12-06T15:40:05.465+01:00  INFO 74708 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T15:40:05.514+01:00  INFO 74708 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 4 JPA repository interfaces.
2024-12-06T15:40:06.021+01:00  INFO 74708 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T15:40:06.053+01:00  INFO 74708 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T15:40:06.074+01:00  INFO 74708 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T15:40:06.256+01:00  INFO 74708 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T15:40:06.274+01:00  INFO 74708 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T15:40:06.463+01:00  INFO 74708 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@4cb82b09
2024-12-06T15:40:06.464+01:00  INFO 74708 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T15:40:06.483+01:00  WARN 74708 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T15:40:07.087+01:00  INFO 74708 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T15:40:07.150+01:00  INFO 74708 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:40:07.339+01:00  INFO 74708 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T15:40:07.977+01:00  WARN 74708 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T15:40:08.125+01:00 DEBUG 74708 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T15:40:08.230+01:00 DEBUG 74708 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T15:40:08.260+01:00 DEBUG 74708 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T15:40:08.294+01:00 DEBUG 74708 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T15:40:08.571+01:00  WARN 74708 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T15:40:08.617+01:00  INFO 74708 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T15:40:08.618+01:00  INFO 74708 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T15:40:08.619+01:00  INFO 74708 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T15:40:08.657+01:00  INFO 74708 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T15:40:08.680+01:00  INFO 74708 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#39d0775c:0/SimpleConnection@6ab86832 [delegate=amqp://guest@127.0.0.1:5672/, localPort=37290]
2024-12-06T15:40:08.714+01:00  INFO 74708 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 3.927 seconds (process running for 4.629)
2024-12-06T15:40:09.117+01:00 DEBUG 74708 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:40:09.135+01:00 DEBUG 74708 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:40:09.218+01:00 DEBUG 74708 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:40:09.220+01:00 DEBUG 74708 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:40:09.291+01:00 DEBUG 74708 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T15:40:09.293+01:00 DEBUG 74708 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T15:40:09.896+01:00 DEBUG 74708 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3721177d, started on Fri Dec 06 15:40:05 CET 2024
2024-12-06T15:40:09.899+01:00  INFO 74708 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:40:10.708+01:00  INFO 74708 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:40:10.714+01:00  INFO 74708 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:40:10.715+01:00  INFO 74708 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:40:10.719+01:00  INFO 74708 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T15:40:13.836+01:00  INFO 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T15:40:13.836+01:00  INFO 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T15:40:13.836+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T15:40:13.836+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T15:40:13.836+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T15:40:13.837+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@7fbf643b
2024-12-06T15:40:13.837+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@64050a9a
2024-12-06T15:40:13.837+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T15:40:13.837+01:00  INFO 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T15:40:13.904+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:40:13.918+01:00  WARN 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T15:40:13.925+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:40:13.926+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:40:13.962+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:40:13.984+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T15:40:13.989+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:40:13.989+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T15:40:13.992+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T15:40:13.992+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T15:40:22.164+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T15:40:22.164+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T15:40:22.167+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T15:40:22.169+01:00  INFO 74458 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T15:40:22.280+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:40:22.283+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T15:40:22.368+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T15:40:22.382+01:00  INFO 74458 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IiLCJ2ZXJzaW9uIjowLCJzdWIiOiJ1c2VybmFtZTEiLCJpYXQiOjE3MzM0OTYwMjIsImV4cCI6MTczMzU4MjQyMn0.OUzN2SvJ9Hh-709nVOzsEPSEIVK3KcWCYT5Jjkt5QEs],[]>
	
2024-12-06T15:40:22.387+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T15:40:22.387+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T15:40:22.390+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T15:40:36.733+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T15:40:36.739+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T15:40:36.739+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T15:40:36.740+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:40:36.740+01:00  INFO 74458 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T15:40:36.748+01:00 ERROR 74458 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T15:40:36.748+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T15:40:36.749+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T15:40:36.749+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T15:40:36.749+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T15:40:36.750+01:00 DEBUG 74458 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T15:40:41.821+01:00  INFO 74458 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T15:40:41.935+01:00  INFO 74458 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T15:40:41.941+01:00  INFO 74458 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T15:40:41.943+01:00  INFO 74458 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T15:40:41.946+01:00  INFO 74458 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T16:23:02.285+01:00  INFO 6009 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 6009 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T16:23:02.287+01:00  INFO 6009 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T16:23:02.351+01:00  INFO 6009 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T16:23:02.351+01:00  INFO 6009 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T16:23:03.489+01:00  INFO 6009 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T16:23:03.568+01:00  INFO 6009 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 4 JPA repository interfaces.
2024-12-06T16:23:04.283+01:00  INFO 6009 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T16:23:04.326+01:00  INFO 6009 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1974 ms
2024-12-06T16:23:04.534+01:00  INFO 6009 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T16:23:04.584+01:00  INFO 6009 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T16:23:04.630+01:00  INFO 6009 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T16:23:04.925+01:00  INFO 6009 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T16:23:04.976+01:00  INFO 6009 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T16:23:05.438+01:00  INFO 6009 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T16:23:05.440+01:00  INFO 6009 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T16:23:05.485+01:00  WARN 6009 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T16:23:06.241+01:00  INFO 6009 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T16:23:06.337+01:00 DEBUG 6009 --- [restartedMain] org.hibernate.SQL                        : 
    create table customers (
        customer_id bigint generated by default as identity,
        name varchar(100) not null,
        sector varchar(100) not null,
        version bigint,
        user_id bigint,
        primary key (customer_id)
    )
2024-12-06T16:23:07.110+01:00 DEBUG 6009 --- [restartedMain] org.hibernate.SQL                        : 
    create table line_items (
        line_item_id bigint generated by default as identity,
        quantity integer,
        order_id bigint,
        product_id bigint,
        primary key (line_item_id)
    )
2024-12-06T16:23:07.168+01:00 DEBUG 6009 --- [restartedMain] org.hibernate.SQL                        : 
    create table orders (
        order_id bigint generated by default as identity,
        deliver_to varchar(100) not null,
        customer_id bigint,
        primary key (order_id)
    )
2024-12-06T16:23:07.235+01:00 DEBUG 6009 --- [restartedMain] org.hibernate.SQL                        : 
    create table products (
        product_id bigint generated by default as identity,
        price float(53) not null,
        product_name varchar(100) not null,
        primary key (product_id)
    )
2024-12-06T16:23:20.780+01:00  INFO 6314 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 6314 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T16:23:20.781+01:00  INFO 6314 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T16:23:20.792+01:00 DEBUG 6314 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3721177d
2024-12-06T16:23:21.284+01:00  INFO 6314 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T16:23:21.341+01:00  INFO 6314 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 51 ms. Found 4 JPA repository interfaces.
2024-12-06T16:23:21.861+01:00  INFO 6314 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T16:23:21.894+01:00  INFO 6314 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T16:23:21.915+01:00  INFO 6314 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T16:23:22.100+01:00  INFO 6314 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T16:23:22.118+01:00  INFO 6314 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T16:23:22.309+01:00  INFO 6314 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@4cb82b09
2024-12-06T16:23:22.311+01:00  INFO 6314 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T16:23:22.329+01:00  WARN 6314 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T16:23:22.903+01:00  INFO 6314 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T16:23:22.932+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    create table users (
        user_id bigint generated by default as identity,
        password varchar(255) not null,
        role varchar(255) check (role in ('USER','ADMIN','MANAGER')),
        username varchar(15) not null,
        primary key (user_id)
    )
2024-12-06T16:23:23.127+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists users 
       drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2024-12-06T16:23:23.169+01:00  WARN 6314 --- [Test worker] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T16:23:23.169+01:00  WARN 6314 --- [Test worker] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukr43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
2024-12-06T16:23:23.169+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2024-12-06T16:23:23.219+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists customers 
       add constraint FKrh1g1a20omjmn6kurd35o3eit 
       foreign key (user_id) 
       references users
2024-12-06T16:23:23.275+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint FKcfmx8jqmqu18hhasfdf3w1m9u 
       foreign key (order_id) 
       references orders
2024-12-06T16:23:23.285+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint FKb3hu7cw8o38248a3pr3o1aety 
       foreign key (product_id) 
       references products
2024-12-06T16:23:23.299+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists orders 
       add constraint FKpxtb8awmi0dk6smoh2vp1litg 
       foreign key (customer_id) 
       references customers
2024-12-06T16:23:23.303+01:00  INFO 6314 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T16:23:23.661+01:00  INFO 6314 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T16:23:24.525+01:00  WARN 6314 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T16:23:24.726+01:00 DEBUG 6314 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T16:23:24.857+01:00 DEBUG 6314 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T16:23:24.884+01:00 DEBUG 6314 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T16:23:24.912+01:00 DEBUG 6314 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T16:23:25.269+01:00  WARN 6314 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T16:23:25.333+01:00  INFO 6314 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T16:23:25.334+01:00  INFO 6314 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T16:23:25.336+01:00  INFO 6314 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 2 ms
2024-12-06T16:23:25.383+01:00  INFO 6314 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T16:23:25.409+01:00  INFO 6314 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#21ad0060:0/SimpleConnection@2740c1e [delegate=amqp://guest@127.0.0.1:5672/, localPort=53836]
2024-12-06T16:23:25.447+01:00  INFO 6314 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.864 seconds (process running for 5.603)
2024-12-06T16:23:25.922+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T16:23:26.023+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T16:23:26.053+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T16:23:26.114+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T16:23:26.119+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T16:23:26.183+01:00 DEBUG 6314 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T16:23:26.207+01:00 DEBUG 6314 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3721177d, started on Fri Dec 06 16:23:20 CET 2024
2024-12-06T16:23:26.211+01:00  INFO 6314 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T16:23:26.437+01:00  INFO 6314 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T16:23:26.443+01:00  INFO 6314 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T16:23:26.458+01:00  INFO 6314 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T16:23:26.462+01:00  INFO 6314 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T16:26:34.805+01:00  INFO 6840 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 6840 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T16:26:34.807+01:00  INFO 6840 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T16:26:34.831+01:00  INFO 6840 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T16:26:34.831+01:00  INFO 6840 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T16:26:35.267+01:00  INFO 6840 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T16:26:35.317+01:00  INFO 6840 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T16:26:35.812+01:00  INFO 6840 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T16:26:35.820+01:00  INFO 6840 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T16:26:35.820+01:00  INFO 6840 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T16:26:35.844+01:00  INFO 6840 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T16:26:35.844+01:00  INFO 6840 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1013 ms
2024-12-06T16:26:35.958+01:00  INFO 6840 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T16:26:35.986+01:00  INFO 6840 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T16:26:36.010+01:00  INFO 6840 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T16:26:36.171+01:00  INFO 6840 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T16:26:36.187+01:00  INFO 6840 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T16:26:36.337+01:00  INFO 6840 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T16:26:36.339+01:00  INFO 6840 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T16:26:36.356+01:00  WARN 6840 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T16:26:36.911+01:00  INFO 6840 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T16:26:36.973+01:00  INFO 6840 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T16:26:37.149+01:00  INFO 6840 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T16:26:37.727+01:00  WARN 6840 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T16:26:37.818+01:00 DEBUG 6840 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T16:26:37.852+01:00 DEBUG 6840 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T16:26:37.928+01:00 DEBUG 6840 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T16:26:37.957+01:00 DEBUG 6840 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T16:26:38.248+01:00  WARN 6840 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T16:26:38.292+01:00  INFO 6840 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T16:26:38.363+01:00  INFO 6840 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T16:26:38.365+01:00  INFO 6840 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T16:26:38.390+01:00  INFO 6840 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#354283d5:0/SimpleConnection@75df9708 [delegate=amqp://guest@127.0.0.1:5672/, localPort=52756]
2024-12-06T16:26:38.421+01:00  INFO 6840 --- [restartedMain] org.example.Main                         : Started Main in 3.843 seconds (process running for 4.162)
2024-12-06T16:26:41.401+01:00  INFO 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T16:26:41.401+01:00  INFO 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T16:26:41.402+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T16:26:41.402+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T16:26:41.402+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T16:26:41.403+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@263c8c6
2024-12-06T16:26:41.403+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7ade4b16
2024-12-06T16:26:41.403+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T16:26:41.403+01:00  INFO 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T16:26:41.535+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T16:26:41.545+01:00 ERROR 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[.[.[/].[dispatcherServlet]    : Servlet.service() for servlet [dispatcherServlet] in context with path [] threw exception

java.lang.NullPointerException: Cannot invoke "org.example.customer.domain.Customer.getVersion()" because the return value of "org.example.user.domain.User.getCustomer()" is null
	at org.example.authentication.application.impl.JWTServiceImpl.isTokenValid(JWTServiceImpl.java:67) ~[main/:na]
	at org.example.configurations.filters.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:43) ~[main/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.3.4.jar:6.3.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:362) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:278) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.1.14.jar:6.1.14]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.1.14.jar:6.1.14]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:164) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:140) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:483) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:344) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:384) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:905) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1741) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1190) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63) ~[tomcat-embed-core-10.1.31.jar:10.1.31]
	at java.base/java.lang.Thread.run(Thread.java:840) ~[na:na]

2024-12-06T16:26:41.552+01:00  WARN 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for ERROR dispatch to '/error' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T16:26:41.588+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : "ERROR" dispatch for POST "/error", parameters={}
2024-12-06T16:26:41.589+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.springframework.boot.autoconfigure.web.servlet.error.BasicErrorController#error(HttpServletRequest)
2024-12-06T16:26:41.632+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T16:26:41.633+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [{timestamp=Fri Dec 06 16:26:41 CET 2024, status=500, error=Internal Server Error, trace=java.lang.Nu (truncated)...]
2024-12-06T16:26:41.689+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Exiting from "ERROR" dispatch, status 500
2024-12-06T16:31:56.836+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T16:31:56.846+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T16:31:56.846+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T16:31:56.900+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T16:31:56.946+01:00  INFO 6840 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T16:31:56.955+01:00 ERROR 6840 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T16:31:56.956+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T16:31:56.957+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T16:31:56.957+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T16:31:56.958+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T16:31:56.958+01:00 DEBUG 6840 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T16:39:52.006+01:00  INFO 6840 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T16:39:52.521+01:00  INFO 6840 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T16:39:52.527+01:00  INFO 6840 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T16:39:52.529+01:00  INFO 6840 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T16:39:52.532+01:00  INFO 6840 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T16:39:59.330+01:00  INFO 8533 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 8533 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T16:39:59.332+01:00  INFO 8533 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T16:39:59.360+01:00  INFO 8533 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T16:39:59.360+01:00  INFO 8533 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T16:39:59.815+01:00  INFO 8533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T16:39:59.866+01:00  INFO 8533 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 46 ms. Found 4 JPA repository interfaces.
2024-12-06T16:40:00.359+01:00  INFO 8533 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T16:40:00.367+01:00  INFO 8533 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T16:40:00.367+01:00  INFO 8533 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T16:40:00.390+01:00  INFO 8533 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T16:40:00.390+01:00  INFO 8533 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1029 ms
2024-12-06T16:40:00.507+01:00  INFO 8533 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T16:40:00.536+01:00  INFO 8533 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T16:40:00.560+01:00  INFO 8533 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T16:40:00.723+01:00  INFO 8533 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T16:40:00.739+01:00  INFO 8533 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T16:40:00.892+01:00  INFO 8533 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@25bf047d
2024-12-06T16:40:00.893+01:00  INFO 8533 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T16:40:00.910+01:00  WARN 8533 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T16:40:01.468+01:00  INFO 8533 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T16:40:01.530+01:00  INFO 8533 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T16:40:01.705+01:00  INFO 8533 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T16:40:02.243+01:00  WARN 8533 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T16:40:02.334+01:00 DEBUG 8533 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T16:40:02.367+01:00 DEBUG 8533 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T16:40:02.435+01:00 DEBUG 8533 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T16:40:02.467+01:00 DEBUG 8533 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T16:40:02.710+01:00  WARN 8533 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T16:40:02.747+01:00  INFO 8533 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T16:40:02.809+01:00  INFO 8533 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T16:40:02.812+01:00  INFO 8533 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T16:40:02.835+01:00  INFO 8533 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#12d1d984:0/SimpleConnection@2f2389e6 [delegate=amqp://guest@127.0.0.1:5672/, localPort=42574]
2024-12-06T16:40:02.863+01:00  INFO 8533 --- [restartedMain] org.example.Main                         : Started Main in 3.855 seconds (process running for 4.191)
2024-12-06T16:40:16.987+01:00  INFO 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T16:40:16.987+01:00  INFO 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T16:40:16.987+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T16:40:16.988+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T16:40:16.988+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T16:40:16.989+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@d8cff44
2024-12-06T16:40:16.989+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1700d8d6
2024-12-06T16:40:16.989+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T16:40:16.990+01:00  INFO 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-12-06T16:40:17.060+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T16:40:17.075+01:00  WARN 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T16:40:17.082+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T16:40:17.083+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T16:40:17.121+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T16:40:17.142+01:00  INFO 8533 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T16:40:17.151+01:00 ERROR 8533 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T16:40:17.151+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T16:40:17.156+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T16:40:17.156+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T16:40:17.159+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T16:40:17.159+01:00 DEBUG 8533 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T16:41:39.229+01:00  INFO 8533 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T16:41:39.870+01:00  INFO 8533 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T16:41:39.876+01:00  INFO 8533 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T16:41:39.878+01:00  INFO 8533 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T16:41:39.881+01:00  INFO 8533 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T16:46:14.505+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 10443 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T16:46:14.507+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T16:46:14.536+01:00  INFO 10443 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T16:46:14.536+01:00  INFO 10443 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T16:46:14.990+01:00  INFO 10443 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T16:46:15.034+01:00  INFO 10443 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 4 JPA repository interfaces.
2024-12-06T16:46:15.538+01:00  INFO 10443 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T16:46:15.546+01:00  INFO 10443 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T16:46:15.547+01:00  INFO 10443 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T16:46:15.572+01:00  INFO 10443 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T16:46:15.572+01:00  INFO 10443 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1036 ms
2024-12-06T16:46:15.697+01:00  INFO 10443 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T16:46:15.724+01:00  INFO 10443 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T16:46:15.749+01:00  INFO 10443 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T16:46:15.909+01:00  INFO 10443 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T16:46:15.925+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T16:46:16.080+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T16:46:16.081+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T16:46:16.098+01:00  WARN 10443 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T16:46:16.754+01:00  INFO 10443 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T16:46:16.828+01:00  INFO 10443 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T16:46:17.021+01:00  INFO 10443 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T16:46:17.602+01:00  WARN 10443 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T16:46:17.722+01:00 DEBUG 10443 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T16:46:17.759+01:00 DEBUG 10443 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T16:46:17.837+01:00 DEBUG 10443 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T16:46:17.866+01:00 DEBUG 10443 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T16:46:18.138+01:00  WARN 10443 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T16:46:18.176+01:00  INFO 10443 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T16:46:18.241+01:00  INFO 10443 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T16:46:18.244+01:00  INFO 10443 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T16:46:18.269+01:00  INFO 10443 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6a18a7f4:0/SimpleConnection@45fd292f [delegate=amqp://guest@127.0.0.1:5672/, localPort=47572]
2024-12-06T16:46:18.298+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : Started Main in 4.059 seconds (process running for 4.395)
2024-12-06T16:46:26.303+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T16:46:26.303+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T16:46:26.304+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T16:46:26.304+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T16:46:26.304+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T16:46:26.305+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@8dd079c
2024-12-06T16:46:26.305+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@59fded6d
2024-12-06T16:46:26.305+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T16:46:26.305+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T16:46:26.313+01:00  WARN 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/1' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T16:46:26.321+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/1", parameters={}
2024-12-06T16:46:26.322+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#read(Long)
2024-12-06T16:46:26.351+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T16:46:26.359+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T16:46:26.359+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T16:46:26.362+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T16:46:26.363+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T16:46:42.552+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T16:46:42.553+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T16:46:42.601+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T16:46:42.604+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T16:46:42.749+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T16:46:42.756+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T16:46:42.850+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T16:46:42.873+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IiLCJ2ZXJzaW9uIjowLCJzdWIiOiJ1c2VybmFtZTEiLCJpYXQiOjE3MzM1MDAwMDIsImV4cCI6MTczMzU4NjQwMn0.W7ICq7ty46FWTLYjjpKA9s4OseONacLDcF0Nk6ITC9o],[]>
	
2024-12-06T16:46:42.878+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T16:46:42.878+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T16:46:42.882+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T16:46:59.573+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T16:46:59.578+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/1", parameters={}
2024-12-06T16:46:59.578+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#read(Long)
2024-12-06T16:46:59.580+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:read
2024-12-06T16:46:59.588+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T16:46:59.589+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T16:46:59.592+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=username1, sector=sector, orders=[], userId=1, version=0],[]>
	
2024-12-06T16:46:59.595+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T16:46:59.596+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=username1, sector=sector, orders=[], userId=1, version=0]]
2024-12-06T16:46:59.597+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T16:49:09.194+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T16:49:09.199+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T16:49:09.199+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T16:49:09.207+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name, sector=sector, orders=null, userId=null]]
2024-12-06T16:49:09.208+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:update
2024-12-06T16:49:09.215+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    update
        customers c1_0 
    set
        name=?,
        sector=? 
    where
        c1_0.customer_id=?
2024-12-06T16:49:09.228+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T16:49:09.229+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T16:49:09.232+01:00  WARN 10443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.e.c.r.CacheInvalidationListener        : Cache #1 -> invalidated successfully!
2024-12-06T16:49:09.261+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name, sector=sector, orders=[], userId=1, version=0],[]>
	
2024-12-06T16:49:09.262+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T16:49:09.262+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name, sector=sector, orders=[], userId=1, version=0]]
2024-12-06T16:49:09.263+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T16:49:25.845+01:00  INFO 10443 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 4 class path changes (0 additions, 4 deletions, 0 modifications)
2024-12-06T16:49:25.850+01:00  INFO 10443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T16:49:26.235+01:00  INFO 10443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T16:49:26.243+01:00  INFO 10443 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T16:49:26.246+01:00  INFO 10443 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T16:49:26.249+01:00  INFO 10443 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T16:49:26.341+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 10443 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T16:49:26.341+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T16:49:26.483+01:00  INFO 10443 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T16:49:26.496+01:00  INFO 10443 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 4 JPA repository interfaces.
2024-12-06T16:49:26.672+01:00  INFO 10443 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T16:49:26.673+01:00  INFO 10443 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T16:49:26.673+01:00  INFO 10443 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T16:49:26.679+01:00  INFO 10443 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T16:49:26.679+01:00  INFO 10443 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 337 ms
2024-12-06T16:49:26.744+01:00  INFO 10443 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T16:49:26.747+01:00  INFO 10443 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T16:49:26.754+01:00  INFO 10443 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T16:49:26.755+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T16:49:26.779+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2e5d1d5c
2024-12-06T16:49:26.779+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T16:49:26.781+01:00  WARN 10443 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T16:49:26.860+01:00  INFO 10443 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T16:49:26.900+01:00  INFO 10443 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T16:49:27.170+01:00  WARN 10443 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T16:49:27.211+01:00 DEBUG 10443 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T16:49:27.239+01:00 DEBUG 10443 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T16:49:27.290+01:00 DEBUG 10443 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T16:49:27.303+01:00 DEBUG 10443 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T16:49:27.497+01:00  WARN 10443 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T16:49:27.526+01:00  INFO 10443 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T16:49:27.554+01:00  INFO 10443 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T16:49:27.555+01:00  INFO 10443 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T16:49:27.556+01:00  INFO 10443 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5ac42ae1:0/SimpleConnection@640938b5 [delegate=amqp://guest@127.0.0.1:5672/, localPort=36876]
2024-12-06T16:49:27.564+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : Started Main in 1.245 seconds (process running for 193.661)
2024-12-06T16:49:27.565+01:00  INFO 10443 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T16:49:28.927+01:00  INFO 10443 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 4 class path changes (4 additions, 0 deletions, 0 modifications)
2024-12-06T16:49:28.929+01:00  INFO 10443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T16:49:29.560+01:00  INFO 10443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T16:49:29.564+01:00  INFO 10443 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T16:49:29.564+01:00  INFO 10443 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T16:49:29.566+01:00  INFO 10443 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T16:49:29.619+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 10443 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T16:49:29.619+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T16:49:29.733+01:00  INFO 10443 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T16:49:29.745+01:00  INFO 10443 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 4 JPA repository interfaces.
2024-12-06T16:49:29.863+01:00  INFO 10443 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T16:49:29.864+01:00  INFO 10443 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T16:49:29.864+01:00  INFO 10443 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T16:49:29.869+01:00  INFO 10443 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T16:49:29.869+01:00  INFO 10443 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 249 ms
2024-12-06T16:49:29.933+01:00  INFO 10443 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T16:49:29.934+01:00  INFO 10443 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T16:49:29.938+01:00  INFO 10443 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T16:49:29.939+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T16:49:29.961+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@1ac0c6f3
2024-12-06T16:49:29.961+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T16:49:29.963+01:00  WARN 10443 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T16:49:30.020+01:00  INFO 10443 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T16:49:30.055+01:00  INFO 10443 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T16:49:30.286+01:00  WARN 10443 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T16:49:30.319+01:00 DEBUG 10443 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T16:49:30.346+01:00 DEBUG 10443 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T16:49:30.389+01:00 DEBUG 10443 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T16:49:30.399+01:00 DEBUG 10443 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T16:49:30.558+01:00  WARN 10443 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T16:49:30.581+01:00  INFO 10443 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T16:49:30.605+01:00  INFO 10443 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T16:49:30.605+01:00  INFO 10443 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T16:49:30.607+01:00  INFO 10443 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1ffbaa31:0/SimpleConnection@52f1d138 [delegate=amqp://guest@127.0.0.1:5672/, localPort=36888]
2024-12-06T16:49:30.613+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : Started Main in 1.011 seconds (process running for 196.711)
2024-12-06T16:49:30.614+01:00  INFO 10443 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T16:54:51.916+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T16:54:51.917+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T16:54:51.917+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T16:54:51.917+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T16:54:51.917+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T16:54:51.917+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5134f25f
2024-12-06T16:54:51.918+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@41fcf091
2024-12-06T16:54:51.918+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T16:54:51.918+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T16:54:51.925+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T16:54:51.929+01:00  WARN 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T16:54:51.930+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T16:54:51.930+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T16:54:51.936+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T16:54:51.938+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T16:54:51.947+01:00 ERROR 10443 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T16:54:51.948+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T16:54:51.948+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T16:54:51.948+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T16:54:51.949+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T16:54:51.950+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T16:56:17.550+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T16:56:17.555+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T16:56:17.555+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T16:56:17.559+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name, sector=sector, orders=null, userId=null]]
2024-12-06T16:56:17.560+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:update
2024-12-06T16:56:17.562+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    update
        customers c1_0 
    set
        name=?,
        sector=? 
    where
        c1_0.customer_id=?
2024-12-06T16:56:17.567+01:00  WARN 10443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.e.c.r.CacheInvalidationListener        : Cache #1 -> invalidated successfully!
2024-12-06T16:56:17.567+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T16:56:17.569+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T16:56:17.588+01:00  INFO 10443 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name, sector=sector, orders=[], userId=1, version=0],[]>
	
2024-12-06T16:56:17.591+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T16:56:17.591+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name, sector=sector, orders=[], userId=1, version=0]]
2024-12-06T16:56:17.592+01:00 DEBUG 10443 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T17:02:26.028+01:00  INFO 10443 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 4 class path changes (0 additions, 0 deletions, 4 modifications)
2024-12-06T17:02:26.030+01:00  INFO 10443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:02:26.603+01:00  INFO 10443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:02:26.607+01:00  INFO 10443 --- [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:02:26.608+01:00  INFO 10443 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:02:26.614+01:00  INFO 10443 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:02:26.687+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 10443 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:02:26.688+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:02:26.814+01:00  INFO 10443 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:02:26.824+01:00  INFO 10443 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T17:02:26.953+01:00  INFO 10443 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:02:26.953+01:00  INFO 10443 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:02:26.954+01:00  INFO 10443 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:02:26.959+01:00  INFO 10443 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:02:26.959+01:00  INFO 10443 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 270 ms
2024-12-06T17:02:27.021+01:00  INFO 10443 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:02:27.023+01:00  INFO 10443 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:02:27.028+01:00  INFO 10443 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:02:27.028+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:02:27.051+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@55d4ab04
2024-12-06T17:02:27.051+01:00  INFO 10443 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:02:27.053+01:00  WARN 10443 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:02:27.110+01:00  INFO 10443 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:02:27.144+01:00  INFO 10443 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:02:27.411+01:00  WARN 10443 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:02:27.449+01:00 DEBUG 10443 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:02:27.476+01:00 DEBUG 10443 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:02:27.520+01:00 DEBUG 10443 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:02:27.530+01:00 DEBUG 10443 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:02:27.700+01:00  WARN 10443 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:02:27.724+01:00  INFO 10443 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:02:27.754+01:00  INFO 10443 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:02:27.755+01:00  INFO 10443 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:02:27.756+01:00  INFO 10443 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#67e517b7:0/SimpleConnection@2331df52 [delegate=amqp://guest@127.0.0.1:5672/, localPort=34824]
2024-12-06T17:02:27.763+01:00  INFO 10443 --- [restartedMain] org.example.Main                         : Started Main in 1.098 seconds (process running for 973.86)
2024-12-06T17:02:27.763+01:00  INFO 10443 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T17:03:04.658+01:00  INFO 10443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:03:04.772+01:00  INFO 10443 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:03:04.775+01:00  INFO 10443 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:03:04.775+01:00  INFO 10443 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:03:04.776+01:00  INFO 10443 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:03:07.861+01:00  INFO 16014 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 16014 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:03:07.863+01:00  INFO 16014 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:03:07.885+01:00  INFO 16014 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T17:03:07.886+01:00  INFO 16014 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T17:03:08.368+01:00  INFO 16014 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:03:08.428+01:00  INFO 16014 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 4 JPA repository interfaces.
2024-12-06T17:03:09.032+01:00  INFO 16014 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:03:09.045+01:00  INFO 16014 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:03:09.045+01:00  INFO 16014 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:03:09.076+01:00  INFO 16014 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:03:09.076+01:00  INFO 16014 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1190 ms
2024-12-06T17:03:09.212+01:00  INFO 16014 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:03:09.249+01:00  INFO 16014 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T17:03:09.275+01:00  INFO 16014 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:03:09.449+01:00  INFO 16014 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:03:09.468+01:00  INFO 16014 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:03:09.636+01:00  INFO 16014 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@540a7fea
2024-12-06T17:03:09.638+01:00  INFO 16014 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:03:09.660+01:00  WARN 16014 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:03:10.298+01:00  INFO 16014 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:03:10.365+01:00  INFO 16014 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:03:10.561+01:00  INFO 16014 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T17:03:11.188+01:00  WARN 16014 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:03:11.288+01:00 DEBUG 16014 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:03:11.323+01:00 DEBUG 16014 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:03:11.423+01:00 DEBUG 16014 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:03:11.466+01:00 DEBUG 16014 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:03:11.835+01:00  WARN 16014 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:03:11.883+01:00  INFO 16014 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:03:11.958+01:00  INFO 16014 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:03:11.961+01:00  INFO 16014 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:03:11.986+01:00  INFO 16014 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#12d1d984:0/SimpleConnection@75b6812e [delegate=amqp://guest@127.0.0.1:5672/, localPort=51704]
2024-12-06T17:03:12.023+01:00  INFO 16014 --- [restartedMain] org.example.Main                         : Started Main in 4.392 seconds (process running for 4.696)
2024-12-06T17:03:12.774+01:00  INFO 16014 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:03:13.016+01:00  INFO 16014 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:03:13.024+01:00  INFO 16014 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:03:13.026+01:00  INFO 16014 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:03:13.028+01:00  INFO 16014 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:03:15.259+01:00  INFO 16447 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 16447 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:03:15.260+01:00  INFO 16447 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:03:15.286+01:00  INFO 16447 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T17:03:15.286+01:00  INFO 16447 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T17:03:15.697+01:00  INFO 16447 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:03:15.743+01:00  INFO 16447 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T17:03:16.213+01:00  INFO 16447 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:03:16.221+01:00  INFO 16447 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:03:16.221+01:00  INFO 16447 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:03:16.244+01:00  INFO 16447 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:03:16.244+01:00  INFO 16447 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 958 ms
2024-12-06T17:03:16.361+01:00  INFO 16447 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:03:16.390+01:00  INFO 16447 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T17:03:16.413+01:00  INFO 16447 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:03:16.570+01:00  INFO 16447 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:03:16.585+01:00  INFO 16447 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:03:16.732+01:00  INFO 16447 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@1b2a8cf8
2024-12-06T17:03:16.733+01:00  INFO 16447 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:03:16.750+01:00  WARN 16447 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:03:17.317+01:00  INFO 16447 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:03:17.380+01:00  INFO 16447 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:03:17.562+01:00  INFO 16447 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T17:03:18.110+01:00  WARN 16447 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:03:18.202+01:00 DEBUG 16447 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:03:18.236+01:00 DEBUG 16447 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:03:18.306+01:00 DEBUG 16447 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:03:18.335+01:00 DEBUG 16447 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:03:18.588+01:00  WARN 16447 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:03:18.626+01:00  INFO 16447 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:03:18.686+01:00  INFO 16447 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:03:18.688+01:00  INFO 16447 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:03:18.711+01:00  INFO 16447 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#21984400:0/SimpleConnection@5e0c23b3 [delegate=amqp://guest@127.0.0.1:5672/, localPort=56022]
2024-12-06T17:03:18.740+01:00  INFO 16447 --- [restartedMain] org.example.Main                         : Started Main in 3.717 seconds (process running for 4.017)
2024-12-06T17:03:29.325+01:00  INFO 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T17:03:29.325+01:00  INFO 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T17:03:29.326+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T17:03:29.326+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T17:03:29.326+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T17:03:29.327+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@49d96b30
2024-12-06T17:03:29.327+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@471d4022
2024-12-06T17:03:29.327+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T17:03:29.327+01:00  INFO 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T17:03:29.395+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:03:29.412+01:00  WARN 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/1' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T17:03:29.421+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T17:03:29.422+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T17:03:29.466+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name, sector=sector, orders=null, userId=null]]
2024-12-06T17:03:29.486+01:00  INFO 16447 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:update
2024-12-06T17:03:29.517+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T17:03:29.519+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:03:29.539+01:00  WARN 16447 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.e.c.r.CacheInvalidationListener        : Cache #1 -> invalidated successfully!
2024-12-06T17:03:29.541+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T17:03:29.544+01:00  INFO 16447 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name, sector=sector, orders=[], userId=1, version=0],[]>
	
2024-12-06T17:03:29.555+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T17:03:29.556+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name, sector=sector, orders=[], userId=1, version=0]]
2024-12-06T17:03:29.565+01:00 DEBUG 16447 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T17:11:09.658+01:00  INFO 16447 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 48 class path changes (0 additions, 48 deletions, 0 modifications)
2024-12-06T17:11:09.662+01:00  INFO 16447 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:11:10.593+01:00  INFO 16447 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:11:10.601+01:00  INFO 16447 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:11:10.603+01:00  INFO 16447 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:11:10.606+01:00  INFO 16447 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:11:10.665+01:00  INFO 16447 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 16447 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:11:10.666+01:00  INFO 16447 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:11:10.804+01:00  INFO 16447 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:11:10.816+01:00  INFO 16447 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 12 ms. Found 4 JPA repository interfaces.
2024-12-06T17:11:10.962+01:00  INFO 16447 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:11:10.963+01:00  INFO 16447 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:11:10.963+01:00  INFO 16447 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:11:10.968+01:00  INFO 16447 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:11:10.968+01:00  INFO 16447 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 301 ms
2024-12-06T17:11:11.029+01:00  INFO 16447 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:11:11.031+01:00  INFO 16447 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:11:11.037+01:00  INFO 16447 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:11:11.037+01:00  INFO 16447 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:11:11.060+01:00  INFO 16447 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@44d9238d
2024-12-06T17:11:11.060+01:00  INFO 16447 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:11:11.062+01:00  WARN 16447 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:11:11.123+01:00  INFO 16447 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:11:11.160+01:00  INFO 16447 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:11:11.400+01:00  WARN 16447 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:11:11.436+01:00 DEBUG 16447 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:11:11.462+01:00 DEBUG 16447 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:11:11.508+01:00 DEBUG 16447 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:11:11.519+01:00 DEBUG 16447 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:11:11.688+01:00  WARN 16447 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:11:11.713+01:00  INFO 16447 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:11:11.739+01:00  INFO 16447 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:11:11.740+01:00  INFO 16447 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:11:11.741+01:00  INFO 16447 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52e6fb5e:0/SimpleConnection@b0a2331 [delegate=amqp://guest@127.0.0.1:5672/, localPort=48584]
2024-12-06T17:11:11.747+01:00  INFO 16447 --- [restartedMain] org.example.Main                         : Started Main in 1.101 seconds (process running for 477.024)
2024-12-06T17:11:11.749+01:00  INFO 16447 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T17:11:13.115+01:00  INFO 16447 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 48 class path changes (48 additions, 0 deletions, 0 modifications)
2024-12-06T17:11:13.116+01:00  INFO 16447 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:11:13.744+01:00  INFO 16447 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:11:13.748+01:00  INFO 16447 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:11:13.748+01:00  INFO 16447 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:11:13.749+01:00  INFO 16447 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:11:13.802+01:00  INFO 16447 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 16447 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:11:13.802+01:00  INFO 16447 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:11:13.901+01:00  INFO 16447 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:11:13.911+01:00  INFO 16447 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T17:11:14.029+01:00  INFO 16447 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:11:14.030+01:00  INFO 16447 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:11:14.030+01:00  INFO 16447 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:11:14.035+01:00  INFO 16447 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:11:14.035+01:00  INFO 16447 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 232 ms
2024-12-06T17:11:14.096+01:00  INFO 16447 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:11:14.098+01:00  INFO 16447 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:11:14.103+01:00  INFO 16447 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:11:14.104+01:00  INFO 16447 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:11:14.126+01:00  INFO 16447 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@64fcb20c
2024-12-06T17:11:14.126+01:00  INFO 16447 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:11:14.128+01:00  WARN 16447 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:11:14.187+01:00  INFO 16447 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:11:14.221+01:00  INFO 16447 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:11:14.458+01:00  WARN 16447 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:11:14.493+01:00 DEBUG 16447 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:11:14.520+01:00 DEBUG 16447 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:11:14.566+01:00 DEBUG 16447 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:11:14.577+01:00 DEBUG 16447 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:11:14.742+01:00  WARN 16447 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:11:14.767+01:00  INFO 16447 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:11:14.792+01:00  INFO 16447 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:11:14.793+01:00  INFO 16447 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:11:14.795+01:00  INFO 16447 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5e35114:0/SimpleConnection@2a8f3400 [delegate=amqp://guest@127.0.0.1:5672/, localPort=43492]
2024-12-06T17:11:14.801+01:00  INFO 16447 --- [restartedMain] org.example.Main                         : Started Main in 1.014 seconds (process running for 480.077)
2024-12-06T17:11:14.802+01:00  INFO 16447 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T17:11:18.037+01:00  INFO 16447 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:11:18.798+01:00  INFO 16447 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:11:18.800+01:00  INFO 16447 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:11:18.801+01:00  INFO 16447 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:11:18.802+01:00  INFO 16447 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:11:20.640+01:00  INFO 18797 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 18797 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:11:20.642+01:00  INFO 18797 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:11:20.667+01:00  INFO 18797 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T17:11:20.667+01:00  INFO 18797 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T17:11:21.083+01:00  INFO 18797 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:11:21.129+01:00  INFO 18797 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T17:11:21.620+01:00  INFO 18797 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:11:21.628+01:00  INFO 18797 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:11:21.629+01:00  INFO 18797 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:11:21.652+01:00  INFO 18797 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:11:21.652+01:00  INFO 18797 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 985 ms
2024-12-06T17:11:21.772+01:00  INFO 18797 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:11:21.800+01:00  INFO 18797 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T17:11:21.826+01:00  INFO 18797 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:11:21.986+01:00  INFO 18797 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:11:22.002+01:00  INFO 18797 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:11:22.161+01:00  INFO 18797 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@24568923
2024-12-06T17:11:22.162+01:00  INFO 18797 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:11:22.184+01:00  WARN 18797 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:11:22.840+01:00  INFO 18797 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:11:22.907+01:00  INFO 18797 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:11:23.112+01:00  INFO 18797 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T17:11:23.725+01:00  WARN 18797 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:11:23.820+01:00 DEBUG 18797 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:11:23.856+01:00 DEBUG 18797 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:11:23.937+01:00 DEBUG 18797 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:11:23.966+01:00 DEBUG 18797 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:11:24.247+01:00  WARN 18797 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:11:24.288+01:00  INFO 18797 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:11:24.356+01:00  INFO 18797 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:11:24.358+01:00  INFO 18797 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:11:24.382+01:00  INFO 18797 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4c60490d:0/SimpleConnection@5dee0bd0 [delegate=amqp://guest@127.0.0.1:5672/, localPort=50482]
2024-12-06T17:11:24.411+01:00  INFO 18797 --- [restartedMain] org.example.Main                         : Started Main in 4.002 seconds (process running for 4.321)
2024-12-06T17:11:37.712+01:00  INFO 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T17:11:37.712+01:00  INFO 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T17:11:37.713+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T17:11:37.713+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T17:11:37.713+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T17:11:37.714+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@5afaba64
2024-12-06T17:11:37.714+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@3fa4ebec
2024-12-06T17:11:37.714+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T17:11:37.715+01:00  INFO 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T17:11:37.785+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:11:37.799+01:00  WARN 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/1' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T17:11:37.807+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T17:11:37.808+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T17:11:37.848+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name, sector=sector, orders=null, userId=null]]
2024-12-06T17:11:37.868+01:00  INFO 18797 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:update
2024-12-06T17:11:37.898+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T17:11:37.900+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:11:37.917+01:00  WARN 18797 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.e.c.r.CacheInvalidationListener        : Cache #1 -> invalidated successfully!
2024-12-06T17:11:37.919+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T17:11:37.922+01:00  INFO 18797 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name, sector=sector, orders=[], userId=1, version=0],[]>
	
2024-12-06T17:11:37.933+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T17:11:37.934+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name, sector=sector, orders=[], userId=1, version=0]]
2024-12-06T17:11:37.942+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T17:12:01.958+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:12:01.963+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T17:12:01.963+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T17:12:01.964+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T17:12:01.965+01:00  INFO 18797 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:update
2024-12-06T17:12:01.966+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T17:12:01.968+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:12:01.970+01:00  WARN 18797 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.e.c.r.CacheInvalidationListener        : Cache #1 -> invalidated successfully!
2024-12-06T17:12:01.977+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    update
        customers 
    set
        name=?,
        sector=?,
        user_id=?,
        version=? 
    where
        customer_id=?
2024-12-06T17:12:01.981+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T17:12:01.994+01:00  INFO 18797 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=0],[]>
	
2024-12-06T17:12:01.995+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T17:12:01.995+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=0]]
2024-12-06T17:12:01.996+01:00 DEBUG 18797 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T17:13:43.794+01:00  INFO 18797 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:13:43.984+01:00  INFO 18797 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:13:43.991+01:00  INFO 18797 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:13:43.993+01:00  INFO 18797 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:13:43.996+01:00  INFO 18797 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:13:46.241+01:00  INFO 20092 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 20092 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:13:46.243+01:00  INFO 20092 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:13:46.267+01:00  INFO 20092 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T17:13:46.268+01:00  INFO 20092 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T17:13:46.787+01:00  INFO 20092 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:13:46.840+01:00  INFO 20092 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2024-12-06T17:13:47.387+01:00  INFO 20092 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:13:47.395+01:00  INFO 20092 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:13:47.396+01:00  INFO 20092 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:13:47.422+01:00  INFO 20092 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:13:47.423+01:00  INFO 20092 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1155 ms
2024-12-06T17:13:47.543+01:00  INFO 20092 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:13:47.572+01:00  INFO 20092 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T17:13:47.596+01:00  INFO 20092 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:13:47.773+01:00  INFO 20092 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:13:47.790+01:00  INFO 20092 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:13:47.950+01:00  INFO 20092 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@68a37217
2024-12-06T17:13:47.951+01:00  INFO 20092 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:13:47.970+01:00  WARN 20092 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:13:48.554+01:00  INFO 20092 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:13:48.619+01:00  INFO 20092 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:13:48.803+01:00  INFO 20092 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T17:13:49.373+01:00  WARN 20092 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:13:49.471+01:00 DEBUG 20092 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:13:49.507+01:00 DEBUG 20092 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:13:49.584+01:00 DEBUG 20092 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:13:49.612+01:00 DEBUG 20092 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:13:49.882+01:00  WARN 20092 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:13:49.921+01:00  INFO 20092 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:13:49.983+01:00  INFO 20092 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:13:49.985+01:00  INFO 20092 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:13:50.009+01:00  INFO 20092 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6f0330e9:0/SimpleConnection@3f574536 [delegate=amqp://guest@127.0.0.1:5672/, localPort=52356]
2024-12-06T17:13:50.038+01:00  INFO 20092 --- [restartedMain] org.example.Main                         : Started Main in 4.037 seconds (process running for 4.326)
2024-12-06T17:13:55.549+01:00  INFO 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T17:13:55.549+01:00  INFO 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T17:13:55.550+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T17:13:55.550+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T17:13:55.550+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T17:13:55.551+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@8ed7dee
2024-12-06T17:13:55.551+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7e580339
2024-12-06T17:13:55.551+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T17:13:55.551+01:00  INFO 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T17:13:55.615+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:13:55.629+01:00  WARN 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/1' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T17:13:55.637+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T17:13:55.638+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T17:13:55.680+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T17:13:55.699+01:00  INFO 20092 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:update
2024-12-06T17:13:55.722+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    update
        customers c1_0 
    set
        name=?,
        sector=? 
    where
        c1_0.customer_id=?
2024-12-06T17:13:55.736+01:00  WARN 20092 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.e.c.r.CacheInvalidationListener        : Cache #1 -> invalidated successfully!
2024-12-06T17:13:55.743+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T17:13:55.745+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:13:55.771+01:00  INFO 20092 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=0],[]>
	
2024-12-06T17:13:55.782+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T17:13:55.783+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=0]]
2024-12-06T17:13:55.792+01:00 DEBUG 20092 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T17:15:45.461+01:00  INFO 20092 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:15:45.753+01:00  INFO 20092 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:15:45.760+01:00  INFO 20092 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:15:45.762+01:00  INFO 20092 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:15:45.765+01:00  INFO 20092 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:15:49.355+01:00  INFO 20905 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 20905 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:15:49.357+01:00  INFO 20905 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:15:49.384+01:00  INFO 20905 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T17:15:49.384+01:00  INFO 20905 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T17:15:49.905+01:00  INFO 20905 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:15:49.963+01:00  INFO 20905 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 53 ms. Found 4 JPA repository interfaces.
2024-12-06T17:15:50.470+01:00  INFO 20905 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:15:50.478+01:00  INFO 20905 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:15:50.478+01:00  INFO 20905 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:15:50.502+01:00  INFO 20905 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:15:50.503+01:00  INFO 20905 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1119 ms
2024-12-06T17:15:50.621+01:00  INFO 20905 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:15:50.649+01:00  INFO 20905 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T17:15:50.672+01:00  INFO 20905 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:15:50.843+01:00  INFO 20905 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:15:50.860+01:00  INFO 20905 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:15:51.018+01:00  INFO 20905 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T17:15:51.019+01:00  INFO 20905 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:15:51.037+01:00  WARN 20905 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:15:51.615+01:00  INFO 20905 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:15:51.677+01:00  INFO 20905 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:15:51.852+01:00  INFO 20905 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T17:15:52.399+01:00  WARN 20905 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:15:52.492+01:00 DEBUG 20905 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:15:52.526+01:00 DEBUG 20905 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:15:52.599+01:00 DEBUG 20905 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:15:52.627+01:00 DEBUG 20905 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:15:52.883+01:00  WARN 20905 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:15:52.932+01:00  INFO 20905 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:15:52.998+01:00  INFO 20905 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:15:53.001+01:00  INFO 20905 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:15:53.026+01:00  INFO 20905 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#51972dfa:0/SimpleConnection@111b9418 [delegate=amqp://guest@127.0.0.1:5672/, localPort=56540]
2024-12-06T17:15:53.058+01:00  INFO 20905 --- [restartedMain] org.example.Main                         : Started Main in 3.993 seconds (process running for 4.28)
2024-12-06T17:15:56.122+01:00  INFO 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T17:15:56.122+01:00  INFO 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T17:15:56.122+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T17:15:56.122+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T17:15:56.122+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T17:15:56.123+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@8dd079c
2024-12-06T17:15:56.123+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@59fded6d
2024-12-06T17:15:56.123+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T17:15:56.123+01:00  INFO 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T17:15:56.192+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:15:56.206+01:00  WARN 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/1' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T17:15:56.215+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T17:15:56.216+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T17:15:56.258+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T17:15:56.278+01:00  INFO 20905 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:update
2024-12-06T17:15:56.302+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    update
        customers c1_0 
    set
        name=?,
        sector=? 
    where
        c1_0.customer_id=?
2024-12-06T17:15:56.314+01:00  WARN 20905 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.e.c.r.CacheInvalidationListener        : Cache #1 -> invalidated successfully!
2024-12-06T17:15:56.321+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T17:15:56.323+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:15:56.355+01:00  INFO 20905 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=0],[]>
	
2024-12-06T17:15:56.367+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T17:15:56.368+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=0]]
2024-12-06T17:15:56.376+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T17:18:22.855+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:18:22.862+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/1", parameters={}
2024-12-06T17:18:22.863+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#read(Long)
2024-12-06T17:18:22.865+01:00  INFO 20905 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:read
2024-12-06T17:18:22.865+01:00  INFO 20905 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=0],[]>
	
2024-12-06T17:18:22.866+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T17:18:22.866+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=0]]
2024-12-06T17:18:22.867+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T17:18:29.273+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:18:29.277+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T17:18:29.277+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T17:18:29.279+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T17:18:29.280+01:00  INFO 20905 --- [http-nio-0.0.0.0-8080-exec-4] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T17:18:29.289+01:00 ERROR 20905 --- [http-nio-0.0.0.0-8080-exec-4] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T17:18:29.290+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T17:18:29.291+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T17:18:29.291+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T17:18:29.292+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T17:18:29.293+01:00 DEBUG 20905 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T17:20:34.418+01:00  INFO 20905 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:20:35.349+01:00  INFO 20905 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:20:35.357+01:00  INFO 20905 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:20:35.359+01:00  INFO 20905 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:20:35.361+01:00  INFO 20905 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:20:38.601+01:00  INFO 22454 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 22454 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:20:38.602+01:00  INFO 22454 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:20:38.627+01:00  INFO 22454 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T17:20:38.627+01:00  INFO 22454 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T17:20:39.051+01:00  INFO 22454 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:20:39.098+01:00  INFO 22454 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T17:20:39.582+01:00  INFO 22454 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:20:39.590+01:00  INFO 22454 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:20:39.590+01:00  INFO 22454 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:20:39.613+01:00  INFO 22454 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:20:39.614+01:00  INFO 22454 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 985 ms
2024-12-06T17:20:39.734+01:00  INFO 22454 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:20:39.762+01:00  INFO 22454 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T17:20:39.788+01:00  INFO 22454 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:20:39.953+01:00  INFO 22454 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:20:39.969+01:00  INFO 22454 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:20:40.126+01:00  INFO 22454 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@2a6edea4
2024-12-06T17:20:40.127+01:00  INFO 22454 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:20:40.144+01:00  WARN 22454 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:20:40.713+01:00  INFO 22454 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:20:40.775+01:00  INFO 22454 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:20:40.953+01:00  INFO 22454 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T17:20:41.511+01:00  WARN 22454 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:20:41.605+01:00 DEBUG 22454 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:20:41.640+01:00 DEBUG 22454 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:20:41.719+01:00 DEBUG 22454 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:20:41.749+01:00 DEBUG 22454 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:20:42.027+01:00  WARN 22454 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:20:42.073+01:00  INFO 22454 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:20:42.142+01:00  INFO 22454 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:20:42.145+01:00  INFO 22454 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:20:42.174+01:00  INFO 22454 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#6a18a7f4:0/SimpleConnection@4fea718 [delegate=amqp://guest@127.0.0.1:5672/, localPort=49334]
2024-12-06T17:20:42.213+01:00  INFO 22454 --- [restartedMain] org.example.Main                         : Started Main in 3.845 seconds (process running for 4.155)
2024-12-06T17:21:08.484+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T17:21:08.484+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T17:21:08.485+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T17:21:08.485+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T17:21:08.485+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T17:21:08.486+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@770d8383
2024-12-06T17:21:08.486+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@e2928f5
2024-12-06T17:21:08.486+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T17:21:08.486+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T17:21:08.559+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:21:08.575+01:00  WARN 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/1' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T17:21:08.583+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T17:21:08.584+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T17:21:08.628+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T17:21:08.650+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:update
2024-12-06T17:21:08.675+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    update
        customers c1_0 
    set
        name=?,
        sector=?,
        version=(c1_0.version+1) 
    where
        c1_0.customer_id=?
2024-12-06T17:21:08.688+01:00  WARN 22454 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.e.c.r.CacheInvalidationListener        : Cache #1 -> invalidated successfully!
2024-12-06T17:21:08.695+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T17:21:08.697+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:21:08.725+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=1],[]>
	
2024-12-06T17:21:08.741+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T17:21:08.742+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=1]]
2024-12-06T17:21:08.753+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T17:21:21.136+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:21:21.140+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T17:21:21.140+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T17:21:21.142+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T17:21:21.144+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T17:21:21.145+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T17:21:21.145+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T17:21:21.146+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T17:21:21.147+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T17:22:55.615+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:22:55.619+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T17:22:55.619+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T17:22:55.620+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T17:22:55.620+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T17:22:55.621+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T17:22:55.621+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T17:22:55.621+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T17:22:55.621+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T17:23:33.517+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T17:23:33.517+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T17:23:33.520+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T17:23:33.520+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T17:23:33.605+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T17:23:33.608+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T17:23:33.684+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T17:23:33.695+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IxIiwidmVyc2lvbiI6MSwic3ViIjoidXNlcm5hbWUxIiwiaWF0IjoxNzMzNTAyMjEzLCJleHAiOjE3MzM1ODg2MTN9.L0rXjGdFhvNKPqgNSpeCDN1f5sGOnZiTEnOK06-URJw],[]>
	
2024-12-06T17:23:33.695+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T17:23:33.696+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T17:23:33.696+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T17:23:47.729+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:23:47.738+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T17:23:47.738+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T17:23:47.739+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T17:23:47.739+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T17:23:47.746+01:00 ERROR 22454 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T17:23:47.747+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T17:23:47.747+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T17:23:47.747+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T17:23:47.748+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T17:23:47.748+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T17:28:09.489+01:00  INFO 22454 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2024-12-06T17:28:09.492+01:00  INFO 22454 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:28:09.743+01:00  INFO 22454 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:28:09.751+01:00  INFO 22454 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:28:09.753+01:00  INFO 22454 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:28:09.756+01:00  INFO 22454 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:28:09.813+01:00  INFO 22454 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 22454 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:28:09.814+01:00  INFO 22454 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:28:09.933+01:00  INFO 22454 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:28:09.944+01:00  INFO 22454 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 4 JPA repository interfaces.
2024-12-06T17:28:10.076+01:00  INFO 22454 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:28:10.077+01:00  INFO 22454 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:28:10.077+01:00  INFO 22454 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:28:10.082+01:00  INFO 22454 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:28:10.082+01:00  INFO 22454 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 267 ms
2024-12-06T17:28:10.148+01:00  INFO 22454 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:28:10.150+01:00  INFO 22454 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:28:10.156+01:00  INFO 22454 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:28:10.157+01:00  INFO 22454 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:28:10.180+01:00  INFO 22454 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@214bf761
2024-12-06T17:28:10.180+01:00  INFO 22454 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:28:10.182+01:00  WARN 22454 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:28:10.245+01:00  INFO 22454 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:28:10.282+01:00  INFO 22454 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:28:10.538+01:00  WARN 22454 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:28:10.573+01:00 DEBUG 22454 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:28:10.598+01:00 DEBUG 22454 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:28:10.643+01:00 DEBUG 22454 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:28:10.654+01:00 DEBUG 22454 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:28:10.826+01:00  WARN 22454 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:28:10.852+01:00  INFO 22454 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:28:10.877+01:00  INFO 22454 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:28:10.877+01:00  INFO 22454 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:28:10.879+01:00  INFO 22454 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2193f59e:0/SimpleConnection@25df7216 [delegate=amqp://guest@127.0.0.1:5672/, localPort=60472]
2024-12-06T17:28:10.885+01:00  INFO 22454 --- [restartedMain] org.example.Main                         : Started Main in 1.089 seconds (process running for 452.828)
2024-12-06T17:28:10.886+01:00  INFO 22454 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T17:29:46.435+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T17:29:46.435+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T17:29:46.436+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T17:29:46.436+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T17:29:46.436+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T17:29:46.437+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@421f95ee
2024-12-06T17:29:46.437+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6c027dc0
2024-12-06T17:29:46.437+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T17:29:46.437+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T17:29:46.441+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:29:46.445+01:00  WARN 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/1' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T17:29:46.446+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T17:29:46.446+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T17:29:46.451+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T17:29:46.453+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T17:29:46.454+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T17:29:46.454+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T17:29:46.454+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T17:29:46.454+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T17:30:06.980+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:30:06.984+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T17:30:06.984+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T17:30:06.985+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T17:30:06.985+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T17:30:06.986+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T17:30:06.986+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T17:30:06.986+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T17:30:06.987+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T17:30:21.806+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:30:21.810+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T17:30:21.810+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T17:30:21.811+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T17:30:21.812+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:update
2024-12-06T17:30:21.813+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    update
        customers c1_0 
    set
        name=?,
        sector=?,
        version=(c1_0.version+1) 
    where
        c1_0.customer_id=?
2024-12-06T17:30:21.816+01:00  WARN 22454 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.e.c.r.CacheInvalidationListener        : Cache #1 -> invalidated successfully!
2024-12-06T17:30:21.817+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T17:30:21.819+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-3] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:30:21.832+01:00  INFO 22454 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=2],[]>
	
2024-12-06T17:30:21.835+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T17:30:21.835+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=2]]
2024-12-06T17:30:21.837+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T17:30:23.481+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-4] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T17:30:23.485+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T17:30:23.486+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T17:30:23.486+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-4] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T17:30:23.487+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T17:30:23.487+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T17:30:23.487+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T17:30:23.488+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T17:30:23.488+01:00 DEBUG 22454 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T17:31:41.534+01:00  INFO 22454 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2024-12-06T17:31:41.536+01:00  INFO 22454 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:31:41.826+01:00  INFO 22454 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:31:41.830+01:00  INFO 22454 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:31:41.830+01:00  INFO 22454 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:31:41.831+01:00  INFO 22454 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:31:41.888+01:00  INFO 22454 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 22454 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:31:41.888+01:00  INFO 22454 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:31:42.000+01:00  INFO 22454 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:31:42.010+01:00  INFO 22454 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T17:31:42.138+01:00  INFO 22454 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:31:42.139+01:00  INFO 22454 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:31:42.139+01:00  INFO 22454 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:31:42.144+01:00  INFO 22454 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:31:42.144+01:00  INFO 22454 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 255 ms
2024-12-06T17:31:42.205+01:00  INFO 22454 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:31:42.207+01:00  INFO 22454 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:31:42.211+01:00  INFO 22454 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:31:42.212+01:00  INFO 22454 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:31:42.234+01:00  INFO 22454 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@3987f3ee
2024-12-06T17:31:42.234+01:00  INFO 22454 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:31:42.236+01:00  WARN 22454 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:31:42.290+01:00  INFO 22454 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:31:42.324+01:00  INFO 22454 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:31:42.559+01:00  WARN 22454 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:31:42.594+01:00 DEBUG 22454 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:31:42.618+01:00 DEBUG 22454 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:31:42.662+01:00 DEBUG 22454 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:31:42.673+01:00 DEBUG 22454 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:31:42.841+01:00  WARN 22454 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:31:42.866+01:00  INFO 22454 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:31:42.890+01:00  INFO 22454 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:31:42.890+01:00  INFO 22454 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:31:42.892+01:00  INFO 22454 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3a7bba11:0/SimpleConnection@167e9b2e [delegate=amqp://guest@127.0.0.1:5672/, localPort=57210]
2024-12-06T17:31:42.898+01:00  INFO 22454 --- [restartedMain] org.example.Main                         : Started Main in 1.027 seconds (process running for 664.841)
2024-12-06T17:31:42.899+01:00  INFO 22454 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T17:43:33.570+01:00  INFO 22454 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:43:33.978+01:00  INFO 22454 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:43:33.981+01:00  INFO 22454 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:43:33.981+01:00  INFO 22454 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:43:33.983+01:00  INFO 22454 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:55:02.486+01:00  INFO 28414 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 28414 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:55:02.488+01:00  INFO 28414 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:55:02.532+01:00  INFO 28414 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T17:55:02.532+01:00  INFO 28414 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T17:55:03.007+01:00  INFO 28414 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:55:03.060+01:00  INFO 28414 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2024-12-06T17:55:03.548+01:00  INFO 28414 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:55:03.556+01:00  INFO 28414 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:55:03.556+01:00  INFO 28414 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:55:03.582+01:00  INFO 28414 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:55:03.582+01:00  INFO 28414 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1049 ms
2024-12-06T17:55:03.706+01:00  INFO 28414 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:55:03.735+01:00  INFO 28414 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T17:55:03.761+01:00  INFO 28414 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:55:03.950+01:00  INFO 28414 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:55:03.967+01:00  INFO 28414 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:55:04.123+01:00  INFO 28414 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@3df64cf5
2024-12-06T17:55:04.124+01:00  INFO 28414 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:55:04.142+01:00  WARN 28414 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:55:04.717+01:00  INFO 28414 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:55:04.824+01:00  INFO 28414 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:55:05.086+01:00  INFO 28414 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T17:55:05.632+01:00  WARN 28414 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:55:05.724+01:00 DEBUG 28414 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:55:05.756+01:00 DEBUG 28414 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:55:05.825+01:00 DEBUG 28414 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:55:05.854+01:00 DEBUG 28414 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:55:06.113+01:00  WARN 28414 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:55:06.155+01:00  INFO 28414 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:55:06.217+01:00  INFO 28414 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:55:06.220+01:00  INFO 28414 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:55:06.244+01:00  INFO 28414 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#12985ff0:0/SimpleConnection@7f942517 [delegate=amqp://guest@127.0.0.1:5672/, localPort=52176]
2024-12-06T17:55:06.274+01:00  INFO 28414 --- [restartedMain] org.example.Main                         : Started Main in 4.089 seconds (process running for 4.402)
2024-12-06T17:55:31.138+01:00  INFO 28414 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:55:31.270+01:00  INFO 28414 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:55:31.277+01:00  INFO 28414 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:55:31.279+01:00  INFO 28414 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:55:31.282+01:00  INFO 28414 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T17:55:33.083+01:00  INFO 29085 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 29085 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:55:33.084+01:00  INFO 29085 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:55:33.111+01:00  INFO 29085 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T17:55:33.111+01:00  INFO 29085 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T17:55:33.543+01:00  INFO 29085 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:55:33.589+01:00  INFO 29085 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 4 JPA repository interfaces.
2024-12-06T17:55:34.097+01:00  INFO 29085 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T17:55:34.104+01:00  INFO 29085 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T17:55:34.105+01:00  INFO 29085 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T17:55:34.129+01:00  INFO 29085 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T17:55:34.129+01:00  INFO 29085 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1018 ms
2024-12-06T17:55:34.248+01:00  INFO 29085 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:55:34.275+01:00  INFO 29085 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T17:55:34.299+01:00  INFO 29085 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:55:34.470+01:00  INFO 29085 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:55:34.490+01:00  INFO 29085 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:55:34.651+01:00  INFO 29085 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@3df64cf5
2024-12-06T17:55:34.652+01:00  INFO 29085 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:55:34.670+01:00  WARN 29085 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:55:35.244+01:00  INFO 29085 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:55:35.272+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    create table customers (
        customer_id bigint generated by default as identity,
        name varchar(100) not null,
        sector varchar(100) not null,
        version bigint,
        user_id bigint,
        primary key (customer_id)
    )
2024-12-06T17:55:35.376+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    create table line_items (
        line_item_id bigint generated by default as identity,
        quantity integer,
        order_id bigint,
        product_id bigint,
        primary key (line_item_id)
    )
2024-12-06T17:55:35.434+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    create table orders (
        order_id bigint generated by default as identity,
        deliver_to varchar(100) not null,
        customer_id bigint,
        primary key (order_id)
    )
2024-12-06T17:55:35.493+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    create table products (
        product_id bigint generated by default as identity,
        price float(53) not null,
        product_name varchar(100) not null,
        primary key (product_id)
    )
2024-12-06T17:55:35.560+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    create table users (
        user_id bigint generated by default as identity,
        password varchar(255) not null,
        role varchar(255) check (role in ('USER','ADMIN','MANAGER')),
        username varchar(15) not null,
        primary key (user_id)
    )
2024-12-06T17:55:35.652+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       drop constraint if exists UKeuat1oase6eqv195jvb71a93s
2024-12-06T17:55:35.660+01:00  WARN 29085 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T17:55:35.660+01:00  WARN 29085 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukeuat1oase6eqv195jvb71a93s" of relation "customers" does not exist, skipping
2024-12-06T17:55:35.660+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       add constraint UKeuat1oase6eqv195jvb71a93s unique (user_id)
2024-12-06T17:55:35.718+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       drop constraint if exists UK6qgrt64ahrw2yfhils1fre3jn
2024-12-06T17:55:35.726+01:00  WARN 29085 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T17:55:35.727+01:00  WARN 29085 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "uk6qgrt64ahrw2yfhils1fre3jn" of relation "line_items" does not exist, skipping
2024-12-06T17:55:35.727+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint UK6qgrt64ahrw2yfhils1fre3jn unique (product_id)
2024-12-06T17:55:35.785+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       drop constraint if exists UKr43af9ap4edm43mmtq01oddj6
2024-12-06T17:55:35.793+01:00  WARN 29085 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Warning Code: 0, SQLState: 00000
2024-12-06T17:55:35.793+01:00  WARN 29085 --- [restartedMain] o.h.engine.jdbc.spi.SqlExceptionHelper   : constraint "ukr43af9ap4edm43mmtq01oddj6" of relation "users" does not exist, skipping
2024-12-06T17:55:35.793+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists users 
       add constraint UKr43af9ap4edm43mmtq01oddj6 unique (username)
2024-12-06T17:55:35.852+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists customers 
       add constraint FKrh1g1a20omjmn6kurd35o3eit 
       foreign key (user_id) 
       references users
2024-12-06T17:55:35.860+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint FKcfmx8jqmqu18hhasfdf3w1m9u 
       foreign key (order_id) 
       references orders
2024-12-06T17:55:35.868+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists line_items 
       add constraint FKb3hu7cw8o38248a3pr3o1aety 
       foreign key (product_id) 
       references products
2024-12-06T17:55:35.876+01:00 DEBUG 29085 --- [restartedMain] org.hibernate.SQL                        : 
    alter table if exists orders 
       add constraint FKpxtb8awmi0dk6smoh2vp1litg 
       foreign key (customer_id) 
       references customers
2024-12-06T17:55:35.886+01:00  INFO 29085 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:55:36.084+01:00  INFO 29085 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T17:55:36.656+01:00  WARN 29085 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:55:36.756+01:00 DEBUG 29085 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:55:36.792+01:00 DEBUG 29085 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:55:36.864+01:00 DEBUG 29085 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:55:36.891+01:00 DEBUG 29085 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:55:37.153+01:00  WARN 29085 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:55:37.192+01:00  INFO 29085 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T17:55:37.254+01:00  INFO 29085 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T17:55:37.256+01:00  INFO 29085 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:55:37.279+01:00  INFO 29085 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#492dbc7c:0/SimpleConnection@32cad5af [delegate=amqp://guest@127.0.0.1:5672/, localPort=52844]
2024-12-06T17:55:37.308+01:00  INFO 29085 --- [restartedMain] org.example.Main                         : Started Main in 4.465 seconds (process running for 4.77)
2024-12-06T17:55:48.515+01:00  INFO 29366 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 29366 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T17:55:48.517+01:00  INFO 29366 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T17:55:48.530+01:00 DEBUG 29366 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3721177d
2024-12-06T17:55:49.024+01:00  INFO 29366 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T17:55:49.071+01:00  INFO 29366 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T17:55:49.579+01:00  INFO 29366 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T17:55:49.611+01:00  INFO 29366 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T17:55:49.631+01:00  INFO 29366 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T17:55:49.816+01:00  INFO 29366 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T17:55:49.834+01:00  INFO 29366 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T17:55:50.046+01:00  INFO 29366 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@4cb82b09
2024-12-06T17:55:50.047+01:00  INFO 29366 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T17:55:50.067+01:00  WARN 29366 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T17:55:50.671+01:00  INFO 29366 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T17:55:50.740+01:00  INFO 29366 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:55:50.939+01:00  INFO 29366 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T17:55:51.603+01:00  WARN 29366 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T17:55:51.738+01:00 DEBUG 29366 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T17:55:51.876+01:00 DEBUG 29366 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T17:55:51.907+01:00 DEBUG 29366 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T17:55:51.936+01:00 DEBUG 29366 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T17:55:52.194+01:00  WARN 29366 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T17:55:52.244+01:00  INFO 29366 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T17:55:52.244+01:00  INFO 29366 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T17:55:52.246+01:00  INFO 29366 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T17:55:52.285+01:00  INFO 29366 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T17:55:52.309+01:00  INFO 29366 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2cef4321:0/SimpleConnection@b536551 [delegate=amqp://guest@127.0.0.1:5672/, localPort=60604]
2024-12-06T17:55:52.343+01:00  INFO 29366 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.035 seconds (process running for 4.701)
2024-12-06T17:55:52.780+01:00 DEBUG 29366 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T17:55:52.801+01:00 DEBUG 29366 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T17:55:53.099+01:00 DEBUG 29366 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T17:55:53.101+01:00 DEBUG 29366 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T17:55:53.171+01:00 DEBUG 29366 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T17:55:53.173+01:00 DEBUG 29366 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T17:55:53.191+01:00 DEBUG 29366 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3721177d, started on Fri Dec 06 17:55:48 CET 2024
2024-12-06T17:55:53.197+01:00  INFO 29366 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T17:55:53.336+01:00  INFO 29366 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T17:55:53.342+01:00  INFO 29366 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T17:55:53.344+01:00  INFO 29366 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T17:55:53.347+01:00  INFO 29366 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:02:54.220+01:00  INFO 29085 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 8 class path changes (0 additions, 0 deletions, 8 modifications)
2024-12-06T18:02:54.224+01:00  INFO 29085 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:02:54.355+01:00  INFO 29085 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:02:54.364+01:00  INFO 29085 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:02:54.365+01:00  INFO 29085 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:02:54.368+01:00  INFO 29085 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:02:54.426+01:00  INFO 29085 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 29085 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:02:54.426+01:00  INFO 29085 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:02:54.542+01:00  INFO 29085 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:02:54.553+01:00  INFO 29085 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T18:02:54.686+01:00  INFO 29085 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T18:02:54.686+01:00  INFO 29085 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T18:02:54.686+01:00  INFO 29085 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T18:02:54.692+01:00  INFO 29085 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T18:02:54.692+01:00  INFO 29085 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 265 ms
2024-12-06T18:02:54.751+01:00  INFO 29085 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:02:54.753+01:00  INFO 29085 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:02:54.758+01:00  INFO 29085 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:02:54.759+01:00  INFO 29085 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:02:54.782+01:00  INFO 29085 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@7976260b
2024-12-06T18:02:54.782+01:00  INFO 29085 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:02:54.784+01:00  WARN 29085 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:02:54.846+01:00  INFO 29085 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:02:54.891+01:00  INFO 29085 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:02:55.136+01:00  WARN 29085 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:02:55.172+01:00 DEBUG 29085 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:02:55.197+01:00 DEBUG 29085 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:02:55.242+01:00 DEBUG 29085 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:02:55.254+01:00 DEBUG 29085 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:02:55.423+01:00  WARN 29085 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:02:55.451+01:00  INFO 29085 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T18:02:55.476+01:00  INFO 29085 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T18:02:55.477+01:00  INFO 29085 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:02:55.479+01:00  INFO 29085 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1093b388:0/SimpleConnection@797a6b6b [delegate=amqp://guest@127.0.0.1:5672/, localPort=59214]
2024-12-06T18:02:55.485+01:00  INFO 29085 --- [restartedMain] org.example.Main                         : Started Main in 1.078 seconds (process running for 442.947)
2024-12-06T18:02:55.486+01:00  INFO 29085 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T18:06:31.892+01:00  INFO 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T18:06:31.893+01:00  INFO 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T18:06:31.893+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T18:06:31.893+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T18:06:31.893+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T18:06:31.894+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@9e9a05b
2024-12-06T18:06:31.894+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1ca15c35
2024-12-06T18:06:31.894+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T18:06:31.895+01:00  INFO 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T18:06:32.005+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T18:06:32.019+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T18:06:32.034+01:00  WARN 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T18:06:32.042+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T18:06:32.043+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T18:06:32.078+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:06:32.090+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T18:06:32.094+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:06:32.095+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T18:06:32.100+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T18:06:32.101+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:06:36.635+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T18:06:36.636+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T18:06:36.638+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T18:06:36.640+01:00  INFO 29085 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T18:06:36.726+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:06:36.729+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T18:06:36.804+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:06:36.817+01:00  INFO 29085 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IiLCJ2ZXJzaW9uIjowLCJzdWIiOiJ1c2VybmFtZTEiLCJpYXQiOjE3MzM1MDQ3OTYsImV4cCI6MTczMzU5MTE5Nn0.WVI5H_GCia_mYeJUuOFyn9GngJ_5Pb_j7AHOjTwqzCQ],[]>
	
2024-12-06T18:06:36.821+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:06:36.821+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T18:06:36.824+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:07:03.127+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T18:07:03.128+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T18:07:03.128+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:07:03.129+01:00  INFO 29085 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T18:07:03.138+01:00 ERROR 29085 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:07:03.138+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T18:07:03.138+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:07:03.138+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T18:07:03.139+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T18:07:03.139+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T18:10:51.879+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T18:10:51.879+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T18:10:51.880+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:10:51.881+01:00  INFO 29085 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T18:10:51.882+01:00 ERROR 29085 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:10:51.882+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T18:10:51.883+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:10:51.883+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T18:10:51.883+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T18:10:51.883+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T18:12:39.111+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T18:12:39.112+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T18:12:39.112+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:12:39.113+01:00  INFO 29085 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T18:12:39.114+01:00 ERROR 29085 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:12:39.114+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T18:12:39.115+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:12:39.115+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T18:12:39.115+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T18:12:39.116+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T18:12:40.568+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T18:12:40.569+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T18:12:40.569+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:12:40.570+01:00  INFO 29085 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T18:12:40.571+01:00 ERROR 29085 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:12:40.571+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T18:12:40.571+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:12:40.572+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T18:12:40.572+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T18:12:40.572+01:00 DEBUG 29085 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T18:12:42.984+01:00  INFO 29085 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:12:43.546+01:00  INFO 29085 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:12:43.550+01:00  INFO 29085 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:12:43.550+01:00  INFO 29085 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:12:43.551+01:00  INFO 29085 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:12:47.537+01:00  INFO 32963 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 32963 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:12:47.538+01:00  INFO 32963 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:12:47.563+01:00  INFO 32963 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T18:12:47.563+01:00  INFO 32963 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T18:12:47.995+01:00  INFO 32963 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:12:48.046+01:00  INFO 32963 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T18:12:48.551+01:00  INFO 32963 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T18:12:48.560+01:00  INFO 32963 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T18:12:48.560+01:00  INFO 32963 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T18:12:48.585+01:00  INFO 32963 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T18:12:48.585+01:00  INFO 32963 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1022 ms
2024-12-06T18:12:48.712+01:00  INFO 32963 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:12:48.740+01:00  INFO 32963 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T18:12:48.767+01:00  INFO 32963 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:12:48.926+01:00  INFO 32963 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:12:48.942+01:00  INFO 32963 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:12:49.094+01:00  INFO 32963 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@5fc198d
2024-12-06T18:12:49.095+01:00  INFO 32963 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:12:49.113+01:00  WARN 32963 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:12:49.673+01:00  INFO 32963 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:12:49.735+01:00  INFO 32963 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:12:49.914+01:00  INFO 32963 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T18:12:50.458+01:00  WARN 32963 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:12:50.549+01:00 DEBUG 32963 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:12:50.582+01:00 DEBUG 32963 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:12:50.657+01:00 DEBUG 32963 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:12:50.684+01:00 DEBUG 32963 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:12:50.942+01:00  WARN 32963 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:12:50.980+01:00  INFO 32963 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T18:12:51.042+01:00  INFO 32963 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T18:12:51.044+01:00  INFO 32963 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:12:51.068+01:00  INFO 32963 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#ed7a922:0/SimpleConnection@32a84360 [delegate=amqp://guest@127.0.0.1:5672/, localPort=49782]
2024-12-06T18:12:51.098+01:00  INFO 32963 --- [restartedMain] org.example.Main                         : Started Main in 3.801 seconds (process running for 4.108)
2024-12-06T18:12:53.676+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T18:12:53.676+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T18:12:53.676+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T18:12:53.676+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T18:12:53.677+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T18:12:53.677+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4ed38897
2024-12-06T18:12:53.678+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@d4c0d4f
2024-12-06T18:12:53.678+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T18:12:53.678+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T18:12:53.777+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T18:12:53.791+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T18:12:53.805+01:00  WARN 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/order' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T18:12:53.811+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T18:12:53.812+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T18:12:53.849+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:12:53.860+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T18:12:53.868+01:00 ERROR 32963 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:12:53.869+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T18:12:53.873+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:12:53.874+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T18:12:53.876+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T18:12:53.877+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T18:14:11.937+01:00  INFO 33718 --- [Test worker] org.example.ProductTest                  : Starting ProductTest using Java 17.0.13 with PID 33718 (started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:14:11.938+01:00  INFO 33718 --- [Test worker] org.example.ProductTest                  : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:14:11.949+01:00 DEBUG 33718 --- [Test worker] o.s.w.c.s.GenericWebApplicationContext   : Refreshing org.springframework.web.context.support.GenericWebApplicationContext@3721177d
2024-12-06T18:14:12.416+01:00  INFO 33718 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:14:12.463+01:00  INFO 33718 --- [Test worker] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 4 JPA repository interfaces.
2024-12-06T18:14:13.000+01:00  INFO 33718 --- [Test worker] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:14:13.042+01:00  INFO 33718 --- [Test worker] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T18:14:13.064+01:00  INFO 33718 --- [Test worker] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:14:13.249+01:00  INFO 33718 --- [Test worker] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:14:13.269+01:00  INFO 33718 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:14:13.461+01:00  INFO 33718 --- [Test worker] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@4cb82b09
2024-12-06T18:14:13.463+01:00  INFO 33718 --- [Test worker] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:14:13.484+01:00  WARN 33718 --- [Test worker] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:14:14.113+01:00  INFO 33718 --- [Test worker] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:14:14.148+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists customers 
       alter column customer_id set data type bigint
2024-12-06T18:14:14.196+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists line_items 
       alter column line_item_id set data type bigint
2024-12-06T18:14:14.296+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists orders 
       alter column order_id set data type bigint
2024-12-06T18:14:14.354+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column product_id set data type bigint
2024-12-06T18:14:14.554+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists products 
       alter column price set data type float(53)
2024-12-06T18:14:14.621+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column user_id set data type bigint
2024-12-06T18:14:14.729+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    alter table if exists users 
       alter column password set data type varchar(255)
2024-12-06T18:14:14.833+01:00  INFO 33718 --- [Test worker] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:14:15.036+01:00  INFO 33718 --- [Test worker] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T18:14:15.729+01:00  WARN 33718 --- [Test worker] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:14:15.872+01:00 DEBUG 33718 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:14:15.986+01:00 DEBUG 33718 --- [Test worker] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:14:16.016+01:00 DEBUG 33718 --- [Test worker] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:14:16.045+01:00 DEBUG 33718 --- [Test worker] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:14:16.302+01:00  WARN 33718 --- [Test worker] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:14:16.345+01:00  INFO 33718 --- [Test worker] o.s.b.t.m.w.SpringBootMockServletContext : Initializing Spring TestDispatcherServlet ''
2024-12-06T18:14:16.346+01:00  INFO 33718 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Initializing Servlet ''
2024-12-06T18:14:16.347+01:00  INFO 33718 --- [Test worker] o.s.t.web.servlet.TestDispatcherServlet  : Completed initialization in 1 ms
2024-12-06T18:14:16.389+01:00  INFO 33718 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:14:16.413+01:00  INFO 33718 --- [Test worker] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#591e27f1:0/SimpleConnection@53b0fbf6 [delegate=amqp://guest@127.0.0.1:5672/, localPort=47490]
2024-12-06T18:14:16.445+01:00  INFO 33718 --- [Test worker] org.example.ProductTest                  : Started ProductTest in 4.707 seconds (process running for 5.377)
2024-12-06T18:14:16.835+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T18:14:16.851+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T18:14:16.941+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T18:14:16.943+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T18:14:17.016+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        users
        (password, role, username) 
    values
        (?, ?, ?) 
    returning user_id
2024-12-06T18:14:17.018+01:00 DEBUG 33718 --- [Test worker] org.hibernate.SQL                        : 
    insert 
    into
        customers
        (name, sector, user_id, version) 
    values
        (?, ?, ?, ?) 
    returning customer_id
2024-12-06T18:14:17.042+01:00 DEBUG 33718 --- [SpringApplicationShutdownHook] o.s.w.c.s.GenericWebApplicationContext   : Closing org.springframework.web.context.support.GenericWebApplicationContext@3721177d, started on Fri Dec 06 18:14:11 CET 2024
2024-12-06T18:14:17.047+01:00  INFO 33718 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:14:17.439+01:00  INFO 33718 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:14:17.445+01:00  INFO 33718 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:14:17.446+01:00  INFO 33718 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:14:17.449+01:00  INFO 33718 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:14:35.343+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T18:14:35.344+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T18:14:35.346+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-2] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T18:14:35.347+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T18:14:35.435+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:14:35.439+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T18:14:35.516+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:14:35.529+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IiLCJ2ZXJzaW9uIjowLCJzdWIiOiJ1c2VybmFtZTEiLCJpYXQiOjE3MzM1MDUyNzUsImV4cCI6MTczMzU5MTY3NX0.MphyJIi-ReuGC0eNKzmINr3kSdAtF2kQXTRerrbycss],[]>
	
2024-12-06T18:14:35.533+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:14:35.533+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T18:14:35.536+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:14:47.417+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T18:14:47.417+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T18:14:47.418+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-3] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:14:47.418+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T18:14:47.420+01:00 ERROR 32963 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:14:47.420+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T18:14:47.420+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:14:47.420+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T18:14:47.421+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T18:14:47.421+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T18:15:44.077+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T18:15:44.077+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T18:15:44.082+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T18:15:44.084+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T18:15:44.085+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:15:44.085+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T18:15:44.085+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T18:15:44.086+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:15:53.182+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T18:15:53.182+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T18:15:53.183+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T18:15:53.185+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:update
2024-12-06T18:15:53.193+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    update
        customers c1_0 
    set
        name=?,
        sector=?,
        version=(c1_0.version+1) 
    where
        c1_0.customer_id=?
2024-12-06T18:15:53.205+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T18:15:53.207+01:00  WARN 32963 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.e.c.r.CacheInvalidationListener        : Cache #1 -> invalidated successfully!
2024-12-06T18:15:53.210+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T18:15:53.231+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=1],[]>
	
2024-12-06T18:15:53.232+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:15:53.232+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=1]]
2024-12-06T18:15:53.234+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:15:54.618+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T18:15:54.620+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T18:15:54.624+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/1", parameters={}
2024-12-06T18:15:54.625+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T18:15:54.625+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T18:15:54.626+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T18:15:54.626+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:15:54.626+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T18:15:54.627+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-7] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T18:15:54.627+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:16:24.844+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T18:16:24.844+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T18:16:24.845+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-8] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T18:16:24.845+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T18:16:24.847+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:16:24.848+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T18:16:24.925+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-8] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:16:24.927+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IxIiwidmVyc2lvbiI6MSwic3ViIjoidXNlcm5hbWUxIiwiaWF0IjoxNzMzNTA1Mzg0LCJleHAiOjE3MzM1OTE3ODR9.evL-DzcMoXY9rei7MZlq4QzmIM_9yajupLcnDbW5ask],[]>
	
2024-12-06T18:16:24.928+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:16:24.928+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T18:16:24.928+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:16:45.286+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T18:16:45.286+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T18:16:45.287+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:16:45.287+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-10] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T18:16:45.289+01:00 ERROR 32963 --- [http-nio-0.0.0.0-8080-exec-10] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:16:45.289+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T18:16:45.289+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:16:45.290+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T18:16:45.290+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T18:16:45.291+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T18:17:39.817+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/1", parameters={}
2024-12-06T18:17:39.817+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-4] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#read(Long)
2024-12-06T18:17:39.818+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T18:17:39.818+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:17:39.819+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-4] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T18:17:39.819+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-4] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T18:17:39.819+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-4] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:17:49.443+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T18:17:49.444+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T18:17:49.444+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username1, password=password]]
2024-12-06T18:17:49.444+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-5] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T18:17:49.446+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:17:49.448+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T18:17:49.528+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:17:49.529+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-5] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiOiJzZWN0b3IxIiwidmVyc2lvbiI6MSwic3ViIjoidXNlcm5hbWUxIiwiaWF0IjoxNzMzNTA1NDY5LCJleHAiOjE3MzM1OTE4Njl9.4pCdWbB9_KJns0ycNXLngw6hdk-A3U1y2ZYV2p_NptA],[]>
	
2024-12-06T18:17:49.530+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:17:49.530+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoxLCJzZWN0b3IiO (truncated)...]
2024-12-06T18:17:49.530+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:18:09.203+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/1", parameters={}
2024-12-06T18:18:09.204+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#read(Long)
2024-12-06T18:18:09.205+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:read
2024-12-06T18:18:09.205+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=1],[]>
	
2024-12-06T18:18:09.206+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:18:09.206+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=1, name=name1, sector=sector1, orders=[], userId=1, version=1]]
2024-12-06T18:18:09.207+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:23:35.936+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/order", parameters={}
2024-12-06T18:23:35.936+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.order.controller.OrderController#create(RequestOrderDTO)
2024-12-06T18:23:35.937+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:23:35.937+01:00  INFO 32963 --- [http-nio-0.0.0.0-8080-exec-10] org.example.logging.loggingAspect        : 
Name:org.example.order.controller.OrderController
	Args:create
2024-12-06T18:23:35.939+01:00 ERROR 32963 --- [http-nio-0.0.0.0-8080-exec-10] org.example.logging.loggingAspect        : 
Name:create
	Args:[RequestOrderDTO[deliverTo=deliverTo, customerId=1, lineItems=[]]]
2024-12-06T18:23:35.939+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T18:23:35.939+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:23:35.939+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Detached entity with generated id '1' has an uninitialized version value 'null (truncated)..."]
2024-12-06T18:23:35.939+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.dao.DataIntegrityViolationException: Detached entity with generated id '1' has an uninitialized version value 'null' : org.example.customer.domain.Customer.version]
2024-12-06T18:23:35.940+01:00 DEBUG 32963 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T18:23:39.079+01:00  INFO 32963 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:23:39.260+01:00  INFO 32963 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:23:39.267+01:00  INFO 32963 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:23:39.269+01:00  INFO 32963 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:23:39.271+01:00  INFO 32963 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:29:46.898+01:00  INFO 37830 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 37830 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:29:46.899+01:00  INFO 37830 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:29:46.922+01:00  INFO 37830 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T18:29:46.923+01:00  INFO 37830 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T18:29:47.383+01:00  INFO 37830 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:29:47.436+01:00  INFO 37830 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 48 ms. Found 4 JPA repository interfaces.
2024-12-06T18:29:47.949+01:00  INFO 37830 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T18:29:47.958+01:00  INFO 37830 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T18:29:47.958+01:00  INFO 37830 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T18:29:47.984+01:00  INFO 37830 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T18:29:47.985+01:00  INFO 37830 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1062 ms
2024-12-06T18:29:48.115+01:00  INFO 37830 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:29:48.144+01:00  INFO 37830 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T18:29:48.171+01:00  INFO 37830 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:29:48.346+01:00  INFO 37830 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:29:48.363+01:00  INFO 37830 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:29:48.531+01:00  INFO 37830 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@5fc198d
2024-12-06T18:29:48.532+01:00  INFO 37830 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:29:48.550+01:00  WARN 37830 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:29:49.129+01:00  INFO 37830 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:29:49.193+01:00  INFO 37830 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:29:49.372+01:00  INFO 37830 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T18:29:49.914+01:00  WARN 37830 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:29:50.006+01:00 DEBUG 37830 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:29:50.040+01:00 DEBUG 37830 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:29:50.124+01:00 DEBUG 37830 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:29:50.157+01:00 DEBUG 37830 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:29:50.459+01:00  WARN 37830 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:29:50.508+01:00  INFO 37830 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T18:29:50.581+01:00  INFO 37830 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T18:29:50.585+01:00  INFO 37830 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:29:50.612+01:00  INFO 37830 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#ed7a922:0/SimpleConnection@20ac73f9 [delegate=amqp://guest@127.0.0.1:5672/, localPort=39210]
2024-12-06T18:29:50.646+01:00  INFO 37830 --- [restartedMain] org.example.Main                         : Started Main in 4.001 seconds (process running for 4.332)
2024-12-06T18:29:52.133+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T18:29:52.133+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T18:29:52.133+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T18:29:52.133+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T18:29:52.133+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T18:29:52.134+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@661e12a9
2024-12-06T18:29:52.135+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6ded168
2024-12-06T18:29:52.135+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T18:29:52.135+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T18:29:52.144+01:00  WARN 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/v1/auth/authentication' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T18:29:52.154+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T18:29:52.156+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T18:29:52.211+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username2, password=password]]
2024-12-06T18:29:52.218+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T18:29:52.349+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:29:52.357+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T18:29:52.451+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:29:52.476+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoyLCJzZWN0b3IiOiJzZWN0b3IiLCJ2ZXJzaW9uIjowLCJzdWIiOiJ1c2VybmFtZTIiLCJpYXQiOjE3MzM1MDYxOTIsImV4cCI6MTczMzU5MjU5Mn0.1WAmYnI_o3LIvbJIzCitvBvdwyecerrZCmZltrHLzIA],[]>
	
2024-12-06T18:29:52.483+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:29:52.483+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoyLCJzZWN0b3IiO (truncated)...]
2024-12-06T18:29:52.488+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:30:13.061+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T18:30:13.065+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T18:30:13.069+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:30:13.070+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-2] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:30:13.077+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:30:13.077+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T18:30:13.078+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:30:13.078+01:00 ERROR 37830 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:current
	Args:[]
2024-12-06T18:30:13.079+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T18:30:13.080+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:30:13.080+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: UNAUTHORIZED"]
2024-12-06T18:30:13.081+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.example.customer.application.impl.CustomerServiceImpl$2: UNAUTHORIZED]
2024-12-06T18:30:13.081+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:30:36.810+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:30:36.811+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T18:30:36.811+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:30:36.811+01:00 ERROR 37830 --- [http-nio-0.0.0.0-8080-exec-3] org.example.logging.loggingAspect        : 
Name:current
	Args:[]
2024-12-06T18:30:36.811+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T18:30:36.811+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:30:36.811+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: UNAUTHORIZED"]
2024-12-06T18:30:36.812+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.example.customer.application.impl.CustomerServiceImpl$2: UNAUTHORIZED]
2024-12-06T18:30:36.812+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:31:20.987+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:31:20.988+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T18:31:20.988+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:31:20.988+01:00 ERROR 37830 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Name:current
	Args:[]
2024-12-06T18:31:20.989+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T18:31:20.989+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:31:20.989+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: UNAUTHORIZED"]
2024-12-06T18:31:20.990+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.example.customer.application.impl.CustomerServiceImpl$2: UNAUTHORIZED]
2024-12-06T18:31:20.990+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:31:40.813+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:31:40.813+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T18:31:40.813+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:31:40.813+01:00 ERROR 37830 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Name:current
	Args:[]
2024-12-06T18:31:40.814+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T18:31:40.814+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:31:40.814+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: UNAUTHORIZED"]
2024-12-06T18:31:40.815+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-8] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.example.customer.application.impl.CustomerServiceImpl$2: UNAUTHORIZED]
2024-12-06T18:31:40.815+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:32:22.023+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T18:32:22.024+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-10] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T18:32:22.025+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-10] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username2, password=password]]
2024-12-06T18:32:22.026+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-10] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T18:32:22.029+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:32:22.030+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T18:32:22.109+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-10] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:32:22.111+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-10] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoyLCJzZWN0b3IiOiJzZWN0b3IiLCJ2ZXJzaW9uIjowLCJzdWIiOiJ1c2VybmFtZTIiLCJpYXQiOjE3MzM1MDYzNDIsImV4cCI6MTczMzU5Mjc0Mn0._xagGUDspvCKY9twd9VvNJ1AE9wNMZlzGhwF8EAEEY0],[]>
	
2024-12-06T18:32:22.111+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:32:22.111+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-10] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoyLCJzZWN0b3IiO (truncated)...]
2024-12-06T18:32:22.112+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-10] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:32:34.900+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:32:34.900+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T18:32:34.901+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:32:34.901+01:00 ERROR 37830 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:current
	Args:[]
2024-12-06T18:32:34.901+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T18:32:34.901+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:32:34.901+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: UNAUTHORIZED"]
2024-12-06T18:32:34.902+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.example.customer.application.impl.CustomerServiceImpl$2: UNAUTHORIZED]
2024-12-06T18:32:34.902+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:33:47.466+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:33:47.466+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T18:33:47.466+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-5] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:33:47.467+01:00 ERROR 37830 --- [http-nio-0.0.0.0-8080-exec-5] org.example.logging.loggingAspect        : 
Name:current
	Args:[]
2024-12-06T18:33:47.467+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T18:33:47.467+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:33:47.468+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: UNAUTHORIZED"]
2024-12-06T18:33:47.469+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-5] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.example.customer.application.impl.CustomerServiceImpl$2: UNAUTHORIZED]
2024-12-06T18:33:47.469+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:33:51.308+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:33:51.308+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T18:33:51.308+01:00  INFO 37830 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:33:51.308+01:00 ERROR 37830 --- [http-nio-0.0.0.0-8080-exec-6] org.example.logging.loggingAspect        : 
Name:current
	Args:[]
2024-12-06T18:33:51.309+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T18:33:51.309+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:33:51.309+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: UNAUTHORIZED"]
2024-12-06T18:33:51.310+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.example.customer.application.impl.CustomerServiceImpl$2: UNAUTHORIZED]
2024-12-06T18:33:51.310+01:00 DEBUG 37830 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:33:57.251+01:00  INFO 37830 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 4 class path changes (0 additions, 4 deletions, 0 modifications)
2024-12-06T18:33:57.255+01:00  INFO 37830 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:33:57.666+01:00  INFO 37830 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:33:57.675+01:00  INFO 37830 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:33:57.678+01:00  INFO 37830 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:33:57.684+01:00  INFO 37830 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:33:57.761+01:00  INFO 37830 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 37830 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:33:57.761+01:00  INFO 37830 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:33:57.890+01:00  INFO 37830 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:33:57.901+01:00  INFO 37830 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 4 JPA repository interfaces.
2024-12-06T18:33:58.019+01:00  INFO 37830 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T18:33:58.020+01:00  INFO 37830 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T18:33:58.020+01:00  INFO 37830 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T18:33:58.025+01:00  INFO 37830 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T18:33:58.025+01:00  INFO 37830 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 262 ms
2024-12-06T18:33:58.125+01:00  INFO 37830 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:33:58.128+01:00  INFO 37830 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:33:58.137+01:00  INFO 37830 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:33:58.138+01:00  INFO 37830 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:33:58.161+01:00  INFO 37830 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@15b066aa
2024-12-06T18:33:58.161+01:00  INFO 37830 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:33:58.163+01:00  WARN 37830 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:33:58.252+01:00  INFO 37830 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:33:58.326+01:00  INFO 37830 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:33:58.623+01:00  WARN 37830 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:33:58.670+01:00 DEBUG 37830 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:33:58.701+01:00 DEBUG 37830 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:33:58.752+01:00 DEBUG 37830 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:33:58.764+01:00 DEBUG 37830 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:33:59.010+01:00  WARN 37830 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:33:59.051+01:00  INFO 37830 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T18:33:59.085+01:00  INFO 37830 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T18:33:59.086+01:00  INFO 37830 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:33:59.088+01:00  INFO 37830 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#31bfea5b:0/SimpleConnection@602ea6a8 [delegate=amqp://guest@127.0.0.1:5672/, localPort=57490]
2024-12-06T18:33:59.094+01:00  INFO 37830 --- [restartedMain] org.example.Main                         : Started Main in 1.356 seconds (process running for 252.78)
2024-12-06T18:33:59.096+01:00  INFO 37830 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T18:33:59.906+01:00  INFO 37830 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:34:00.091+01:00  INFO 37830 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:34:00.094+01:00  INFO 37830 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:34:00.095+01:00  INFO 37830 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:34:00.096+01:00  INFO 37830 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:34:02.799+01:00  INFO 39652 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 39652 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:34:02.800+01:00  INFO 39652 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:34:02.834+01:00  INFO 39652 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T18:34:02.835+01:00  INFO 39652 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T18:34:03.290+01:00  INFO 39652 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:34:03.339+01:00  INFO 39652 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 45 ms. Found 4 JPA repository interfaces.
2024-12-06T18:34:03.873+01:00  INFO 39652 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T18:34:03.881+01:00  INFO 39652 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T18:34:03.881+01:00  INFO 39652 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T18:34:03.908+01:00  INFO 39652 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T18:34:03.909+01:00  INFO 39652 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1074 ms
2024-12-06T18:34:04.035+01:00  INFO 39652 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:34:04.064+01:00  INFO 39652 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T18:34:04.090+01:00  INFO 39652 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:34:04.260+01:00  INFO 39652 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:34:04.277+01:00  INFO 39652 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:34:04.438+01:00  INFO 39652 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@354d6f79
2024-12-06T18:34:04.439+01:00  INFO 39652 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:34:04.457+01:00  WARN 39652 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:34:05.036+01:00  INFO 39652 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:34:05.111+01:00  INFO 39652 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:34:05.340+01:00  INFO 39652 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T18:34:05.880+01:00  WARN 39652 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:34:05.978+01:00 DEBUG 39652 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:34:06.013+01:00 DEBUG 39652 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:34:06.083+01:00 DEBUG 39652 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:34:06.111+01:00 DEBUG 39652 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:34:06.382+01:00  WARN 39652 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:34:06.423+01:00  INFO 39652 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T18:34:06.491+01:00  INFO 39652 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T18:34:06.493+01:00  INFO 39652 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:34:06.517+01:00  INFO 39652 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#1104c2af:0/SimpleConnection@a2b0fb7 [delegate=amqp://guest@127.0.0.1:5672/, localPort=60102]
2024-12-06T18:34:06.547+01:00  INFO 39652 --- [restartedMain] org.example.Main                         : Started Main in 4.011 seconds (process running for 4.347)
2024-12-06T18:34:10.222+01:00  INFO 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T18:34:10.222+01:00  INFO 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T18:34:10.223+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T18:34:10.223+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T18:34:10.223+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T18:34:10.224+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6f4df3c0
2024-12-06T18:34:10.224+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@18271ce0
2024-12-06T18:34:10.224+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T18:34:10.224+01:00  INFO 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T18:34:10.326+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T18:34:10.341+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T18:34:10.343+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:34:10.344+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:34:10.357+01:00  WARN 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T18:34:10.364+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:34:10.365+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T18:34:10.372+01:00  INFO 39652 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:34:10.372+01:00 ERROR 39652 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:current
	Args:[]
2024-12-06T18:34:10.373+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T18:34:10.380+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:34:10.380+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: Unable to retrieve user details."]
2024-12-06T18:34:10.383+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authentication.AuthenticationCredentialsNotFoundException: Unable to retrieve user details.]
2024-12-06T18:34:10.384+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:34:36.254+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:34:36.255+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T18:34:36.255+01:00  INFO 39652 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:34:36.255+01:00 ERROR 39652 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:current
	Args:[]
2024-12-06T18:34:36.256+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T18:34:36.256+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:34:36.256+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: Unable to retrieve user details."]
2024-12-06T18:34:36.257+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authentication.AuthenticationCredentialsNotFoundException: Unable to retrieve user details.]
2024-12-06T18:34:36.257+01:00 DEBUG 39652 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:34:37.931+01:00  INFO 39652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:34:38.545+01:00  INFO 39652 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:34:38.551+01:00  INFO 39652 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:34:38.553+01:00  INFO 39652 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:34:38.556+01:00  INFO 39652 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:34:41.370+01:00  INFO 40004 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 40004 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:34:41.371+01:00  INFO 40004 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:34:41.395+01:00  INFO 40004 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T18:34:41.395+01:00  INFO 40004 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T18:34:41.820+01:00  INFO 40004 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:34:41.871+01:00  INFO 40004 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 47 ms. Found 4 JPA repository interfaces.
2024-12-06T18:34:42.352+01:00  INFO 40004 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T18:34:42.360+01:00  INFO 40004 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T18:34:42.363+01:00  INFO 40004 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T18:34:42.385+01:00  INFO 40004 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T18:34:42.386+01:00  INFO 40004 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 990 ms
2024-12-06T18:34:42.513+01:00  INFO 40004 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:34:42.542+01:00  INFO 40004 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T18:34:42.570+01:00  INFO 40004 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:34:42.732+01:00  INFO 40004 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:34:42.748+01:00  INFO 40004 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:34:42.905+01:00  INFO 40004 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@3afb2e74
2024-12-06T18:34:42.906+01:00  INFO 40004 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:34:42.926+01:00  WARN 40004 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:34:43.489+01:00  INFO 40004 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:34:43.556+01:00  INFO 40004 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:34:43.743+01:00  INFO 40004 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T18:34:44.341+01:00  WARN 40004 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:34:44.432+01:00 DEBUG 40004 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:34:44.465+01:00 DEBUG 40004 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:34:44.534+01:00 DEBUG 40004 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:34:44.563+01:00 DEBUG 40004 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:34:44.896+01:00  WARN 40004 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:34:44.936+01:00  INFO 40004 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T18:34:44.998+01:00  INFO 40004 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T18:34:45.001+01:00  INFO 40004 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:34:45.025+01:00  INFO 40004 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#3cf8dbff:0/SimpleConnection@28ce32fd [delegate=amqp://guest@127.0.0.1:5672/, localPort=34952]
2024-12-06T18:34:45.053+01:00  INFO 40004 --- [restartedMain] org.example.Main                         : Started Main in 3.963 seconds (process running for 4.353)
2024-12-06T18:34:48.625+01:00  INFO 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T18:34:48.625+01:00  INFO 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T18:34:48.625+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T18:34:48.625+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T18:34:48.626+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T18:34:48.627+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2f6f972c
2024-12-06T18:34:48.627+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@5530f11c
2024-12-06T18:34:48.627+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T18:34:48.627+01:00  INFO 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T18:34:48.731+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T18:34:48.745+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T18:34:48.748+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:34:48.749+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:34:48.763+01:00  WARN 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T18:34:48.770+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:34:48.771+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T18:34:48.779+01:00  INFO 40004 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:34:48.779+01:00 ERROR 40004 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:current
	Args:[]
2024-12-06T18:34:48.780+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T18:34:48.787+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:34:48.787+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: Unable to retrieve user details."]
2024-12-06T18:34:48.791+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authentication.AuthenticationCredentialsNotFoundException: Unable to retrieve user details.]
2024-12-06T18:34:48.791+01:00 DEBUG 40004 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:35:14.780+01:00  INFO 40004 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (0 additions, 0 deletions, 3 modifications)
2024-12-06T18:35:14.783+01:00  INFO 40004 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:35:15.054+01:00  INFO 40004 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:35:15.060+01:00  INFO 40004 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:35:15.063+01:00  INFO 40004 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:35:15.066+01:00  INFO 40004 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:35:15.122+01:00  INFO 40004 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 40004 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:35:15.123+01:00  INFO 40004 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:35:15.236+01:00  INFO 40004 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:35:15.247+01:00  INFO 40004 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T18:35:15.363+01:00  INFO 40004 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T18:35:15.363+01:00  INFO 40004 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T18:35:15.363+01:00  INFO 40004 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T18:35:15.369+01:00  INFO 40004 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T18:35:15.369+01:00  INFO 40004 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 245 ms
2024-12-06T18:35:15.429+01:00  INFO 40004 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:35:15.431+01:00  INFO 40004 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:35:15.436+01:00  INFO 40004 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:35:15.437+01:00  INFO 40004 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:35:15.459+01:00  INFO 40004 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@289f7c7f
2024-12-06T18:35:15.460+01:00  INFO 40004 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:35:15.462+01:00  WARN 40004 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:35:15.522+01:00  INFO 40004 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:35:15.559+01:00  INFO 40004 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:35:15.799+01:00  WARN 40004 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:35:15.838+01:00 DEBUG 40004 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:35:15.869+01:00 DEBUG 40004 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:35:15.918+01:00 DEBUG 40004 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:35:15.930+01:00 DEBUG 40004 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:35:16.098+01:00  WARN 40004 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:35:16.122+01:00  INFO 40004 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T18:35:16.146+01:00  INFO 40004 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T18:35:16.147+01:00  INFO 40004 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:35:16.149+01:00  INFO 40004 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#45952a0b:0/SimpleConnection@11d95826 [delegate=amqp://guest@127.0.0.1:5672/, localPort=39402]
2024-12-06T18:35:16.154+01:00  INFO 40004 --- [restartedMain] org.example.Main                         : Started Main in 1.049 seconds (process running for 35.454)
2024-12-06T18:35:16.156+01:00  INFO 40004 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T18:38:17.617+01:00  INFO 40004 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:38:18.169+01:00  INFO 40004 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:38:18.173+01:00  INFO 40004 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:38:18.173+01:00  INFO 40004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:38:18.175+01:00  INFO 40004 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:38:20.806+01:00  INFO 42289 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 42289 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:38:20.807+01:00  INFO 42289 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:38:20.834+01:00  INFO 42289 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T18:38:20.834+01:00  INFO 42289 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T18:38:21.293+01:00  INFO 42289 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:38:21.349+01:00  INFO 42289 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 4 JPA repository interfaces.
2024-12-06T18:38:21.885+01:00  INFO 42289 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T18:38:21.894+01:00  INFO 42289 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T18:38:21.894+01:00  INFO 42289 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T18:38:21.920+01:00  INFO 42289 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T18:38:21.920+01:00  INFO 42289 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1085 ms
2024-12-06T18:38:22.054+01:00  INFO 42289 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:38:22.086+01:00  INFO 42289 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T18:38:22.114+01:00  INFO 42289 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:38:22.292+01:00  INFO 42289 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:38:22.310+01:00  INFO 42289 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:38:22.472+01:00  INFO 42289 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@3afb2e74
2024-12-06T18:38:22.473+01:00  INFO 42289 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:38:22.491+01:00  WARN 42289 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:38:23.099+01:00  INFO 42289 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:38:23.169+01:00  INFO 42289 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:38:23.361+01:00  INFO 42289 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T18:38:23.953+01:00  WARN 42289 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:38:24.056+01:00 DEBUG 42289 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:38:24.093+01:00 DEBUG 42289 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:38:24.179+01:00 DEBUG 42289 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:38:24.211+01:00 DEBUG 42289 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:38:24.493+01:00  WARN 42289 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:38:24.538+01:00  INFO 42289 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T18:38:24.603+01:00  INFO 42289 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T18:38:24.606+01:00  INFO 42289 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:38:24.630+01:00  INFO 42289 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#60b27e96:0/SimpleConnection@29f2d669 [delegate=amqp://guest@127.0.0.1:5672/, localPort=53698]
2024-12-06T18:38:24.662+01:00  INFO 42289 --- [restartedMain] org.example.Main                         : Started Main in 4.12 seconds (process running for 4.434)
2024-12-06T18:38:29.133+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T18:38:29.133+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T18:38:29.133+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T18:38:29.133+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T18:38:29.133+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T18:38:29.135+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@c4e61e9
2024-12-06T18:38:29.135+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1d0d2737
2024-12-06T18:38:29.135+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T18:38:29.136+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2024-12-06T18:38:29.248+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T18:38:29.265+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T18:38:29.268+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:38:29.269+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:38:29.285+01:00  WARN 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T18:38:29.292+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:38:29.294+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current(UserDetails)
2024-12-06T18:38:29.310+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:38:29.313+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,[]>
	
2024-12-06T18:38:29.331+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:38:29.332+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2024-12-06T18:38:29.333+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:38:33.796+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:38:33.797+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current(UserDetails)
2024-12-06T18:38:33.797+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:38:33.797+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-2] org.example.logging.loggingAspect        : 
Result: <200 OK OK,[]>
	
2024-12-06T18:38:33.798+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:38:33.798+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2024-12-06T18:38:33.798+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:40:30.067+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : PUT "/api/customer/2", parameters={}
2024-12-06T18:40:30.067+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-5] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#update(Long, RequestCustomerDTO)
2024-12-06T18:40:30.097+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-5] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestCustomerDTO[name=name1, sector=sector1, orders=null, userId=null]]
2024-12-06T18:40:30.103+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-5] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:update
2024-12-06T18:40:30.111+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    update
        customers c1_0 
    set
        name=?,
        sector=?,
        version=(c1_0.version+1) 
    where
        c1_0.customer_id=?
2024-12-06T18:40:30.123+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        distinct c1_0.customer_id,
        c1_0.name,
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to,
        c1_0.sector,
        c1_0.user_id,
        c1_0.version 
    from
        customers c1_0 
    left join
        orders o1_0 
            on c1_0.customer_id=o1_0.customer_id 
    where
        c1_0.customer_id=?
2024-12-06T18:40:30.124+01:00  WARN 42289 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-1] o.e.c.r.CacheInvalidationListener        : Cache #2 -> invalidated successfully!
2024-12-06T18:40:30.126+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    left join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T18:40:30.128+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:40:30.129+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-5] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:40:30.148+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-5] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseCustomerDTO[id=2, name=name1, sector=sector1, orders=[ResponseOrderDTO[id=2, deliverTo=456 Oak St, Town, customerId=2, lineItems=[]], ResponseOrderDTO[id=5, deliverTo=456 Oak St, Town, customerId=2, lineItems=[]]], userId=2, version=1],[]>
	
2024-12-06T18:40:30.149+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:40:30.150+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-5] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseCustomerDTO[id=2, name=name1, sector=sector1, orders=[ResponseOrderDTO[id=2, deliverTo=456 O (truncated)...]
2024-12-06T18:40:30.158+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-5] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:40:38.139+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T18:40:38.141+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T18:40:38.142+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:40:38.144+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-6] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:40:38.148+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:40:38.149+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-6] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current(UserDetails)
2024-12-06T18:40:38.151+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T18:40:38.151+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:40:38.152+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-6] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T18:40:38.152+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-6] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T18:40:38.153+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-6] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:40:42.255+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : POST "/api/v1/auth/authentication", parameters={}
2024-12-06T18:40:42.255+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-7] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.authentication.controller.AuthController#authentication(RequestLoginDTO)
2024-12-06T18:40:42.258+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-7] m.m.a.RequestResponseBodyMethodProcessor : Read "application/json;charset=UTF-8" to [RequestLoginDTO[username=username2, password=password]]
2024-12-06T18:40:42.259+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Name:org.example.authentication.controller.AuthController
	Args:authentication
2024-12-06T18:40:42.345+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:40:42.348+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username,
        c1_0.version 
    from
        customers c1_0 
    left join
        users u1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        c1_0.user_id=?
2024-12-06T18:40:42.424+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-7] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    where
        u1_0.username=?
2024-12-06T18:40:42.435+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-7] org.example.logging.loggingAspect        : 
Result: <200 OK OK,ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoyLCJzZWN0b3IiOiJzZWN0b3IxIiwidmVyc2lvbiI6MSwic3ViIjoidXNlcm5hbWUyIiwiaWF0IjoxNzMzNTA2ODQyLCJleHAiOjE3MzM1OTMyNDJ9.88cy4z-E5fHekpNBnDACeIbtMxx5EBPxMBhGAfCHKLc],[]>
	
2024-12-06T18:40:42.436+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:40:42.436+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-7] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [ResponseLoginDTO[jwtToken=eyJhbGciOiJIUzI1NiJ9.eyJyb2xlIjoiVVNFUiIsImN1c3RvbWVyX2lkIjoyLCJzZWN0b3IiO (truncated)...]
2024-12-06T18:40:42.436+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-7] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:40:54.947+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:40:54.947+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-8] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current(UserDetails)
2024-12-06T18:40:54.948+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:40:54.948+01:00  INFO 42289 --- [http-nio-0.0.0.0-8080-exec-8] org.example.logging.loggingAspect        : 
Result: <200 OK OK,[]>
	
2024-12-06T18:40:54.948+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T18:40:54.948+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-8] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Nothing to write: null body
2024-12-06T18:40:54.948+01:00 DEBUG 42289 --- [http-nio-0.0.0.0-8080-exec-8] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T18:41:15.180+01:00  INFO 42289 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2024-12-06T18:41:15.184+01:00  INFO 42289 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:41:16.130+01:00  INFO 42289 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:41:16.137+01:00  INFO 42289 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:41:16.139+01:00  INFO 42289 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:41:16.141+01:00  INFO 42289 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:41:16.198+01:00  INFO 42289 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 42289 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:41:16.198+01:00  INFO 42289 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:41:16.314+01:00  INFO 42289 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:41:16.325+01:00  INFO 42289 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 4 JPA repository interfaces.
2024-12-06T18:41:16.449+01:00  INFO 42289 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T18:41:16.450+01:00  INFO 42289 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T18:41:16.450+01:00  INFO 42289 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T18:41:16.455+01:00  INFO 42289 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T18:41:16.455+01:00  INFO 42289 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 256 ms
2024-12-06T18:41:16.523+01:00  INFO 42289 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:41:16.525+01:00  INFO 42289 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:41:16.531+01:00  INFO 42289 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:41:16.532+01:00  INFO 42289 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:41:16.556+01:00  INFO 42289 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@334e94a
2024-12-06T18:41:16.556+01:00  INFO 42289 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:41:16.559+01:00  WARN 42289 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:41:16.636+01:00  INFO 42289 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:41:16.692+01:00  INFO 42289 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:41:16.949+01:00  WARN 42289 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:41:16.984+01:00 DEBUG 42289 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:41:17.011+01:00 DEBUG 42289 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:41:17.068+01:00 DEBUG 42289 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:41:17.082+01:00 DEBUG 42289 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:41:17.269+01:00  WARN 42289 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:41:17.293+01:00  INFO 42289 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T18:41:17.317+01:00  INFO 42289 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T18:41:17.317+01:00  INFO 42289 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:41:17.319+01:00  INFO 42289 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#17e59ca:0/SimpleConnection@1fac09c7 [delegate=amqp://guest@127.0.0.1:5672/, localPort=45278]
2024-12-06T18:41:17.325+01:00  INFO 42289 --- [restartedMain] org.example.Main                         : Started Main in 1.144 seconds (process running for 177.098)
2024-12-06T18:41:17.326+01:00  INFO 42289 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T18:41:56.701+01:00  INFO 42289 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:41:57.326+01:00  INFO 42289 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:41:57.329+01:00  INFO 42289 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:41:57.330+01:00  INFO 42289 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:41:57.331+01:00  INFO 42289 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:41:59.716+01:00  INFO 43832 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 43832 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:41:59.717+01:00  INFO 43832 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:41:59.743+01:00  INFO 43832 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T18:41:59.743+01:00  INFO 43832 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T18:42:00.190+01:00  INFO 43832 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:42:00.243+01:00  INFO 43832 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 49 ms. Found 4 JPA repository interfaces.
2024-12-06T18:42:00.746+01:00  INFO 43832 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T18:42:00.754+01:00  INFO 43832 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T18:42:00.755+01:00  INFO 43832 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T18:42:00.781+01:00  INFO 43832 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T18:42:00.781+01:00  INFO 43832 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1038 ms
2024-12-06T18:42:00.906+01:00  INFO 43832 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:42:00.936+01:00  INFO 43832 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T18:42:00.960+01:00  INFO 43832 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:42:01.123+01:00  INFO 43832 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:42:01.139+01:00  INFO 43832 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:42:01.304+01:00  INFO 43832 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@a5a333b
2024-12-06T18:42:01.305+01:00  INFO 43832 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:42:01.322+01:00  WARN 43832 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:42:01.895+01:00  INFO 43832 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:42:01.959+01:00  INFO 43832 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:42:02.140+01:00  INFO 43832 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T18:42:02.727+01:00  WARN 43832 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:42:02.824+01:00 DEBUG 43832 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:42:02.861+01:00 DEBUG 43832 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:42:02.944+01:00 DEBUG 43832 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:42:02.972+01:00 DEBUG 43832 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:42:03.250+01:00  WARN 43832 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:42:03.296+01:00  INFO 43832 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T18:42:03.362+01:00  INFO 43832 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T18:42:03.365+01:00  INFO 43832 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:42:03.390+01:00  INFO 43832 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#ed7a922:0/SimpleConnection@32a84360 [delegate=amqp://guest@127.0.0.1:5672/, localPort=33170]
2024-12-06T18:42:03.420+01:00  INFO 43832 --- [restartedMain] org.example.Main                         : Started Main in 3.949 seconds (process running for 4.247)
2024-12-06T18:42:04.524+01:00  INFO 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T18:42:04.525+01:00  INFO 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T18:42:04.525+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T18:42:04.525+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T18:42:04.525+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T18:42:04.526+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@4ed38897
2024-12-06T18:42:04.526+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@d4c0d4f
2024-12-06T18:42:04.526+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T18:42:04.526+01:00  INFO 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T18:42:04.629+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T18:42:04.644+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T18:42:04.646+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:42:04.648+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T18:42:04.661+01:00  WARN 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T18:42:04.668+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T18:42:04.669+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T18:42:04.677+01:00  INFO 43832 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T18:42:04.677+01:00 ERROR 43832 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:current
	Args:[]
2024-12-06T18:42:04.678+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthenticationException(AuthenticationException)
2024-12-06T18:42:04.685+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T18:42:04.686+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["UNAUTHORIZED: Unable to retrieve user details."]
2024-12-06T18:42:04.689+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authentication.AuthenticationCredentialsNotFoundException: Unable to retrieve user details.]
2024-12-06T18:42:04.690+01:00 DEBUG 43832 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T18:56:35.906+01:00  INFO 43832 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 6 class path changes (0 additions, 0 deletions, 6 modifications)
2024-12-06T18:56:35.909+01:00  INFO 43832 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:56:36.511+01:00  INFO 43832 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:56:36.518+01:00  INFO 43832 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:56:36.520+01:00  INFO 43832 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:56:36.523+01:00  INFO 43832 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T18:56:36.576+01:00  INFO 43832 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 43832 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T18:56:36.577+01:00  INFO 43832 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T18:56:36.692+01:00  INFO 43832 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T18:56:36.703+01:00  INFO 43832 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T18:56:36.828+01:00  INFO 43832 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T18:56:36.829+01:00  INFO 43832 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T18:56:36.829+01:00  INFO 43832 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T18:56:36.835+01:00  INFO 43832 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T18:56:36.835+01:00  INFO 43832 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 257 ms
2024-12-06T18:56:36.895+01:00  INFO 43832 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T18:56:36.897+01:00  INFO 43832 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T18:56:36.902+01:00  INFO 43832 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T18:56:36.903+01:00  INFO 43832 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T18:56:36.926+01:00  INFO 43832 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@69bd9a61
2024-12-06T18:56:36.926+01:00  INFO 43832 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T18:56:36.928+01:00  WARN 43832 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T18:56:36.989+01:00  INFO 43832 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T18:56:37.026+01:00  INFO 43832 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:56:37.268+01:00  WARN 43832 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T18:56:37.307+01:00 DEBUG 43832 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T18:56:37.334+01:00 DEBUG 43832 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T18:56:37.382+01:00 DEBUG 43832 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T18:56:37.394+01:00 DEBUG 43832 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T18:56:37.584+01:00  WARN 43832 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T18:56:37.611+01:00  INFO 43832 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T18:56:37.639+01:00  INFO 43832 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T18:56:37.640+01:00  INFO 43832 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T18:56:37.642+01:00  INFO 43832 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#52f18c64:0/SimpleConnection@dffa233 [delegate=amqp://guest@127.0.0.1:5672/, localPort=45022]
2024-12-06T18:56:37.648+01:00  INFO 43832 --- [restartedMain] org.example.Main                         : Started Main in 1.09 seconds (process running for 878.475)
2024-12-06T18:56:37.649+01:00  INFO 43832 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T18:59:43.575+01:00  INFO 43832 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T18:59:43.667+01:00  INFO 43832 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T18:59:43.670+01:00  INFO 43832 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T18:59:43.671+01:00  INFO 43832 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T18:59:43.672+01:00  INFO 43832 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T19:07:12.600+01:00  INFO 48917 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 48917 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T19:07:12.602+01:00  INFO 48917 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T19:07:12.629+01:00  INFO 48917 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T19:07:12.629+01:00  INFO 48917 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T19:07:13.146+01:00  INFO 48917 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T19:07:13.194+01:00  INFO 48917 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 43 ms. Found 4 JPA repository interfaces.
2024-12-06T19:07:13.688+01:00  INFO 48917 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T19:07:13.696+01:00  INFO 48917 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T19:07:13.696+01:00  INFO 48917 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T19:07:13.721+01:00  INFO 48917 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T19:07:13.721+01:00  INFO 48917 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1091 ms
2024-12-06T19:07:13.839+01:00  INFO 48917 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T19:07:13.867+01:00  INFO 48917 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T19:07:13.892+01:00  INFO 48917 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T19:07:14.054+01:00  INFO 48917 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T19:07:14.073+01:00  INFO 48917 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T19:07:14.237+01:00  INFO 48917 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@71804feb
2024-12-06T19:07:14.238+01:00  INFO 48917 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T19:07:14.254+01:00  WARN 48917 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T19:07:14.855+01:00  INFO 48917 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T19:07:14.921+01:00  INFO 48917 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:07:15.110+01:00  INFO 48917 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T19:07:15.686+01:00  WARN 48917 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T19:07:15.785+01:00 DEBUG 48917 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T19:07:15.821+01:00 DEBUG 48917 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T19:07:15.894+01:00 DEBUG 48917 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T19:07:15.926+01:00 DEBUG 48917 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T19:07:16.194+01:00  WARN 48917 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T19:07:16.233+01:00  INFO 48917 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T19:07:16.293+01:00  INFO 48917 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T19:07:16.296+01:00  INFO 48917 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T19:07:16.319+01:00  INFO 48917 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7f98c674:0/SimpleConnection@39ea74f8 [delegate=amqp://guest@127.0.0.1:5672/, localPort=55196]
2024-12-06T19:07:16.348+01:00  INFO 48917 --- [restartedMain] org.example.Main                         : Started Main in 4.074 seconds (process running for 4.388)
2024-12-06T19:08:09.203+01:00  INFO 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T19:08:09.204+01:00  INFO 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T19:08:09.204+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T19:08:09.204+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T19:08:09.204+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T19:08:09.205+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@8b0f7a3
2024-12-06T19:08:09.205+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@6a2d3484
2024-12-06T19:08:09.205+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T19:08:09.205+01:00  INFO 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T19:08:09.315+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T19:08:09.329+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T19:08:09.332+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T19:08:09.333+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T19:08:09.347+01:00  WARN 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T19:08:09.354+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T19:08:09.355+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current()
2024-12-06T19:08:09.364+01:00  INFO 48917 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T19:08:09.366+01:00  INFO 48917 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,User(id=2, username=username2, password=$2a$10$Fewdq9D/9kooGE9b5XknOeW6ghe.JCgqW4WDcGGgeWGvNH0y.Q/AS, role=USER),[]>
	
2024-12-06T19:08:09.387+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T19:08:09.388+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=2, username=username2, password=$2a$10$Fewdq9D/9kooGE9b5XknOeW6ghe.JCgqW4WDcGGgeWGvNH0y.Q/AS (truncated)...]
2024-12-06T19:08:09.403+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T19:08:09.404+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2024-12-06T19:08:09.404+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowe (truncated)..."]
2024-12-06T19:08:09.405+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowed (1000, from `StreamWriteConstraints.getMaxNestingDepth()`)]
2024-12-06T19:08:09.405+01:00 DEBUG 48917 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T19:10:02.870+01:00  INFO 48917 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2024-12-06T19:10:02.873+01:00  INFO 48917 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T19:10:03.367+01:00  INFO 48917 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T19:10:03.374+01:00  INFO 48917 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:10:03.376+01:00  INFO 48917 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T19:10:03.378+01:00  INFO 48917 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T19:10:03.444+01:00  INFO 48917 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 48917 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T19:10:03.444+01:00  INFO 48917 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T19:10:03.572+01:00  INFO 48917 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T19:10:03.584+01:00  INFO 48917 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 4 JPA repository interfaces.
2024-12-06T19:10:03.707+01:00  INFO 48917 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T19:10:03.708+01:00  INFO 48917 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T19:10:03.708+01:00  INFO 48917 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T19:10:03.716+01:00  INFO 48917 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T19:10:03.716+01:00  INFO 48917 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 270 ms
2024-12-06T19:10:03.775+01:00  INFO 48917 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T19:10:03.777+01:00  INFO 48917 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T19:10:03.783+01:00  INFO 48917 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T19:10:03.783+01:00  INFO 48917 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T19:10:03.805+01:00  INFO 48917 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@3c2e3504
2024-12-06T19:10:03.805+01:00  INFO 48917 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T19:10:03.807+01:00  WARN 48917 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T19:10:03.870+01:00  INFO 48917 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T19:10:03.906+01:00  INFO 48917 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:10:04.160+01:00  WARN 48917 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T19:10:04.194+01:00 DEBUG 48917 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T19:10:04.221+01:00 DEBUG 48917 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T19:10:04.269+01:00 DEBUG 48917 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T19:10:04.280+01:00 DEBUG 48917 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T19:10:04.445+01:00  WARN 48917 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T19:10:04.471+01:00  INFO 48917 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T19:10:04.496+01:00  INFO 48917 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T19:10:04.497+01:00  INFO 48917 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T19:10:04.498+01:00  INFO 48917 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7cec8dca:0/SimpleConnection@18be783 [delegate=amqp://guest@127.0.0.1:5672/, localPort=49172]
2024-12-06T19:10:04.505+01:00  INFO 48917 --- [restartedMain] org.example.Main                         : Started Main in 1.083 seconds (process running for 172.545)
2024-12-06T19:10:04.506+01:00  INFO 48917 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T19:10:05.405+01:00  INFO 48917 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T19:10:05.502+01:00  INFO 48917 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T19:10:05.511+01:00  INFO 48917 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:10:05.512+01:00  INFO 48917 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T19:10:05.517+01:00  INFO 48917 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T19:10:07.542+01:00  INFO 50189 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 50189 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T19:10:07.543+01:00  INFO 50189 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T19:10:07.567+01:00  INFO 50189 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T19:10:07.567+01:00  INFO 50189 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T19:10:07.996+01:00  INFO 50189 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T19:10:08.042+01:00  INFO 50189 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T19:10:08.532+01:00  INFO 50189 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T19:10:08.540+01:00  INFO 50189 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T19:10:08.541+01:00  INFO 50189 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T19:10:08.564+01:00  INFO 50189 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T19:10:08.564+01:00  INFO 50189 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 997 ms
2024-12-06T19:10:08.685+01:00  INFO 50189 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T19:10:08.712+01:00  INFO 50189 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T19:10:08.735+01:00  INFO 50189 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T19:10:08.893+01:00  INFO 50189 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T19:10:08.909+01:00  INFO 50189 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T19:10:09.058+01:00  INFO 50189 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@71804feb
2024-12-06T19:10:09.059+01:00  INFO 50189 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T19:10:09.075+01:00  WARN 50189 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T19:10:09.621+01:00  INFO 50189 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T19:10:09.683+01:00  INFO 50189 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:10:09.858+01:00  INFO 50189 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T19:10:10.424+01:00  WARN 50189 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T19:10:10.519+01:00 DEBUG 50189 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T19:10:10.553+01:00 DEBUG 50189 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T19:10:10.630+01:00 DEBUG 50189 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T19:10:10.657+01:00 DEBUG 50189 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T19:10:10.923+01:00  WARN 50189 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T19:10:10.966+01:00  INFO 50189 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T19:10:11.030+01:00  INFO 50189 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T19:10:11.032+01:00  INFO 50189 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T19:10:11.056+01:00  INFO 50189 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7f98c674:0/SimpleConnection@6bd7d9a [delegate=amqp://guest@127.0.0.1:5672/, localPort=49174]
2024-12-06T19:10:11.086+01:00  INFO 50189 --- [restartedMain] org.example.Main                         : Started Main in 3.778 seconds (process running for 4.085)
2024-12-06T19:10:13.277+01:00  INFO 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T19:10:13.277+01:00  INFO 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T19:10:13.278+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T19:10:13.278+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T19:10:13.278+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T19:10:13.279+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@2b1acf8
2024-12-06T19:10:13.279+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@2fba5fed
2024-12-06T19:10:13.279+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T19:10:13.279+01:00  INFO 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T19:10:13.378+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T19:10:13.391+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T19:10:13.394+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T19:10:13.395+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T19:10:13.408+01:00  WARN 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T19:10:13.415+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T19:10:13.416+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current(UserDetails)
2024-12-06T19:10:13.425+01:00  INFO 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T19:10:13.427+01:00  INFO 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,User(id=2, username=username2, password=$2a$10$Fewdq9D/9kooGE9b5XknOeW6ghe.JCgqW4WDcGGgeWGvNH0y.Q/AS, role=USER),[]>
	
2024-12-06T19:10:13.447+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T19:10:13.448+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=2, username=username2, password=$2a$10$Fewdq9D/9kooGE9b5XknOeW6ghe.JCgqW4WDcGGgeWGvNH0y.Q/AS (truncated)...]
2024-12-06T19:10:13.463+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T19:10:13.464+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2024-12-06T19:10:13.464+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowe (truncated)..."]
2024-12-06T19:10:13.464+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowed (1000, from `StreamWriteConstraints.getMaxNestingDepth()`)]
2024-12-06T19:10:13.465+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T19:11:20.477+01:00  INFO 50189 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 47 class path changes (0 additions, 47 deletions, 0 modifications)
2024-12-06T19:11:20.483+01:00  INFO 50189 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T19:11:21.088+01:00  INFO 50189 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T19:11:21.095+01:00  INFO 50189 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:11:21.097+01:00  INFO 50189 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T19:11:21.100+01:00  INFO 50189 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T19:11:21.168+01:00  INFO 50189 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 50189 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T19:11:21.169+01:00  INFO 50189 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T19:11:21.305+01:00  INFO 50189 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T19:11:21.317+01:00  INFO 50189 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 11 ms. Found 4 JPA repository interfaces.
2024-12-06T19:11:21.447+01:00  INFO 50189 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T19:11:21.447+01:00  INFO 50189 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T19:11:21.447+01:00  INFO 50189 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T19:11:21.453+01:00  INFO 50189 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T19:11:21.454+01:00  INFO 50189 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 283 ms
2024-12-06T19:11:21.519+01:00  INFO 50189 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T19:11:21.521+01:00  INFO 50189 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T19:11:21.527+01:00  INFO 50189 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T19:11:21.527+01:00  INFO 50189 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T19:11:21.551+01:00  INFO 50189 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@5a67d6f0
2024-12-06T19:11:21.551+01:00  INFO 50189 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T19:11:21.553+01:00  WARN 50189 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T19:11:21.618+01:00  INFO 50189 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T19:11:21.657+01:00  INFO 50189 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:11:21.912+01:00  WARN 50189 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T19:11:21.947+01:00 DEBUG 50189 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T19:11:21.974+01:00 DEBUG 50189 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T19:11:22.019+01:00 DEBUG 50189 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T19:11:22.031+01:00 DEBUG 50189 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T19:11:22.195+01:00  WARN 50189 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T19:11:22.220+01:00  INFO 50189 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T19:11:22.245+01:00  INFO 50189 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T19:11:22.245+01:00  INFO 50189 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T19:11:22.247+01:00  INFO 50189 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5a73afc6:0/SimpleConnection@14a70401 [delegate=amqp://guest@127.0.0.1:5672/, localPort=40800]
2024-12-06T19:11:22.254+01:00  INFO 50189 --- [restartedMain] org.example.Main                         : Started Main in 1.112 seconds (process running for 75.253)
2024-12-06T19:11:22.255+01:00  INFO 50189 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T19:11:22.472+01:00  INFO 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T19:11:22.473+01:00  INFO 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T19:11:22.473+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T19:11:22.473+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T19:11:22.473+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T19:11:22.473+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@97b23c0
2024-12-06T19:11:22.474+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@bffa78b
2024-12-06T19:11:22.474+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T19:11:22.474+01:00  INFO 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T19:11:22.480+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T19:11:22.482+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T19:11:22.483+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T19:11:22.484+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T19:11:22.489+01:00  WARN 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T19:11:22.489+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T19:11:22.489+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current(UserDetails)
2024-12-06T19:11:22.490+01:00  INFO 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T19:11:22.490+01:00  INFO 50189 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,User(id=2, username=username2, password=$2a$10$Fewdq9D/9kooGE9b5XknOeW6ghe.JCgqW4WDcGGgeWGvNH0y.Q/AS, role=USER),[]>
	
2024-12-06T19:11:22.492+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T19:11:22.492+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=2, username=username2, password=$2a$10$Fewdq9D/9kooGE9b5XknOeW6ghe.JCgqW4WDcGGgeWGvNH0y.Q/AS (truncated)...]
2024-12-06T19:11:22.498+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T19:11:22.499+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2024-12-06T19:11:22.499+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowe (truncated)..."]
2024-12-06T19:11:22.499+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowed (1000, from `StreamWriteConstraints.getMaxNestingDepth()`)]
2024-12-06T19:11:22.499+01:00 DEBUG 50189 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T19:11:23.623+01:00  INFO 50189 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 47 class path changes (47 additions, 0 deletions, 0 modifications)
2024-12-06T19:11:23.625+01:00  INFO 50189 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T19:11:24.251+01:00  INFO 50189 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T19:11:24.254+01:00  INFO 50189 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:11:24.255+01:00  INFO 50189 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T19:11:24.256+01:00  INFO 50189 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T19:11:24.308+01:00  INFO 50189 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 50189 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T19:11:24.308+01:00  INFO 50189 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T19:11:24.408+01:00  INFO 50189 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T19:11:24.418+01:00  INFO 50189 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 9 ms. Found 4 JPA repository interfaces.
2024-12-06T19:11:24.532+01:00  INFO 50189 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T19:11:24.532+01:00  INFO 50189 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T19:11:24.532+01:00  INFO 50189 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T19:11:24.537+01:00  INFO 50189 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T19:11:24.537+01:00  INFO 50189 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 228 ms
2024-12-06T19:11:24.597+01:00  INFO 50189 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T19:11:24.598+01:00  INFO 50189 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T19:11:24.602+01:00  INFO 50189 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T19:11:24.603+01:00  INFO 50189 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T19:11:24.624+01:00  INFO 50189 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@d00db7b
2024-12-06T19:11:24.624+01:00  INFO 50189 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T19:11:24.626+01:00  WARN 50189 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T19:11:24.681+01:00  INFO 50189 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T19:11:24.714+01:00  INFO 50189 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:11:24.938+01:00  WARN 50189 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T19:11:24.970+01:00 DEBUG 50189 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T19:11:24.996+01:00 DEBUG 50189 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T19:11:25.039+01:00 DEBUG 50189 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T19:11:25.049+01:00 DEBUG 50189 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T19:11:25.206+01:00  WARN 50189 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T19:11:25.229+01:00  INFO 50189 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T19:11:25.252+01:00  INFO 50189 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T19:11:25.252+01:00  INFO 50189 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T19:11:25.254+01:00  INFO 50189 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#11ad55c:0/SimpleConnection@712892cd [delegate=amqp://guest@127.0.0.1:5672/, localPort=33778]
2024-12-06T19:11:25.260+01:00  INFO 50189 --- [restartedMain] org.example.Main                         : Started Main in 0.967 seconds (process running for 78.259)
2024-12-06T19:11:25.260+01:00  INFO 50189 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T19:11:27.185+01:00  INFO 50189 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T19:11:27.257+01:00  INFO 50189 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T19:11:27.259+01:00  INFO 50189 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:11:27.260+01:00  INFO 50189 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T19:11:27.261+01:00  INFO 50189 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T19:11:29.491+01:00  INFO 51315 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 51315 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T19:11:29.493+01:00  INFO 51315 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T19:11:29.516+01:00  INFO 51315 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T19:11:29.517+01:00  INFO 51315 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T19:11:29.943+01:00  INFO 51315 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T19:11:29.985+01:00  INFO 51315 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 38 ms. Found 4 JPA repository interfaces.
2024-12-06T19:11:30.460+01:00  INFO 51315 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T19:11:30.468+01:00  INFO 51315 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T19:11:30.468+01:00  INFO 51315 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T19:11:30.491+01:00  INFO 51315 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T19:11:30.491+01:00  INFO 51315 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 974 ms
2024-12-06T19:11:30.609+01:00  INFO 51315 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T19:11:30.637+01:00  INFO 51315 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T19:11:30.660+01:00  INFO 51315 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T19:11:30.821+01:00  INFO 51315 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T19:11:30.837+01:00  INFO 51315 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T19:11:30.986+01:00  INFO 51315 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@6aad8f7b
2024-12-06T19:11:30.987+01:00  INFO 51315 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T19:11:31.003+01:00  WARN 51315 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T19:11:31.584+01:00  INFO 51315 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T19:11:31.661+01:00  INFO 51315 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:11:31.845+01:00  INFO 51315 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T19:11:32.400+01:00  WARN 51315 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T19:11:32.494+01:00 DEBUG 51315 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T19:11:32.529+01:00 DEBUG 51315 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T19:11:32.608+01:00 DEBUG 51315 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T19:11:32.644+01:00 DEBUG 51315 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T19:11:32.899+01:00  WARN 51315 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T19:11:32.941+01:00  INFO 51315 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T19:11:33.004+01:00  INFO 51315 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T19:11:33.007+01:00  INFO 51315 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T19:11:33.032+01:00  INFO 51315 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#2cabcb60:0/SimpleConnection@67e2a168 [delegate=amqp://guest@127.0.0.1:5672/, localPort=33788]
2024-12-06T19:11:33.063+01:00  INFO 51315 --- [restartedMain] org.example.Main                         : Started Main in 3.801 seconds (process running for 4.105)
2024-12-06T19:11:35.725+01:00  INFO 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T19:11:35.725+01:00  INFO 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T19:11:35.725+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T19:11:35.725+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T19:11:35.725+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T19:11:35.726+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@42c59a58
2024-12-06T19:11:35.726+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@405e6cb3
2024-12-06T19:11:35.726+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T19:11:35.726+01:00  INFO 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T19:11:35.828+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T19:11:35.843+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T19:11:35.845+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T19:11:35.846+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T19:11:35.860+01:00  WARN 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T19:11:35.866+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T19:11:35.867+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current(UserDetails)
2024-12-06T19:11:35.877+01:00  INFO 51315 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T19:11:35.879+01:00  INFO 51315 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,User(id=2, username=username2, password=$2a$10$Fewdq9D/9kooGE9b5XknOeW6ghe.JCgqW4WDcGGgeWGvNH0y.Q/AS, role=USER),[]>
	
2024-12-06T19:11:35.898+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T19:11:35.899+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [User(id=2, username=username2, password=$2a$10$Fewdq9D/9kooGE9b5XknOeW6ghe.JCgqW4WDcGGgeWGvNH0y.Q/AS (truncated)...]
2024-12-06T19:11:35.915+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T19:11:35.915+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Found 'Content-Type:application/json' in response
2024-12-06T19:11:35.915+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowe (truncated)..."]
2024-12-06T19:11:35.916+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.http.converter.HttpMessageNotWritableException: Could not write JSON: Document nesting depth (1001) exceeds the maximum allowed (1000, from `StreamWriteConstraints.getMaxNestingDepth()`)]
2024-12-06T19:11:35.916+01:00 DEBUG 51315 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T19:11:55.374+01:00  INFO 51315 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 47 class path changes (0 additions, 47 deletions, 0 modifications)
2024-12-06T19:11:55.380+01:00  INFO 51315 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T19:11:56.059+01:00  INFO 51315 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T19:11:56.067+01:00  INFO 51315 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:11:56.070+01:00  INFO 51315 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T19:11:56.074+01:00  INFO 51315 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T19:11:56.138+01:00  INFO 51315 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 51315 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T19:11:56.138+01:00  INFO 51315 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T19:11:56.251+01:00  INFO 51315 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T19:11:56.261+01:00  INFO 51315 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T19:11:56.385+01:00  INFO 51315 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T19:11:56.386+01:00  INFO 51315 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T19:11:56.386+01:00  INFO 51315 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T19:11:56.392+01:00  INFO 51315 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T19:11:56.392+01:00  INFO 51315 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 253 ms
2024-12-06T19:11:56.450+01:00  INFO 51315 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T19:11:56.452+01:00  INFO 51315 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T19:11:56.458+01:00  INFO 51315 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T19:11:56.458+01:00  INFO 51315 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T19:11:56.480+01:00  INFO 51315 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@4250b167
2024-12-06T19:11:56.480+01:00  INFO 51315 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T19:11:56.482+01:00  WARN 51315 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T19:11:56.554+01:00  INFO 51315 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T19:11:56.592+01:00  INFO 51315 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:11:56.833+01:00  WARN 51315 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T19:11:56.868+01:00 DEBUG 51315 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T19:11:56.896+01:00 DEBUG 51315 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T19:11:56.948+01:00 DEBUG 51315 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T19:11:56.960+01:00 DEBUG 51315 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T19:11:57.148+01:00  WARN 51315 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T19:11:57.172+01:00  INFO 51315 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T19:11:57.199+01:00  INFO 51315 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T19:11:57.199+01:00  INFO 51315 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T19:11:57.201+01:00  INFO 51315 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#51cac62b:0/SimpleConnection@6fbea4dc [delegate=amqp://guest@127.0.0.1:5672/, localPort=33162]
2024-12-06T19:11:57.207+01:00  INFO 51315 --- [restartedMain] org.example.Main                         : Started Main in 1.087 seconds (process running for 28.249)
2024-12-06T19:11:57.208+01:00  INFO 51315 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T19:11:58.575+01:00  INFO 51315 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 47 class path changes (47 additions, 0 deletions, 0 modifications)
2024-12-06T19:11:58.576+01:00  INFO 51315 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T19:11:59.204+01:00  INFO 51315 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T19:11:59.207+01:00  INFO 51315 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:11:59.207+01:00  INFO 51315 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T19:11:59.209+01:00  INFO 51315 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T19:11:59.263+01:00  INFO 51315 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 51315 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T19:11:59.263+01:00  INFO 51315 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T19:11:59.364+01:00  INFO 51315 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T19:11:59.375+01:00  INFO 51315 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 10 ms. Found 4 JPA repository interfaces.
2024-12-06T19:11:59.486+01:00  INFO 51315 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T19:11:59.487+01:00  INFO 51315 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T19:11:59.487+01:00  INFO 51315 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T19:11:59.492+01:00  INFO 51315 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T19:11:59.492+01:00  INFO 51315 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 228 ms
2024-12-06T19:11:59.546+01:00  INFO 51315 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T19:11:59.547+01:00  INFO 51315 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T19:11:59.552+01:00  INFO 51315 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T19:11:59.552+01:00  INFO 51315 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T19:11:59.573+01:00  INFO 51315 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@746b2eb3
2024-12-06T19:11:59.574+01:00  INFO 51315 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T19:11:59.576+01:00  WARN 51315 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T19:11:59.632+01:00  INFO 51315 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T19:11:59.666+01:00  INFO 51315 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:11:59.899+01:00  WARN 51315 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T19:11:59.936+01:00 DEBUG 51315 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T19:11:59.965+01:00 DEBUG 51315 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T19:12:00.009+01:00 DEBUG 51315 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T19:12:00.019+01:00 DEBUG 51315 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T19:12:00.205+01:00  WARN 51315 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T19:12:00.231+01:00  INFO 51315 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T19:12:00.256+01:00  INFO 51315 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T19:12:00.257+01:00  INFO 51315 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T19:12:00.259+01:00  INFO 51315 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#4c28cb00:0/SimpleConnection@a3441e8 [delegate=amqp://guest@127.0.0.1:5672/, localPort=33172]
2024-12-06T19:12:00.265+01:00  INFO 51315 --- [restartedMain] org.example.Main                         : Started Main in 1.018 seconds (process running for 31.307)
2024-12-06T19:12:00.266+01:00  INFO 51315 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2024-12-06T19:18:25.312+01:00  INFO 51315 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T19:18:26.307+01:00  INFO 51315 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T19:18:26.310+01:00  INFO 51315 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:18:26.310+01:00  INFO 51315 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T19:18:26.311+01:00  INFO 51315 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T19:18:29.466+01:00  INFO 53511 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 53511 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T19:18:29.467+01:00  INFO 53511 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T19:18:29.492+01:00  INFO 53511 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T19:18:29.492+01:00  INFO 53511 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T19:18:29.939+01:00  INFO 53511 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T19:18:29.988+01:00  INFO 53511 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 44 ms. Found 4 JPA repository interfaces.
2024-12-06T19:18:30.470+01:00  INFO 53511 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T19:18:30.478+01:00  INFO 53511 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T19:18:30.478+01:00  INFO 53511 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T19:18:30.501+01:00  INFO 53511 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T19:18:30.501+01:00  INFO 53511 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1008 ms
2024-12-06T19:18:30.616+01:00  INFO 53511 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T19:18:30.645+01:00  INFO 53511 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T19:18:30.668+01:00  INFO 53511 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T19:18:30.829+01:00  INFO 53511 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T19:18:30.845+01:00  INFO 53511 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T19:18:30.997+01:00  INFO 53511 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@3e9bf910
2024-12-06T19:18:30.998+01:00  INFO 53511 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T19:18:31.018+01:00  WARN 53511 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T19:18:31.573+01:00  INFO 53511 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T19:18:31.636+01:00  INFO 53511 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:18:31.823+01:00  INFO 53511 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T19:18:32.391+01:00  WARN 53511 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T19:18:32.489+01:00 DEBUG 53511 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T19:18:32.524+01:00 DEBUG 53511 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T19:18:32.599+01:00 DEBUG 53511 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T19:18:32.630+01:00 DEBUG 53511 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T19:18:32.892+01:00  WARN 53511 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T19:18:32.938+01:00  INFO 53511 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T19:18:33.004+01:00  INFO 53511 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T19:18:33.007+01:00  INFO 53511 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T19:18:33.032+01:00  INFO 53511 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#77ca8efa:0/SimpleConnection@2669d960 [delegate=amqp://guest@127.0.0.1:5672/, localPort=49438]
2024-12-06T19:18:33.063+01:00  INFO 53511 --- [restartedMain] org.example.Main                         : Started Main in 3.869 seconds (process running for 4.18)
2024-12-06T19:18:42.195+01:00  INFO 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T19:18:42.195+01:00  INFO 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T19:18:42.195+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T19:18:42.195+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T19:18:42.195+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T19:18:42.196+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@77250891
2024-12-06T19:18:42.197+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@1196a97
2024-12-06T19:18:42.197+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T19:18:42.197+01:00  INFO 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T19:18:42.296+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        u1_0.user_id,
        c1_0.customer_id,
        c1_0.name,
        c1_0.sector,
        c1_0.version,
        u1_0.password,
        u1_0.role,
        u1_0.username 
    from
        users u1_0 
    join
        customers c1_0 
            on u1_0.user_id=c1_0.user_id 
    where
        u1_0.user_id=?
2024-12-06T19:18:42.310+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        o1_0.customer_id,
        o1_0.order_id,
        o1_0.deliver_to 
    from
        orders o1_0 
    where
        o1_0.customer_id=?
2024-12-06T19:18:42.313+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T19:18:42.314+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] org.hibernate.SQL                        : 
    select
        li1_0.order_id,
        li1_0.line_item_id,
        p1_0.product_id,
        p1_0.price,
        p1_0.product_name,
        li1_0.quantity 
    from
        line_items li1_0 
    left join
        products p1_0 
            on p1_0.product_id=li1_0.product_id 
    where
        li1_0.order_id=?
2024-12-06T19:18:42.328+01:00  WARN 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T19:18:42.335+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T19:18:42.336+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current(UserDetails)
2024-12-06T19:18:42.346+01:00  INFO 53511 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T19:18:42.349+01:00  INFO 53511 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Result: <200 OK OK,CurrentDTO[authorities=[ROLE_USER], active=true, nonLocked=true, isEnabled=true, password=$2a$10$Fewdq9D/9kooGE9b5XknOeW6ghe.JCgqW4WDcGGgeWGvNH0y.Q/AS, username=username2],[]>
	
2024-12-06T19:18:42.369+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'application/json', given [*/*] and supported [application/json, application/*+json]
2024-12-06T19:18:42.370+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing [CurrentDTO[authorities=[ROLE_USER], active=true, nonLocked=true, isEnabled=true, password=$2a$10$Few (truncated)...]
2024-12-06T19:18:42.379+01:00 DEBUG 53511 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 200 OK
2024-12-06T19:19:39.333+01:00  INFO 53511 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T19:19:40.064+01:00  INFO 53511 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T19:19:40.071+01:00  INFO 53511 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:19:40.073+01:00  INFO 53511 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T19:19:40.076+01:00  INFO 53511 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T19:20:40.286+01:00  INFO 53938 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 53938 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T19:20:40.287+01:00  INFO 53938 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T19:20:40.313+01:00  INFO 53938 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T19:20:40.313+01:00  INFO 53938 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T19:20:40.748+01:00  INFO 53938 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T19:20:40.793+01:00  INFO 53938 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 41 ms. Found 4 JPA repository interfaces.
2024-12-06T19:20:41.282+01:00  INFO 53938 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T19:20:41.290+01:00  INFO 53938 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T19:20:41.290+01:00  INFO 53938 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T19:20:41.313+01:00  INFO 53938 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T19:20:41.313+01:00  INFO 53938 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 999 ms
2024-12-06T19:20:41.428+01:00  INFO 53938 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T19:20:41.456+01:00  INFO 53938 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T19:20:41.479+01:00  INFO 53938 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T19:20:41.636+01:00  INFO 53938 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T19:20:41.652+01:00  INFO 53938 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T19:20:41.799+01:00  INFO 53938 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@187fed50
2024-12-06T19:20:41.800+01:00  INFO 53938 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T19:20:41.816+01:00  WARN 53938 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T19:20:42.382+01:00  INFO 53938 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T19:20:42.445+01:00  INFO 53938 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:20:42.624+01:00  INFO 53938 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T19:20:43.178+01:00  WARN 53938 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T19:20:43.274+01:00 DEBUG 53938 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T19:20:43.310+01:00 DEBUG 53938 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T19:20:43.383+01:00 DEBUG 53938 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T19:20:43.414+01:00 DEBUG 53938 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T19:20:43.666+01:00  WARN 53938 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T19:20:43.704+01:00  INFO 53938 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T19:20:43.764+01:00  INFO 53938 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T19:20:43.766+01:00  INFO 53938 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T19:20:43.789+01:00  INFO 53938 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#5b227d2f:0/SimpleConnection@6963fb06 [delegate=amqp://guest@127.0.0.1:5672/, localPort=46838]
2024-12-06T19:20:43.819+01:00  INFO 53938 --- [restartedMain] org.example.Main                         : Started Main in 3.781 seconds (process running for 4.071)
2024-12-06T19:20:50.395+01:00  INFO 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T19:20:50.395+01:00  INFO 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T19:20:50.396+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T19:20:50.396+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T19:20:50.396+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T19:20:50.396+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@6fe653c4
2024-12-06T19:20:50.397+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@7abc89a2
2024-12-06T19:20:50.397+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T19:20:50.397+01:00  INFO 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2024-12-06T19:20:50.403+01:00  WARN 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T19:20:50.410+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T19:20:50.411+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current(UserDetails)
2024-12-06T19:20:50.423+01:00  INFO 53938 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:org.example.customer.controller.CustomerController
	Args:current
2024-12-06T19:20:50.423+01:00 ERROR 53938 --- [http-nio-0.0.0.0-8080-exec-1] org.example.logging.loggingAspect        : 
Name:current
	Args:[null]
2024-12-06T19:20:50.424+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleGeneralException(Exception)
2024-12-06T19:20:50.431+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T19:20:50.432+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Something went wrong: Cannot invoke "org.springframework.security.core.userdetails.UserDetails.getAu (truncated)..."]
2024-12-06T19:20:50.435+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [java.lang.NullPointerException: Cannot invoke "org.springframework.security.core.userdetails.UserDetails.getAuthorities()" because "userDetails" is null]
2024-12-06T19:20:50.435+01:00 DEBUG 53938 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 500 INTERNAL_SERVER_ERROR
2024-12-06T19:21:07.738+01:00  INFO 53938 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T19:21:07.816+01:00  INFO 53938 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T19:21:07.823+01:00  INFO 53938 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:21:07.825+01:00  INFO 53938 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T19:21:07.828+01:00  INFO 53938 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
2024-12-06T19:21:10.076+01:00  INFO 54244 --- [restartedMain] org.example.Main                         : Starting Main using Java 17.0.13 with PID 54244 (/home/serafim/Downloads/demo/build/classes/java/main started by serafim in /home/serafim/Downloads/demo)
2024-12-06T19:21:10.078+01:00  INFO 54244 --- [restartedMain] org.example.Main                         : No active profile set, falling back to 1 default profile: "default"
2024-12-06T19:21:10.104+01:00  INFO 54244 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2024-12-06T19:21:10.104+01:00  INFO 54244 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2024-12-06T19:21:10.556+01:00  INFO 54244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-06T19:21:10.602+01:00  INFO 54244 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 42 ms. Found 4 JPA repository interfaces.
2024-12-06T19:21:11.088+01:00  INFO 54244 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port 8080 (http)
2024-12-06T19:21:11.096+01:00  INFO 54244 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2024-12-06T19:21:11.096+01:00  INFO 54244 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.31]
2024-12-06T19:21:11.120+01:00  INFO 54244 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2024-12-06T19:21:11.120+01:00  INFO 54244 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1016 ms
2024-12-06T19:21:11.242+01:00  INFO 54244 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-06T19:21:11.270+01:00  INFO 54244 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.5.3.Final
2024-12-06T19:21:11.293+01:00  INFO 54244 --- [restartedMain] o.h.c.internal.RegionFactoryInitiator    : HHH000026: Second-level cache disabled
2024-12-06T19:21:11.453+01:00  INFO 54244 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2024-12-06T19:21:11.469+01:00  INFO 54244 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Starting...
2024-12-06T19:21:11.623+01:00  INFO 54244 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool - Added connection org.postgresql.jdbc.PgConnection@71804feb
2024-12-06T19:21:11.624+01:00  INFO 54244 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool - Start completed.
2024-12-06T19:21:11.642+01:00  WARN 54244 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000025: PostgreSQLDialect does not need to be specified explicitly using 'hibernate.dialect' (remove the property setting and it will be selected by default)
2024-12-06T19:21:12.213+01:00  INFO 54244 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000489: No JTA platform available (set 'hibernate.transaction.jta.platform' to enable JTA platform integration)
2024-12-06T19:21:12.276+01:00  INFO 54244 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:21:12.451+01:00  INFO 54244 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2024-12-06T19:21:12.980+01:00  WARN 54244 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-06T19:21:13.070+01:00 DEBUG 54244 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerMapping : 24 mappings in 'requestMappingHandlerMapping'
2024-12-06T19:21:13.102+01:00 DEBUG 54244 --- [restartedMain] o.s.w.s.handler.SimpleUrlHandlerMapping  : Patterns [/resources/**] in 'resourceHandlerMapping'
2024-12-06T19:21:13.179+01:00 DEBUG 54244 --- [restartedMain] s.w.s.m.m.a.RequestMappingHandlerAdapter : ControllerAdvice beans: 0 @ModelAttribute, 0 @InitBinder, 1 RequestBodyAdvice, 1 ResponseBodyAdvice
2024-12-06T19:21:13.210+01:00 DEBUG 54244 --- [restartedMain] .m.m.a.ExceptionHandlerExceptionResolver : ControllerAdvice beans: 1 @ExceptionHandler, 1 ResponseBodyAdvice
2024-12-06T19:21:13.475+01:00  WARN 54244 --- [restartedMain] ion$DefaultTemplateResolverConfiguration : Cannot find template location: classpath:/templates/ (please add some templates, check your Thymeleaf configuration, or set spring.thymeleaf.check-template-location=false)
2024-12-06T19:21:13.511+01:00  INFO 54244 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2024-12-06T19:21:13.575+01:00  INFO 54244 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port 8080 (http) with context path '/'
2024-12-06T19:21:13.577+01:00  INFO 54244 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Attempting to connect to: [localhost:5672]
2024-12-06T19:21:13.600+01:00  INFO 54244 --- [restartedMain] o.s.a.r.c.CachingConnectionFactory       : Created new connection: rabbitConnectionFactory#7f98c674:0/SimpleConnection@707a6a08 [delegate=amqp://guest@127.0.0.1:5672/, localPort=38138]
2024-12-06T19:21:13.629+01:00  INFO 54244 --- [restartedMain] org.example.Main                         : Started Main in 3.802 seconds (process running for 4.09)
2024-12-06T19:21:16.311+01:00  INFO 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-06T19:21:16.311+01:00  INFO 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2024-12-06T19:21:16.312+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected StandardServletMultipartResolver
2024-12-06T19:21:16.312+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected AcceptHeaderLocaleResolver
2024-12-06T19:21:16.312+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected FixedThemeResolver
2024-12-06T19:21:16.313+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.view.DefaultRequestToViewNameTranslator@770d8383
2024-12-06T19:21:16.313+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Detected org.springframework.web.servlet.support.SessionFlashMapManager@e2928f5
2024-12-06T19:21:16.313+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : enableLoggingRequestDetails='false': request parameters and headers will be masked to prevent unsafe logging of potentially sensitive data
2024-12-06T19:21:16.313+01:00  INFO 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2024-12-06T19:21:16.320+01:00  WARN 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.h.HandlerMappingIntrospector     : Cache miss for REQUEST dispatch to '/api/customer/current' (previous null). Performing MatchableHandlerMapping lookup. This is logged once only at WARN level, and every time at TRACE.
2024-12-06T19:21:16.327+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T19:21:16.328+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current(UserDetails)
2024-12-06T19:21:16.354+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T19:21:16.361+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T19:21:16.362+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T19:21:16.365+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T19:21:16.366+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T19:21:25.061+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/current", parameters={}
2024-12-06T19:21:25.062+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-2] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#current(UserDetails)
2024-12-06T19:21:25.062+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T19:21:25.063+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T19:21:25.063+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-2] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T19:21:25.064+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-2] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T19:21:25.064+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T19:21:59.557+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : GET "/api/customer/1", parameters={}
2024-12-06T19:21:59.558+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-3] s.w.s.m.m.a.RequestMappingHandlerMapping : Mapped to org.example.customer.controller.CustomerController#read(Long)
2024-12-06T19:21:59.566+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Using @ExceptionHandler org.example.configurations.globalExceptionHandler.GlobalExceptionHandler#handleAuthorizationDeniedException(AuthorizationDeniedException)
2024-12-06T19:21:59.566+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Using 'text/plain', given [*/*] and supported [text/plain, */*, application/json, application/*+json]
2024-12-06T19:21:59.566+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-3] o.s.w.s.m.m.a.HttpEntityMethodProcessor  : Writing ["Access DeniedAccess Denied"]
2024-12-06T19:21:59.567+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-3] .m.m.a.ExceptionHandlerExceptionResolver : Resolved [org.springframework.security.authorization.AuthorizationDeniedException: Access Denied]
2024-12-06T19:21:59.567+01:00 DEBUG 54244 --- [http-nio-0.0.0.0-8080-exec-3] o.s.web.servlet.DispatcherServlet        : Completed 401 UNAUTHORIZED
2024-12-06T19:23:02.295+01:00  INFO 54244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Waiting for workers to finish.
2024-12-06T19:23:02.636+01:00  INFO 54244 --- [org.springframework.amqp.rabbit.RabbitListenerEndpointContainer#0-2] o.s.a.r.l.SimpleMessageListenerContainer : Successfully waited for workers to finish.
2024-12-06T19:23:02.643+01:00  INFO 54244 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-06T19:23:02.645+01:00  INFO 54244 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown initiated...
2024-12-06T19:23:02.648+01:00  INFO 54244 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool - Shutdown completed.
